import{f as g,j as e,_ as t,P as se,L as re,m as ne,R as le,a as ie,b as ce,r as oe,e as de,i as me,c as xe,d as he}from"./index-TciQDPLB.js";const pe=({isOpen:m,onClose:x,taxonomy:i,postType:j,postId:o,onTermCreated:f})=>{const[h,v]=g.useState({name:"",description:"",parent_id:""}),[l,N]=g.useState({}),[w,C]=g.useState(!1);g.useEffect(()=>{m&&(v({name:"",description:"",parent_id:""}),N({}))},[m]),g.useEffect(()=>(m?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"),()=>document.body.classList.remove("overflow-hidden")),[m]),g.useEffect(()=>{const c=S=>{S.key==="Escape"&&m&&x()};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[m,x]);const y=async()=>{if(!w){if(!h.name||h.name.trim()===""){N({name:t("Name is required")});return}C(!0),N({});try{const S=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",k=await fetch(`/api/admin/terms/${i.name}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":S},body:JSON.stringify({name:h.name.trim(),description:h.description.trim(),parent_id:h.parent_id||null,taxonomy:i.name,post_type:j,post_id:o})}),s=await k.json();if(!k.ok){if(k.status===422&&s.errors){N(s.errors);return}throw new Error(s.message||"An error occurred")}s.term&&(f(s.term),x(),typeof window.showToast=="function"&&window.showToast("success",t("Success"),s.message||t("Term created successfully")))}catch(c){console.error("Error saving term:",c),typeof window.showToast=="function"&&window.showToast("error",t("Error"),c.message||t("Failed to create term"))}finally{C(!1)}}},_=(c,S=null,k=0)=>{const s=[];return c.filter(d=>d.parent_id===S).forEach(d=>{const r="— ".repeat(k);s.push({value:d.id,label:r+d.name}),s.push(..._(c,d.id,k+1))}),s},O=i.hierarchical?_(i.terms||[]):[];return m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-gray-900/30 backdrop-blur-sm z-[60]",onClick:x}),e.jsxs("div",{className:"fixed top-0 right-0 bottom-0 w-full sm:w-96 max-w-full z-[70] flex flex-col bg-white dark:bg-gray-800 shadow-xl border-l border-gray-200 dark:border-gray-700 transform transition-transform duration-300",children:[e.jsxs("div",{className:"px-5 py-4 flex justify-between items-center border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-base font-medium text-gray-700 dark:text-white",children:t("Add New :taxonomy").replace(":taxonomy",i.label_singular||i.label)}),e.jsx("button",{type:"button",onClick:x,className:"text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-gray-200",children:e.jsx("iconify-icon",{icon:"mdi:close",width:"20",height:"20"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-5 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[t("Name")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:h.name,onChange:c=>v({...h,name:c.target.value}),className:"form-control",placeholder:t("Enter name"),autoFocus:!0}),l.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t("Description")}),e.jsx("textarea",{value:h.description,onChange:c=>v({...h,description:c.target.value}),rows:3,className:"form-control !h-20",placeholder:t("Enter description (optional)")}),l.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.description})]}),i.hierarchical&&O.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t("Parent :taxonomy").replace(":taxonomy",i.label_singular||i.label)}),e.jsxs("select",{value:h.parent_id,onChange:c=>v({...h,parent_id:c.target.value}),className:"form-control",children:[e.jsx("option",{value:"",children:t("None")}),O.map(c=>e.jsx("option",{value:c.value,children:c.label},c.value))]})]})]}),e.jsx("div",{className:"px-5 py-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:y,disabled:w,className:"btn-primary flex items-center gap-2",children:w?e.jsxs(e.Fragment,{children:[e.jsx("iconify-icon",{icon:"mdi:loading",className:"animate-spin",width:"16",height:"16"}),t("Saving...")]}):t("Save")}),e.jsx("button",{type:"button",onClick:x,className:"btn-default",children:t("Cancel")})]})})]})]}):null},G=({terms:m,taxonomyName:x,selectedTerms:i,onTermToggle:j,parentId:o=null,level:f=0})=>{const h=o===null||o===""||o===void 0?null:parseInt(o,10),v=m.filter(l=>(l.parent_id===null||l.parent_id===""||l.parent_id===void 0?null:parseInt(l.parent_id,10))===h);return v.length===0?null:e.jsx(e.Fragment,{children:v.map(l=>{const N=parseInt(l.id,10),w=(i[x]||[]).includes(N),C=m.some(y=>(y.parent_id===null||y.parent_id===""||y.parent_id===void 0?null:parseInt(y.parent_id,10))===N);return e.jsxs("div",{children:[e.jsx("div",{className:`flex items-start py-1 ${f>0?"ml-4 border-l border-gray-200 dark:border-gray-700 pl-2":""}`,children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-1 rounded flex-1",children:[e.jsx("input",{type:"checkbox",checked:w,onChange:()=>j(x,l.id),className:"form-checkbox h-4 w-4 text-primary rounded border-gray-300 dark:border-gray-600"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:l.name})]})}),C&&e.jsx(G,{terms:m,taxonomyName:x,selectedTerms:i,onTermToggle:j,parentId:l.id,level:f+1})]},l.id)})})},ue=({terms:m,taxonomyName:x,selectedTerms:i,onTermToggle:j})=>e.jsx(e.Fragment,{children:m.map(o=>{const f=(i[x]||[]).includes(o.id);return e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-1 rounded",children:[e.jsx("input",{type:"checkbox",checked:f,onChange:()=>j(x,o.id),className:"form-checkbox h-4 w-4 text-primary rounded border-gray-300 dark:border-gray-600"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:o.name})]},o.id)})}),be=({taxonomies:m,selectedTerms:x,onTermToggle:i,onTermsUpdate:j,postType:o,postId:f})=>{const[h,v]=g.useState({}),[l,N]=g.useState(null),[w,C]=g.useState({}),[y,_]=g.useState(m);g.useEffect(()=>{_(m)},[m]);const O=g.useCallback(s=>{v(u=>({...u,[s]:u[s]===void 0?!1:!u[s]}))},[]),c=g.useCallback(s=>{const u={...s,id:parseInt(s.id,10),parent_id:s.parent_id?parseInt(s.parent_id,10):null};_(d=>d.map(r=>r.name===u.taxonomy?{...r,terms:[...r.terms||[],u]}:r)),i(u.taxonomy,u.id),j&&j(y)},[y,i,j]),S=g.useCallback((s,u)=>{C(d=>({...d,[s]:u}))},[]),k=g.useCallback((s,u)=>{if(!u)return s;const d=u.toLowerCase();return s.filter(r=>r.name.toLowerCase().includes(d))},[]);return!y||y.length===0?null:e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"mb-4 pb-2 border-b border-gray-200 dark:border-gray-700",children:e.jsx("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:t("Taxonomies")})}),y.map(s=>{const u=h[s.name]!==!1,d=w[s.name]||"",r=s.terms||[],p=k(r,d),b=(x[s.name]||[]).length;return e.jsxs("div",{className:"mb-4 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-800 px-3 py-2",children:[e.jsxs("button",{type:"button",onClick:()=>O(s.name),className:"flex items-center gap-2 flex-1 text-left text-sm font-medium text-gray-700 dark:text-gray-200 hover:text-gray-900 dark:hover:text-white",children:[e.jsx("iconify-icon",{icon:u?"mdi:chevron-down":"mdi:chevron-right",width:"18",height:"18"}),e.jsx("span",{children:s.label}),b>0&&e.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-primary/10 text-primary rounded-full",children:b})]}),e.jsx("button",{type:"button",onClick:()=>N(s),className:"p-1 text-gray-500 hover:text-primary dark:text-gray-400 dark:hover:text-primary transition-colors",title:t("Add New :taxonomy").replace(":taxonomy",s.label_singular||s.label),children:e.jsx("iconify-icon",{icon:"mdi:plus-circle",width:"20",height:"20"})})]}),u&&e.jsxs("div",{className:"p-3",children:[r.length>8&&e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"relative",children:[e.jsx("iconify-icon",{icon:"mdi:magnify",width:"16",height:"16",class:"absolute left-2.5 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",value:d,onChange:E=>S(s.name,E.target.value),placeholder:t("Search :items...").replace(":items",s.label.toLowerCase()),className:"form-control pl-8 py-1.5 text-sm"})]})}),e.jsx("div",{className:"max-h-48 overflow-y-auto",children:p.length>0?s.hierarchical?e.jsx(G,{terms:p,taxonomyName:s.name,selectedTerms:x,onTermToggle:i}):e.jsx(ue,{terms:p,taxonomyName:s.name,selectedTerms:x,onTermToggle:i}):e.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 py-2 text-center",children:d?t("No matching :items").replace(":items",s.label.toLowerCase()):t("No :items found").replace(":items",s.label.toLowerCase())})})]})]},s.name)}),l&&e.jsx(pe,{isOpen:!!l,onClose:()=>N(null),taxonomy:l,postType:o,postId:f,onTermCreated:c})]})},ge=({selectedBlock:m,onUpdate:x,onImageUpload:i,onVideoUpload:j,canvasSettings:o,onCanvasSettingsUpdate:f,title:h,setTitle:v,slug:l,setSlug:N,generateSlug:w,status:C,setStatus:y,excerpt:_,setExcerpt:O,publishedAt:c,setPublishedAt:S,parentId:k,setParentId:s,reporterId:u,setReporterId:d,postTypeMeta:r,setPostTypeMeta:p,seoData:b,setSeoData:E,selectedTerms:H,setSelectedTerms:Y,featuredImage:F,setFeaturedImage:D,removeFeaturedImage:V,setRemoveFeaturedImage:q,taxonomies:K,parentPosts:X,reporters:T,postTypeModel:R,statuses:Q,postData:P,postType:$})=>{const[U,Z]=g.useState(!1),[J,z]=g.useState(!1),I=`${window.location.origin}/admin/posts/${$||"page"}/${P?.id||l||P?.slug}`,M=()=>{navigator.clipboard.writeText(I),z(!0),setTimeout(()=>z(!1),2e3)},B=async()=>{try{const a=await ne.selectImage();a&&(D(a.url),q(!1))}catch{}},ee=(a,L)=>{Y(W=>{const A=W[a]||[],te=A.includes(L)?A.filter(ae=>ae!==L):[...A,L];return{...W,[a]:te}})};return m?e.jsx(se,{selectedBlock:m,onUpdate:x,onImageUpload:i,onVideoUpload:j,canvasSettings:o,onCanvasSettingsUpdate:f}):e.jsxs("div",{className:"h-full overflow-y-auto px-1",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"mb-4 pb-2 border-b border-gray-200",children:e.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t(":type Details").replace(":type",R.label_singular)})}),e.jsxs("div",{className:"mb-4 md:hidden",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("Title")}),e.jsx("input",{type:"text",value:h,onChange:a=>v(a.target.value),className:"form-control",placeholder:t("Enter title...")})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("Slug")}),e.jsxs("div",{className:"flex gap-2",children:[U?e.jsx("input",{type:"text",value:l,onChange:a=>N(a.target.value),className:"form-control flex-1",placeholder:"post-slug"}):e.jsx("div",{className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-200 rounded-md text-sm text-gray-600 truncate",children:l||e.jsx("span",{className:"text-gray-400 italic",children:t("auto-generated")})}),e.jsx("button",{type:"button",onClick:()=>Z(!U),className:"btn-default px-3 py-2 text-xs",children:U?t("OK"):t("Edit")}),e.jsx("button",{type:"button",onClick:w,className:"btn-default px-3 py-2 text-xs",title:t("Generate from title"),children:e.jsx("iconify-icon",{icon:"mdi:refresh",width:"16",height:"16"})})]}),(P?.id||l)&&e.jsxs("div",{className:"mt-2",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:t("Permalink")}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 px-2 py-1.5 bg-gray-50 border border-gray-200 rounded text-xs text-gray-500 truncate font-mono",children:I}),P?.id&&l&&e.jsx("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"btn-default px-2 py-1.5 text-xs",title:t("View page"),children:e.jsx("iconify-icon",{icon:"mdi:open-in-new",width:"14",height:"14"})}),e.jsx("button",{type:"button",onClick:M,className:`btn-default px-2 py-1.5 text-xs ${J?"text-green-600":""}`,title:J?t("Copied!"):t("Copy URL"),children:e.jsx("iconify-icon",{icon:J?"mdi:check":"mdi:content-copy",width:"14",height:"14"})})]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"mb-4 pb-2 border-b border-gray-200",children:e.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("Status & Visibility")})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("Status")}),e.jsx("select",{value:C,onChange:a=>y(a.target.value),className:"form-control",children:Object.entries(Q).map(([a,L])=>e.jsx("option",{value:a,children:L},a))})]}),C==="scheduled"&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("Publish Date")}),e.jsx("input",{type:"datetime-local",value:c,onChange:a=>S(a.target.value),className:"form-control"})]}),T&&T.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("Reporter")}),e.jsxs("select",{value:u,onChange:a=>d(a.target.value),className:"form-control",children:[e.jsx("option",{value:"",children:t("None")}),T.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("Post Type")}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r?.is_breaking||!1,onChange:a=>p({...r,is_breaking:a.target.checked}),className:"form-checkbox h-4 w-4 text-red-600"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:t("Breaking News")})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r?.is_featured||!1,onChange:a=>p({...r,is_featured:a.target.checked}),className:"form-checkbox h-4 w-4 text-blue-600"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:t("Featured")})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r?.is_slide||!1,onChange:a=>p({...r,is_slide:a.target.checked}),className:"form-checkbox h-4 w-4 text-cyan-600"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:t("Slide")})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r?.is_live||!1,onChange:a=>p({...r,is_live:a.target.checked}),className:"form-checkbox h-4 w-4 text-green-600"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:t("Live")})]})]})]})]}),R.supports_thumbnail&&e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"mb-4 pb-2 border-b border-gray-200",children:e.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("Featured Image")})}),e.jsxs("div",{className:"space-y-2",children:[F&&!V?e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:F,alt:"Featured",className:"w-full h-32 object-contain rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800"}),e.jsx("button",{type:"button",onClick:()=>{D(""),q(!0)},className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",title:t("Remove image"),children:e.jsx("iconify-icon",{icon:"mdi:close",width:"14",height:"14"})})]}):e.jsxs("div",{onClick:B,className:"flex flex-col items-center justify-center w-full h-32 bg-gray-50 dark:bg-gray-800 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:border-primary hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx("iconify-icon",{icon:"mdi:image-plus",className:"text-3xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t("Click to select image")})]}),F&&!V&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",onClick:B,className:"btn btn-default w-full flex items-center justify-center gap-2",children:[e.jsx("iconify-icon",{icon:"mdi:image-edit",width:"16",height:"16"}),t("Change Image")]}),e.jsx("input",{type:"text",value:r?.featured_image_caption||"",onChange:a=>p({...r,featured_image_caption:a.target.value}),className:"form-control",placeholder:t("Featured image caption...")})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"mb-4 pb-2 border-b border-gray-200",children:e.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("Featured Video URL")})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"url",value:r?.feature_video_link||"",onChange:a=>p({...r,feature_video_link:a.target.value}),className:"form-control",placeholder:"https://youtube.com/watch?v=... or https://vimeo.com/..."}),e.jsx("p",{className:"text-xs text-gray-400",children:t("Optional: Add a YouTube, Vimeo, or other video URL")})]})]}),R.supports_excerpt&&e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"mb-4 pb-2 border-b border-gray-200",children:e.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("Excerpt")})}),e.jsx("textarea",{value:_,onChange:a=>O(a.target.value),rows:3,className:"form-control-textarea",placeholder:t("A short summary of the post...")}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:t("Optional: Displayed alongside the post title in listings")})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"mb-4 pb-2 border-b border-gray-200",children:e.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("Reading Time")})}),e.jsx("input",{type:"number",value:r?.reading_time||"",onChange:a=>p({...r,reading_time:a.target.value}),className:"form-control",placeholder:t("Like: ৫")}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:t("Optional: Reading time in minutes")})]}),R.hierarchical&&Object.keys(X).length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"mb-4 pb-2 border-b border-gray-200",children:e.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("Parent :type").replace(":type",R.label_singular)})}),e.jsxs("select",{value:k,onChange:a=>s(a.target.value),className:"form-control",children:[e.jsx("option",{value:"",children:t("None")}),Object.entries(X).map(([a,L])=>e.jsx("option",{value:a,children:L},a))]})]}),K.length>0&&e.jsx(be,{taxonomies:K,selectedTerms:H,onTermToggle:ee,postType:$,postId:P?.id}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"mb-4 pb-2 border-b border-gray-200",children:e.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("SEO")})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("SEO Title")}),e.jsx("input",{type:"text",value:b?.seo_title||"",onChange:a=>E({...b,seo_title:a.target.value}),className:"form-control",placeholder:h||t("Enter SEO title...")}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:t("Leave empty to use post title")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("SEO Description")}),e.jsx("textarea",{value:b?.seo_description||"",onChange:a=>E({...b,seo_description:a.target.value}),rows:3,className:"form-control-textarea",placeholder:t("Enter meta description...")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("Keywords")}),e.jsx("input",{type:"text",value:b?.seo_keywords||"",onChange:a=>E({...b,seo_keywords:a.target.value}),className:"form-control",placeholder:t("keyword1, keyword2, keyword3")})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:b?.index!==!1,onChange:a=>E({...b,index:a.target.checked}),className:"form-checkbox h-4 w-4"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:t("Index")})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:b?.follow!==!1,onChange:a=>E({...b,follow:a.target.checked}),className:"form-checkbox h-4 w-4"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:t("Follow")})]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"mb-4 pb-2 border-b border-gray-200",children:e.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("Content Settings")})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("Content Width")}),e.jsxs("select",{value:o?.width||"100%",onChange:a=>f({...o,width:a.target.value}),className:"form-control",children:[e.jsx("option",{value:"100%",children:t("Full Width")}),e.jsx("option",{value:"800px",children:t("800px (Narrow)")}),e.jsx("option",{value:"1000px",children:t("1000px (Standard)")}),e.jsx("option",{value:"1200px",children:t("1200px (Wide)")})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("Content Padding")}),e.jsxs("select",{value:o?.contentPadding||"24px",onChange:a=>f({...o,contentPadding:a.target.value}),className:"form-control",children:[e.jsx("option",{value:"0px",children:t("None")}),e.jsx("option",{value:"16px",children:t("16px (Compact)")}),e.jsx("option",{value:"24px",children:t("24px (Small)")}),e.jsx("option",{value:"32px",children:t("32px (Medium)")}),e.jsx("option",{value:"40px",children:t("40px (Large)")})]})]})]}),e.jsx(re,{layoutStyles:o?.layoutStyles||{},onUpdate:a=>f({...o,layoutStyles:a}),onImageUpload:i,defaultCollapsed:!1}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsx("p",{className:"text-xs text-gray-400 text-center",children:t("Click on a block to edit its properties")})})]})};typeof window<"u"&&(window.React=le,window.ReactDOM=ie,window.ReactJSXRuntime=ce);oe(de);const n=document.getElementById("lara-builder-root");if(n){const m=n.dataset.context||"page",x=n.dataset.initialData?JSON.parse(n.dataset.initialData):null,i=n.dataset.postData?JSON.parse(n.dataset.postData):null,j=n.dataset.saveUrl,o=n.dataset.listUrl,f=n.dataset.uploadUrl,h=n.dataset.videoUploadUrl,v=n.dataset.taxonomies?JSON.parse(n.dataset.taxonomies):[],l=n.dataset.selectedTerms?JSON.parse(n.dataset.selectedTerms):{},N=n.dataset.parentPosts?JSON.parse(n.dataset.parentPosts):{},w=n.dataset.reporters?JSON.parse(n.dataset.reporters):[],C=n.dataset.postTypeMeta?JSON.parse(n.dataset.postTypeMeta):{},y=n.dataset.postType||"post",_=n.dataset.postTypeModel?JSON.parse(n.dataset.postTypeModel):{},O=n.dataset.statuses?JSON.parse(n.dataset.statuses):{},c=n.dataset.translations?JSON.parse(n.dataset.translations):{};me(c);const S=async d=>{if(!f)throw new Error("Upload URL not configured");const r=new FormData;r.append("image",d);const p=await fetch(f,{method:"POST",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content,Accept:"application/json"},body:r});if(!p.ok){const b=await p.json().catch(()=>({}));throw new Error(b.message||"Failed to upload image")}return await p.json()},k=async(d,r)=>{if(!h)throw new Error("Video upload URL not configured");const p=new FormData;p.append("video",d),r&&p.append("thumbnail",r);const b=await fetch(h,{method:"POST",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content,Accept:"application/json"},body:p});if(!b.ok){const E=await b.json().catch(()=>({}));throw new Error(E.message||"Failed to upload video")}return await b.json()},s=async d=>{if(!j)throw new Error("Save URL not configured");const r=await fetch(j,{method:i?.id?"PUT":"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content,Accept:"application/json"},body:JSON.stringify(d)});if(!r.ok){const p=await r.json().catch(()=>({}));throw new Error(p.message||"Failed to save")}return await r.json()};xe.createRoot(n).render(e.jsx(he,{context:m,initialData:x,postData:i,onSave:s,onImageUpload:S,onVideoUpload:k,listUrl:o,taxonomies:v,selectedTerms:l,parentPosts:N,reporters:w,postTypeMeta:C,postType:y,postTypeModel:_,statuses:O,PropertiesPanelComponent:ge}))}
