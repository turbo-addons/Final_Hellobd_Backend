function za(t,l){for(var i=0;i<l.length;i++){const a=l[i];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in t)){const d=Object.getOwnPropertyDescriptor(a,c);d&&Object.defineProperty(t,c,d.get?d:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function Ha(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ja={exports:{}},Yo={},Ea={exports:{}},Ee={};var bd;function Rh(){if(bd)return Ee;bd=1;var t=Symbol.for("react.element"),l=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.iterator;function j(A){return A===null||typeof A!="object"?null:(A=v&&A[v]||A["@@iterator"],typeof A=="function"?A:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,S={};function C(A,H,oe){this.props=A,this.context=H,this.refs=S,this.updater=oe||E}C.prototype.isReactComponent={},C.prototype.setState=function(A,H){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,H,"setState")},C.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function k(){}k.prototype=C.prototype;function $(A,H,oe){this.props=A,this.context=H,this.refs=S,this.updater=oe||E}var T=$.prototype=new k;T.constructor=$,L(T,C.prototype),T.isPureReactComponent=!0;var R=Array.isArray,O=Object.prototype.hasOwnProperty,F={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function W(A,H,oe){var ne,pe={},ae=null,ke=null;if(H!=null)for(ne in H.ref!==void 0&&(ke=H.ref),H.key!==void 0&&(ae=""+H.key),H)O.call(H,ne)&&!z.hasOwnProperty(ne)&&(pe[ne]=H[ne]);var ye=arguments.length-2;if(ye===1)pe.children=oe;else if(1<ye){for(var Ce=Array(ye),Se=0;Se<ye;Se++)Ce[Se]=arguments[Se+2];pe.children=Ce}if(A&&A.defaultProps)for(ne in ye=A.defaultProps,ye)pe[ne]===void 0&&(pe[ne]=ye[ne]);return{$$typeof:t,type:A,key:ae,ref:ke,props:pe,_owner:F.current}}function Y(A,H){return{$$typeof:t,type:A.type,key:H,ref:A.ref,props:A.props,_owner:A._owner}}function K(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function G(A){var H={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(oe){return H[oe]})}var M=/\/+/g;function Z(A,H){return typeof A=="object"&&A!==null&&A.key!=null?G(""+A.key):H.toString(36)}function te(A,H,oe,ne,pe){var ae=typeof A;(ae==="undefined"||ae==="boolean")&&(A=null);var ke=!1;if(A===null)ke=!0;else switch(ae){case"string":case"number":ke=!0;break;case"object":switch(A.$$typeof){case t:case l:ke=!0}}if(ke)return ke=A,pe=pe(ke),A=ne===""?"."+Z(ke,0):ne,R(pe)?(oe="",A!=null&&(oe=A.replace(M,"$&/")+"/"),te(pe,H,oe,"",function(Se){return Se})):pe!=null&&(K(pe)&&(pe=Y(pe,oe+(!pe.key||ke&&ke.key===pe.key?"":(""+pe.key).replace(M,"$&/")+"/")+A)),H.push(pe)),1;if(ke=0,ne=ne===""?".":ne+":",R(A))for(var ye=0;ye<A.length;ye++){ae=A[ye];var Ce=ne+Z(ae,ye);ke+=te(ae,H,oe,Ce,pe)}else if(Ce=j(A),typeof Ce=="function")for(A=Ce.call(A),ye=0;!(ae=A.next()).done;)ae=ae.value,Ce=ne+Z(ae,ye++),ke+=te(ae,H,oe,Ce,pe);else if(ae==="object")throw H=String(A),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return ke}function se(A,H,oe){if(A==null)return A;var ne=[],pe=0;return te(A,ne,"","",function(ae){return H.call(oe,ae,pe++)}),ne}function me(A){if(A._status===-1){var H=A._result;H=H(),H.then(function(oe){(A._status===0||A._status===-1)&&(A._status=1,A._result=oe)},function(oe){(A._status===0||A._status===-1)&&(A._status=2,A._result=oe)}),A._status===-1&&(A._status=0,A._result=H)}if(A._status===1)return A._result.default;throw A._result}var de={current:null},U={transition:null},ee={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:U,ReactCurrentOwner:F};function V(){throw Error("act(...) is not supported in production builds of React.")}return Ee.Children={map:se,forEach:function(A,H,oe){se(A,function(){H.apply(this,arguments)},oe)},count:function(A){var H=0;return se(A,function(){H++}),H},toArray:function(A){return se(A,function(H){return H})||[]},only:function(A){if(!K(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Ee.Component=C,Ee.Fragment=i,Ee.Profiler=c,Ee.PureComponent=$,Ee.StrictMode=a,Ee.Suspense=g,Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Ee.act=V,Ee.cloneElement=function(A,H,oe){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var ne=L({},A.props),pe=A.key,ae=A.ref,ke=A._owner;if(H!=null){if(H.ref!==void 0&&(ae=H.ref,ke=F.current),H.key!==void 0&&(pe=""+H.key),A.type&&A.type.defaultProps)var ye=A.type.defaultProps;for(Ce in H)O.call(H,Ce)&&!z.hasOwnProperty(Ce)&&(ne[Ce]=H[Ce]===void 0&&ye!==void 0?ye[Ce]:H[Ce])}var Ce=arguments.length-2;if(Ce===1)ne.children=oe;else if(1<Ce){ye=Array(Ce);for(var Se=0;Se<Ce;Se++)ye[Se]=arguments[Se+2];ne.children=ye}return{$$typeof:t,type:A.type,key:pe,ref:ae,props:ne,_owner:ke}},Ee.createContext=function(A){return A={$$typeof:p,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:d,_context:A},A.Consumer=A},Ee.createElement=W,Ee.createFactory=function(A){var H=W.bind(null,A);return H.type=A,H},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(A){return{$$typeof:m,render:A}},Ee.isValidElement=K,Ee.lazy=function(A){return{$$typeof:b,_payload:{_status:-1,_result:A},_init:me}},Ee.memo=function(A,H){return{$$typeof:y,type:A,compare:H===void 0?null:H}},Ee.startTransition=function(A){var H=U.transition;U.transition={};try{A()}finally{U.transition=H}},Ee.unstable_act=V,Ee.useCallback=function(A,H){return de.current.useCallback(A,H)},Ee.useContext=function(A){return de.current.useContext(A)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(A){return de.current.useDeferredValue(A)},Ee.useEffect=function(A,H){return de.current.useEffect(A,H)},Ee.useId=function(){return de.current.useId()},Ee.useImperativeHandle=function(A,H,oe){return de.current.useImperativeHandle(A,H,oe)},Ee.useInsertionEffect=function(A,H){return de.current.useInsertionEffect(A,H)},Ee.useLayoutEffect=function(A,H){return de.current.useLayoutEffect(A,H)},Ee.useMemo=function(A,H){return de.current.useMemo(A,H)},Ee.useReducer=function(A,H,oe){return de.current.useReducer(A,H,oe)},Ee.useRef=function(A){return de.current.useRef(A)},Ee.useState=function(A){return de.current.useState(A)},Ee.useSyncExternalStore=function(A,H,oe){return de.current.useSyncExternalStore(A,H,oe)},Ee.useTransition=function(){return de.current.useTransition()},Ee.version="18.3.1",Ee}var wd;function Fa(){return wd||(wd=1,Ea.exports=Rh()),Ea.exports}var kd;function Lh(){if(kd)return Yo;kd=1;var t=Fa(),l=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function p(m,g,y){var b,v={},j=null,E=null;y!==void 0&&(j=""+y),g.key!==void 0&&(j=""+g.key),g.ref!==void 0&&(E=g.ref);for(b in g)a.call(g,b)&&!d.hasOwnProperty(b)&&(v[b]=g[b]);if(m&&m.defaultProps)for(b in g=m.defaultProps,g)v[b]===void 0&&(v[b]=g[b]);return{$$typeof:l,type:m,key:j,ref:E,props:v,_owner:c.current}}return Yo.Fragment=i,Yo.jsx=p,Yo.jsxs=p,Yo}var Cd;function Ih(){return Cd||(Cd=1,ja.exports=Lh()),ja.exports}var o=Ih();const Ah=Ha(o),dC=za({__proto__:null,default:Ah},[o]);var x=Fa();const Me=Ha(x),fC=za({__proto__:null,default:Me},[x]);var Na={exports:{}},Bt={},Ta={exports:{}},$a={};var Sd;function _h(){return Sd||(Sd=1,(function(t){function l(U,ee){var V=U.length;U.push(ee);e:for(;0<V;){var A=V-1>>>1,H=U[A];if(0<c(H,ee))U[A]=ee,U[V]=H,V=A;else break e}}function i(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var ee=U[0],V=U.pop();if(V!==ee){U[0]=V;e:for(var A=0,H=U.length,oe=H>>>1;A<oe;){var ne=2*(A+1)-1,pe=U[ne],ae=ne+1,ke=U[ae];if(0>c(pe,V))ae<H&&0>c(ke,pe)?(U[A]=ke,U[ae]=V,A=ae):(U[A]=pe,U[ne]=V,A=ne);else if(ae<H&&0>c(ke,V))U[A]=ke,U[ae]=V,A=ae;else break e}}return ee}function c(U,ee){var V=U.sortIndex-ee.sortIndex;return V!==0?V:U.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var p=Date,m=p.now();t.unstable_now=function(){return p.now()-m}}var g=[],y=[],b=1,v=null,j=3,E=!1,L=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(U){for(var ee=i(y);ee!==null;){if(ee.callback===null)a(y);else if(ee.startTime<=U)a(y),ee.sortIndex=ee.expirationTime,l(g,ee);else break;ee=i(y)}}function R(U){if(S=!1,T(U),!L)if(i(g)!==null)L=!0,me(O);else{var ee=i(y);ee!==null&&de(R,ee.startTime-U)}}function O(U,ee){L=!1,S&&(S=!1,k(W),W=-1),E=!0;var V=j;try{for(T(ee),v=i(g);v!==null&&(!(v.expirationTime>ee)||U&&!G());){var A=v.callback;if(typeof A=="function"){v.callback=null,j=v.priorityLevel;var H=A(v.expirationTime<=ee);ee=t.unstable_now(),typeof H=="function"?v.callback=H:v===i(g)&&a(g),T(ee)}else a(g);v=i(g)}if(v!==null)var oe=!0;else{var ne=i(y);ne!==null&&de(R,ne.startTime-ee),oe=!1}return oe}finally{v=null,j=V,E=!1}}var F=!1,z=null,W=-1,Y=5,K=-1;function G(){return!(t.unstable_now()-K<Y)}function M(){if(z!==null){var U=t.unstable_now();K=U;var ee=!0;try{ee=z(!0,U)}finally{ee?Z():(F=!1,z=null)}}else F=!1}var Z;if(typeof $=="function")Z=function(){$(M)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,se=te.port2;te.port1.onmessage=M,Z=function(){se.postMessage(null)}}else Z=function(){C(M,0)};function me(U){z=U,F||(F=!0,Z())}function de(U,ee){W=C(function(){U(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){L||E||(L=!0,me(O))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return j},t.unstable_getFirstCallbackNode=function(){return i(g)},t.unstable_next=function(U){switch(j){case 1:case 2:case 3:var ee=3;break;default:ee=j}var V=j;j=ee;try{return U()}finally{j=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,ee){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var V=j;j=U;try{return ee()}finally{j=V}},t.unstable_scheduleCallback=function(U,ee,V){var A=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?A+V:A):V=A,U){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=V+H,U={id:b++,callback:ee,priorityLevel:U,startTime:V,expirationTime:H,sortIndex:-1},V>A?(U.sortIndex=V,l(y,U),i(g)===null&&U===i(y)&&(S?(k(W),W=-1):S=!0,de(R,V-A))):(U.sortIndex=H,l(g,U),L||E||(L=!0,me(O))),U},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(U){var ee=j;return function(){var V=j;j=ee;try{return U.apply(this,arguments)}finally{j=V}}}})($a)),$a}var jd;function Bh(){return jd||(jd=1,Ta.exports=_h()),Ta.exports}var Ed;function Dh(){if(Ed)return Bt;Ed=1;var t=Fa(),l=Bh();function i(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,c={};function d(e,n){p(e,n),p(e+"Capture",n)}function p(e,n){for(c[e]=n,e=0;e<n.length;e++)a.add(n[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},v={};function j(e){return g.call(v,e)?!0:g.call(b,e)?!1:y.test(e)?v[e]=!0:(b[e]=!0,!1)}function E(e,n,r,s){if(r!==null&&r.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function L(e,n,r,s){if(n===null||typeof n>"u"||E(e,n,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function S(e,n,r,s,u,h,w){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=s,this.attributeNamespace=u,this.mustUseProperty=r,this.propertyName=e,this.type=n,this.sanitizeURL=h,this.removeEmptyString=w}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){C[e]=new S(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];C[n]=new S(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){C[e]=new S(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){C[e]=new S(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){C[e]=new S(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){C[e]=new S(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){C[e]=new S(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){C[e]=new S(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){C[e]=new S(e,5,!1,e.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function $(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(k,$);C[n]=new S(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(k,$);C[n]=new S(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(k,$);C[n]=new S(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){C[e]=new S(e,1,!1,e.toLowerCase(),null,!1,!1)}),C.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){C[e]=new S(e,1,!1,e.toLowerCase(),null,!0,!0)});function T(e,n,r,s){var u=C.hasOwnProperty(n)?C[n]:null;(u!==null?u.type!==0:s||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(L(n,r,u,s)&&(r=null),s||u===null?j(n)&&(r===null?e.removeAttribute(n):e.setAttribute(n,""+r)):u.mustUseProperty?e[u.propertyName]=r===null?u.type===3?!1:"":r:(n=u.attributeName,s=u.attributeNamespace,r===null?e.removeAttribute(n):(u=u.type,r=u===3||u===4&&r===!0?"":""+r,s?e.setAttributeNS(s,n,r):e.setAttribute(n,r))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),F=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),G=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),U=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var V=Object.assign,A;function H(e){if(A===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);A=n&&n[1]||""}return`
`+A+e}var oe=!1;function ne(e,n){if(!e||oe)return"";oe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(P){var s=P}Reflect.construct(e,[],n)}else{try{n.call()}catch(P){s=P}e.call(n.prototype)}else{try{throw Error()}catch(P){s=P}e()}}catch(P){if(P&&s&&typeof P.stack=="string"){for(var u=P.stack.split(`
`),h=s.stack.split(`
`),w=u.length-1,N=h.length-1;1<=w&&0<=N&&u[w]!==h[N];)N--;for(;1<=w&&0<=N;w--,N--)if(u[w]!==h[N]){if(w!==1||N!==1)do if(w--,N--,0>N||u[w]!==h[N]){var I=`
`+u[w].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=w&&0<=N);break}}}finally{oe=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?H(e):""}function pe(e){switch(e.tag){case 5:return H(e.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return e=ne(e.type,!1),e;case 11:return e=ne(e.type.render,!1),e;case 1:return e=ne(e.type,!0),e;default:return""}}function ae(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case F:return"Portal";case Y:return"Profiler";case W:return"StrictMode";case Z:return"Suspense";case te:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case G:return(e.displayName||"Context")+".Consumer";case K:return(e._context.displayName||"Context")+".Provider";case M:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case se:return n=e.displayName||null,n!==null?n:ae(e.type)||"Memo";case me:n=e._payload,e=e._init;try{return ae(e(n))}catch{}}return null}function ke(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(n);case 8:return n===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ye(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ce(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Se(e){var n=Ce(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),s=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,h=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(w){s=""+w,h.call(this,w)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(w){s=""+w},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function kt(e){e._valueTracker||(e._valueTracker=Se(e))}function ze(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),s="";return e&&(s=Ce(e)?e.checked?"true":"false":e.value),e=s,e!==r?(n.setValue(e),!0):!1}function pt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function je(e,n){var r=n.checked;return V({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ht(e,n){var r=n.defaultValue==null?"":n.defaultValue,s=n.checked!=null?n.checked:n.defaultChecked;r=ye(n.value!=null?n.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Gt(e,n){n=n.checked,n!=null&&T(e,"checked",n,!1)}function Ct(e,n){Gt(e,n);var r=ye(n.value),s=n.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?$n(e,n.type,r):n.hasOwnProperty("defaultValue")&&$n(e,n.type,ye(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function mn(e,n,r){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var s=n.type;if(!(s!=="submit"&&s!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,r||n===e.value||(e.value=n),e.defaultValue=n}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function $n(e,n,r){(n!=="number"||pt(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ct=Array.isArray;function Dt(e,n,r,s){if(e=e.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=n.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&s&&(e[r].defaultSelected=!0)}else{for(r=""+ye(r),n=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function xn(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(i(91));return V({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fr(e,n){var r=n.value;if(r==null){if(r=n.children,n=n.defaultValue,r!=null){if(n!=null)throw Error(i(92));if(ct(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n==null&&(n=""),r=n}e._wrapperState={initialValue:ye(r)}}function pr(e,n){var r=ye(n.value),s=ye(n.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),n.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Ar(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function _r(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xt(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?_r(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pt,yn=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,r,s,u){MSApp.execUnsafeLocalFunction(function(){return e(n,r,s,u)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Pt=Pt||document.createElement("div"),Pt.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Pt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function vn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var gt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hr=["Webkit","ms","Moz","O"];Object.keys(gt).forEach(function(e){hr.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),gt[n]=gt[e]})});function Br(e,n,r){return n==null||typeof n=="boolean"||n===""?"":r||typeof n!="number"||n===0||gt.hasOwnProperty(e)&&gt[e]?(""+n).trim():n+"px"}function Dr(e,n){e=e.style;for(var r in n)if(n.hasOwnProperty(r)){var s=r.indexOf("--")===0,u=Br(r,n[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,u):e[r]=u}}var gr=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hn(e,n){if(n){if(gr[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(i(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(i(61))}if(n.style!=null&&typeof n.style!="object")throw Error(i(62))}}function mr(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fn=null;function Wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xr=null,bn=null,Ie=null;function tt(e){if(e=_o(e)){if(typeof xr!="function")throw Error(i(280));var n=e.stateNode;n&&(n=Ll(n),xr(e.stateNode,e.type,n))}}function nt(e){bn?Ie?Ie.push(e):Ie=[e]:bn=e}function Mt(){if(bn){var e=bn,n=Ie;if(Ie=bn=null,tt(e),n)for(e=0;e<n.length;e++)tt(n[e])}}function ut(e,n){return e(n)}function rt(){}var mt=!1;function Yt(e,n,r){if(mt)return e(n,r);mt=!0;try{return ut(e,n,r)}finally{mt=!1,(bn!==null||Ie!==null)&&(rt(),Mt())}}function _e(e,n){var r=e.stateNode;if(r===null)return null;var s=Ll(r);if(s===null)return null;r=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,n,typeof r));return r}var St=!1;if(m)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){St=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{St=!1}function $t(e,n,r,s,u,h,w,N,I){var P=Array.prototype.slice.call(arguments,3);try{n.apply(r,P)}catch(Q){this.onError(Q)}}var Ot=!1,zt=null,xt=!1,ln=null,Un={onError:function(e){Ot=!0,zt=e}};function Hi(e,n,r,s,u,h,w,N,I){Ot=!1,zt=null,$t.apply(Un,arguments)}function wn(e,n,r,s,u,h,w,N,I){if(Hi.apply(this,arguments),Ot){if(Ot){var P=zt;Ot=!1,zt=null}else throw Error(i(198));xt||(xt=!0,ln=P)}}function kn(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function Rn(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Pr(e){if(kn(e)!==e)throw Error(i(188))}function ul(e){var n=e.alternate;if(!n){if(n=kn(e),n===null)throw Error(i(188));return n!==e?null:e}for(var r=e,s=n;;){var u=r.return;if(u===null)break;var h=u.alternate;if(h===null){if(s=u.return,s!==null){r=s;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===r)return Pr(u),e;if(h===s)return Pr(u),n;h=h.sibling}throw Error(i(188))}if(r.return!==s.return)r=u,s=h;else{for(var w=!1,N=u.child;N;){if(N===r){w=!0,r=u,s=h;break}if(N===s){w=!0,s=u,r=h;break}N=N.sibling}if(!w){for(N=h.child;N;){if(N===r){w=!0,r=h,s=u;break}if(N===s){w=!0,s=h,r=u;break}N=N.sibling}if(!w)throw Error(i(189))}}if(r.alternate!==s)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:n}function dl(e){return e=ul(e),e!==null?jt(e):null}function jt(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=jt(e);if(n!==null)return n;e=e.sibling}return null}var Mr=l.unstable_scheduleCallback,fl=l.unstable_cancelCallback,Fi=l.unstable_shouldYield,Wi=l.unstable_requestPaint,He=l.unstable_now,Ui=l.unstable_getCurrentPriorityLevel,go=l.unstable_ImmediatePriority,pl=l.unstable_UserBlockingPriority,Or=l.unstable_NormalPriority,hl=l.unstable_LowPriority,yr=l.unstable_IdlePriority,be=null,Ne=null;function Ue(e){if(Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(be,e,void 0,(e.current.flags&128)===128)}catch{}}var Ve=Math.clz32?Math.clz32:Ln,Cn=Math.log,Sn=Math.LN2;function Ln(e){return e>>>=0,e===0?32:31-(Cn(e)/Sn|0)|0}var sn=64,Ht=4194304;function Ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mo(e,n){var r=e.pendingLanes;if(r===0)return 0;var s=0,u=e.suspendedLanes,h=e.pingedLanes,w=r&268435455;if(w!==0){var N=w&~u;N!==0?s=Ft(N):(h&=w,h!==0&&(s=Ft(h)))}else w=r&~u,w!==0?s=Ft(w):h!==0&&(s=Ft(h));if(s===0)return 0;if(n!==0&&n!==s&&(n&u)===0&&(u=s&-s,h=n&-n,u>=h||u===16&&(h&4194240)!==0))return n;if((s&4)!==0&&(s|=r&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=s;0<n;)r=31-Ve(n),u=1<<r,s|=e[r],n&=~u;return s}function gl(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vi(e,n){for(var r=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,h=e.pendingLanes;0<h;){var w=31-Ve(h),N=1<<w,I=u[w];I===-1?((N&r)===0||(N&s)!==0)&&(u[w]=gl(N,n)):I<=n&&(e.expiredLanes|=N),h&=~N}}function Ki(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qa(){var e=sn;return sn<<=1,(sn&4194240)===0&&(sn=64),e}function Gi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function xo(e,n,r){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Ve(n),e[n]=r}function qf(e,n){var r=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var u=31-Ve(r),h=1<<u;n[u]=0,s[u]=-1,e[u]=-1,r&=~h}}function Xi(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var s=31-Ve(r),u=1<<s;u&n|e[s]&n&&(e[s]|=n),r&=~u}}var Le=0;function Ja(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Za,Yi,ec,tc,nc,Qi=!1,ml=[],Vn=null,Kn=null,Gn=null,yo=new Map,vo=new Map,Xn=[],Jf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rc(e,n){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":yo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":vo.delete(n.pointerId)}}function bo(e,n,r,s,u,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:r,eventSystemFlags:s,nativeEvent:h,targetContainers:[u]},n!==null&&(n=_o(n),n!==null&&Yi(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function Zf(e,n,r,s,u){switch(n){case"focusin":return Vn=bo(Vn,e,n,r,s,u),!0;case"dragenter":return Kn=bo(Kn,e,n,r,s,u),!0;case"mouseover":return Gn=bo(Gn,e,n,r,s,u),!0;case"pointerover":var h=u.pointerId;return yo.set(h,bo(yo.get(h)||null,e,n,r,s,u)),!0;case"gotpointercapture":return h=u.pointerId,vo.set(h,bo(vo.get(h)||null,e,n,r,s,u)),!0}return!1}function oc(e){var n=vr(e.target);if(n!==null){var r=kn(n);if(r!==null){if(n=r.tag,n===13){if(n=Rn(r),n!==null){e.blockedOn=n,nc(e.priority,function(){ec(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Ji(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Fn=s,r.target.dispatchEvent(s),Fn=null}else return n=_o(r),n!==null&&Yi(n),e.blockedOn=r,!1;n.shift()}return!0}function lc(e,n,r){xl(e)&&r.delete(n)}function ep(){Qi=!1,Vn!==null&&xl(Vn)&&(Vn=null),Kn!==null&&xl(Kn)&&(Kn=null),Gn!==null&&xl(Gn)&&(Gn=null),yo.forEach(lc),vo.forEach(lc)}function wo(e,n){e.blockedOn===n&&(e.blockedOn=null,Qi||(Qi=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,ep)))}function ko(e){function n(u){return wo(u,e)}if(0<ml.length){wo(ml[0],e);for(var r=1;r<ml.length;r++){var s=ml[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Vn!==null&&wo(Vn,e),Kn!==null&&wo(Kn,e),Gn!==null&&wo(Gn,e),yo.forEach(n),vo.forEach(n),r=0;r<Xn.length;r++)s=Xn[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Xn.length&&(r=Xn[0],r.blockedOn===null);)oc(r),r.blockedOn===null&&Xn.shift()}var zr=R.ReactCurrentBatchConfig,yl=!0;function tp(e,n,r,s){var u=Le,h=zr.transition;zr.transition=null;try{Le=1,qi(e,n,r,s)}finally{Le=u,zr.transition=h}}function np(e,n,r,s){var u=Le,h=zr.transition;zr.transition=null;try{Le=4,qi(e,n,r,s)}finally{Le=u,zr.transition=h}}function qi(e,n,r,s){if(yl){var u=Ji(e,n,r,s);if(u===null)gs(e,n,s,vl,r),rc(e,s);else if(Zf(u,e,n,r,s))s.stopPropagation();else if(rc(e,s),n&4&&-1<Jf.indexOf(e)){for(;u!==null;){var h=_o(u);if(h!==null&&Za(h),h=Ji(e,n,r,s),h===null&&gs(e,n,s,vl,r),h===u)break;u=h}u!==null&&s.stopPropagation()}else gs(e,n,s,null,r)}}var vl=null;function Ji(e,n,r,s){if(vl=null,e=Wn(s),e=vr(e),e!==null)if(n=kn(e),n===null)e=null;else if(r=n.tag,r===13){if(e=Rn(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return vl=e,null}function ic(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ui()){case go:return 1;case pl:return 4;case Or:case hl:return 16;case yr:return 536870912;default:return 16}default:return 16}}var Yn=null,Zi=null,bl=null;function sc(){if(bl)return bl;var e,n=Zi,r=n.length,s,u="value"in Yn?Yn.value:Yn.textContent,h=u.length;for(e=0;e<r&&n[e]===u[e];e++);var w=r-e;for(s=1;s<=w&&n[r-s]===u[h-s];s++);return bl=u.slice(e,1<s?1-s:void 0)}function wl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function kl(){return!0}function ac(){return!1}function Wt(e){function n(r,s,u,h,w){this._reactName=r,this._targetInst=u,this.type=s,this.nativeEvent=h,this.target=w,this.currentTarget=null;for(var N in e)e.hasOwnProperty(N)&&(r=e[N],this[N]=r?r(h):h[N]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?kl:ac,this.isPropagationStopped=ac,this}return V(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kl)},persist:function(){},isPersistent:kl}),n}var Hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},es=Wt(Hr),Co=V({},Hr,{view:0,detail:0}),rp=Wt(Co),ts,ns,So,Cl=V({},Co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:os,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==So&&(So&&e.type==="mousemove"?(ts=e.screenX-So.screenX,ns=e.screenY-So.screenY):ns=ts=0,So=e),ts)},movementY:function(e){return"movementY"in e?e.movementY:ns}}),cc=Wt(Cl),op=V({},Cl,{dataTransfer:0}),lp=Wt(op),ip=V({},Co,{relatedTarget:0}),rs=Wt(ip),sp=V({},Hr,{animationName:0,elapsedTime:0,pseudoElement:0}),ap=Wt(sp),cp=V({},Hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),up=Wt(cp),dp=V({},Hr,{data:0}),uc=Wt(dp),fp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gp(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=hp[e])?!!n[e]:!1}function os(){return gp}var mp=V({},Co,{key:function(e){if(e.key){var n=fp[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=wl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:os,charCode:function(e){return e.type==="keypress"?wl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xp=Wt(mp),yp=V({},Cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dc=Wt(yp),vp=V({},Co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:os}),bp=Wt(vp),wp=V({},Hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),kp=Wt(wp),Cp=V({},Cl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sp=Wt(Cp),jp=[9,13,27,32],ls=m&&"CompositionEvent"in window,jo=null;m&&"documentMode"in document&&(jo=document.documentMode);var Ep=m&&"TextEvent"in window&&!jo,fc=m&&(!ls||jo&&8<jo&&11>=jo),pc=" ",hc=!1;function gc(e,n){switch(e){case"keyup":return jp.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fr=!1;function Np(e,n){switch(e){case"compositionend":return mc(n);case"keypress":return n.which!==32?null:(hc=!0,pc);case"textInput":return e=n.data,e===pc&&hc?null:e;default:return null}}function Tp(e,n){if(Fr)return e==="compositionend"||!ls&&gc(e,n)?(e=sc(),bl=Zi=Yn=null,Fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return fc&&n.locale!=="ko"?null:n.data;default:return null}}var $p={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!$p[e.type]:n==="textarea"}function yc(e,n,r,s){nt(s),n=Tl(n,"onChange"),0<n.length&&(r=new es("onChange","change",null,r,s),e.push({event:r,listeners:n}))}var Eo=null,No=null;function Rp(e){Dc(e,0)}function Sl(e){var n=Gr(e);if(ze(n))return e}function Lp(e,n){if(e==="change")return n}var vc=!1;if(m){var is;if(m){var ss="oninput"in document;if(!ss){var bc=document.createElement("div");bc.setAttribute("oninput","return;"),ss=typeof bc.oninput=="function"}is=ss}else is=!1;vc=is&&(!document.documentMode||9<document.documentMode)}function wc(){Eo&&(Eo.detachEvent("onpropertychange",kc),No=Eo=null)}function kc(e){if(e.propertyName==="value"&&Sl(No)){var n=[];yc(n,No,e,Wn(e)),Yt(Rp,n)}}function Ip(e,n,r){e==="focusin"?(wc(),Eo=n,No=r,Eo.attachEvent("onpropertychange",kc)):e==="focusout"&&wc()}function Ap(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sl(No)}function _p(e,n){if(e==="click")return Sl(n)}function Bp(e,n){if(e==="input"||e==="change")return Sl(n)}function Dp(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var an=typeof Object.is=="function"?Object.is:Dp;function To(e,n){if(an(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),s=Object.keys(n);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var u=r[s];if(!g.call(n,u)||!an(e[u],n[u]))return!1}return!0}function Cc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sc(e,n){var r=Cc(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=n&&s>=n)return{node:r,offset:n-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cc(r)}}function jc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?jc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ec(){for(var e=window,n=pt();n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=pt(e.document)}return n}function as(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Pp(e){var n=Ec(),r=e.focusedElem,s=e.selectionRange;if(n!==r&&r&&r.ownerDocument&&jc(r.ownerDocument.documentElement,r)){if(s!==null&&as(r)){if(n=s.start,e=s.end,e===void 0&&(e=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(e,r.value.length);else if(e=(n=r.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var u=r.textContent.length,h=Math.min(s.start,u);s=s.end===void 0?h:Math.min(s.end,u),!e.extend&&h>s&&(u=s,s=h,h=u),u=Sc(r,h);var w=Sc(r,s);u&&w&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==w.node||e.focusOffset!==w.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),e.removeAllRanges(),h>s?(e.addRange(n),e.extend(w.node,w.offset)):(n.setEnd(w.node,w.offset),e.addRange(n)))}}for(n=[],e=r;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)e=n[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mp=m&&"documentMode"in document&&11>=document.documentMode,Wr=null,cs=null,$o=null,us=!1;function Nc(e,n,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;us||Wr==null||Wr!==pt(s)||(s=Wr,"selectionStart"in s&&as(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),$o&&To($o,s)||($o=s,s=Tl(cs,"onSelect"),0<s.length&&(n=new es("onSelect","select",null,n,r),e.push({event:n,listeners:s}),n.target=Wr)))}function jl(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Ur={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionend:jl("Transition","TransitionEnd")},ds={},Tc={};m&&(Tc=document.createElement("div").style,"AnimationEvent"in window||(delete Ur.animationend.animation,delete Ur.animationiteration.animation,delete Ur.animationstart.animation),"TransitionEvent"in window||delete Ur.transitionend.transition);function El(e){if(ds[e])return ds[e];if(!Ur[e])return e;var n=Ur[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Tc)return ds[e]=n[r];return e}var $c=El("animationend"),Rc=El("animationiteration"),Lc=El("animationstart"),Ic=El("transitionend"),Ac=new Map,_c="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qn(e,n){Ac.set(e,n),d(n,[e])}for(var fs=0;fs<_c.length;fs++){var ps=_c[fs],Op=ps.toLowerCase(),zp=ps[0].toUpperCase()+ps.slice(1);Qn(Op,"on"+zp)}Qn($c,"onAnimationEnd"),Qn(Rc,"onAnimationIteration"),Qn(Lc,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(Ic,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function Bc(e,n,r){var s=e.type||"unknown-event";e.currentTarget=r,wn(s,n,void 0,e),e.currentTarget=null}function Dc(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],u=s.event;s=s.listeners;e:{var h=void 0;if(n)for(var w=s.length-1;0<=w;w--){var N=s[w],I=N.instance,P=N.currentTarget;if(N=N.listener,I!==h&&u.isPropagationStopped())break e;Bc(u,N,P),h=I}else for(w=0;w<s.length;w++){if(N=s[w],I=N.instance,P=N.currentTarget,N=N.listener,I!==h&&u.isPropagationStopped())break e;Bc(u,N,P),h=I}}}if(xt)throw e=ln,xt=!1,ln=null,e}function Be(e,n){var r=n[ws];r===void 0&&(r=n[ws]=new Set);var s=e+"__bubble";r.has(s)||(Pc(n,e,2,!1),r.add(s))}function hs(e,n,r){var s=0;n&&(s|=4),Pc(r,e,s,n)}var Nl="_reactListening"+Math.random().toString(36).slice(2);function Lo(e){if(!e[Nl]){e[Nl]=!0,a.forEach(function(r){r!=="selectionchange"&&(Hp.has(r)||hs(r,!1,e),hs(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Nl]||(n[Nl]=!0,hs("selectionchange",!1,n))}}function Pc(e,n,r,s){switch(ic(n)){case 1:var u=tp;break;case 4:u=np;break;default:u=qi}r=u.bind(null,n,r,e),u=void 0,!St||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(n,r,{capture:!0,passive:u}):e.addEventListener(n,r,!0):u!==void 0?e.addEventListener(n,r,{passive:u}):e.addEventListener(n,r,!1)}function gs(e,n,r,s,u){var h=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var w=s.tag;if(w===3||w===4){var N=s.stateNode.containerInfo;if(N===u||N.nodeType===8&&N.parentNode===u)break;if(w===4)for(w=s.return;w!==null;){var I=w.tag;if((I===3||I===4)&&(I=w.stateNode.containerInfo,I===u||I.nodeType===8&&I.parentNode===u))return;w=w.return}for(;N!==null;){if(w=vr(N),w===null)return;if(I=w.tag,I===5||I===6){s=h=w;continue e}N=N.parentNode}}s=s.return}Yt(function(){var P=h,Q=Wn(r),q=[];e:{var X=Ac.get(e);if(X!==void 0){var re=es,ie=e;switch(e){case"keypress":if(wl(r)===0)break e;case"keydown":case"keyup":re=xp;break;case"focusin":ie="focus",re=rs;break;case"focusout":ie="blur",re=rs;break;case"beforeblur":case"afterblur":re=rs;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=lp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=bp;break;case $c:case Rc:case Lc:re=ap;break;case Ic:re=kp;break;case"scroll":re=rp;break;case"wheel":re=Sp;break;case"copy":case"cut":case"paste":re=up;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=dc}var ce=(n&4)!==0,Qe=!ce&&e==="scroll",B=ce?X!==null?X+"Capture":null:X;ce=[];for(var _=P,D;_!==null;){D=_;var J=D.stateNode;if(D.tag===5&&J!==null&&(D=J,B!==null&&(J=_e(_,B),J!=null&&ce.push(Io(_,J,D)))),Qe)break;_=_.return}0<ce.length&&(X=new re(X,ie,null,r,Q),q.push({event:X,listeners:ce}))}}if((n&7)===0){e:{if(X=e==="mouseover"||e==="pointerover",re=e==="mouseout"||e==="pointerout",X&&r!==Fn&&(ie=r.relatedTarget||r.fromElement)&&(vr(ie)||ie[In]))break e;if((re||X)&&(X=Q.window===Q?Q:(X=Q.ownerDocument)?X.defaultView||X.parentWindow:window,re?(ie=r.relatedTarget||r.toElement,re=P,ie=ie?vr(ie):null,ie!==null&&(Qe=kn(ie),ie!==Qe||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(re=null,ie=P),re!==ie)){if(ce=cc,J="onMouseLeave",B="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(ce=dc,J="onPointerLeave",B="onPointerEnter",_="pointer"),Qe=re==null?X:Gr(re),D=ie==null?X:Gr(ie),X=new ce(J,_+"leave",re,r,Q),X.target=Qe,X.relatedTarget=D,J=null,vr(Q)===P&&(ce=new ce(B,_+"enter",ie,r,Q),ce.target=D,ce.relatedTarget=Qe,J=ce),Qe=J,re&&ie)t:{for(ce=re,B=ie,_=0,D=ce;D;D=Vr(D))_++;for(D=0,J=B;J;J=Vr(J))D++;for(;0<_-D;)ce=Vr(ce),_--;for(;0<D-_;)B=Vr(B),D--;for(;_--;){if(ce===B||B!==null&&ce===B.alternate)break t;ce=Vr(ce),B=Vr(B)}ce=null}else ce=null;re!==null&&Mc(q,X,re,ce,!1),ie!==null&&Qe!==null&&Mc(q,Qe,ie,ce,!0)}}e:{if(X=P?Gr(P):window,re=X.nodeName&&X.nodeName.toLowerCase(),re==="select"||re==="input"&&X.type==="file")var ue=Lp;else if(xc(X))if(vc)ue=Bp;else{ue=Ap;var he=Ip}else(re=X.nodeName)&&re.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(ue=_p);if(ue&&(ue=ue(e,P))){yc(q,ue,r,Q);break e}he&&he(e,X,P),e==="focusout"&&(he=X._wrapperState)&&he.controlled&&X.type==="number"&&$n(X,"number",X.value)}switch(he=P?Gr(P):window,e){case"focusin":(xc(he)||he.contentEditable==="true")&&(Wr=he,cs=P,$o=null);break;case"focusout":$o=cs=Wr=null;break;case"mousedown":us=!0;break;case"contextmenu":case"mouseup":case"dragend":us=!1,Nc(q,r,Q);break;case"selectionchange":if(Mp)break;case"keydown":case"keyup":Nc(q,r,Q)}var ge;if(ls)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Fr?gc(e,r)&&(we="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(we="onCompositionStart");we&&(fc&&r.locale!=="ko"&&(Fr||we!=="onCompositionStart"?we==="onCompositionEnd"&&Fr&&(ge=sc()):(Yn=Q,Zi="value"in Yn?Yn.value:Yn.textContent,Fr=!0)),he=Tl(P,we),0<he.length&&(we=new uc(we,e,null,r,Q),q.push({event:we,listeners:he}),ge?we.data=ge:(ge=mc(r),ge!==null&&(we.data=ge)))),(ge=Ep?Np(e,r):Tp(e,r))&&(P=Tl(P,"onBeforeInput"),0<P.length&&(Q=new uc("onBeforeInput","beforeinput",null,r,Q),q.push({event:Q,listeners:P}),Q.data=ge))}Dc(q,n)})}function Io(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Tl(e,n){for(var r=n+"Capture",s=[];e!==null;){var u=e,h=u.stateNode;u.tag===5&&h!==null&&(u=h,h=_e(e,r),h!=null&&s.unshift(Io(e,h,u)),h=_e(e,n),h!=null&&s.push(Io(e,h,u))),e=e.return}return s}function Vr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mc(e,n,r,s,u){for(var h=n._reactName,w=[];r!==null&&r!==s;){var N=r,I=N.alternate,P=N.stateNode;if(I!==null&&I===s)break;N.tag===5&&P!==null&&(N=P,u?(I=_e(r,h),I!=null&&w.unshift(Io(r,I,N))):u||(I=_e(r,h),I!=null&&w.push(Io(r,I,N)))),r=r.return}w.length!==0&&e.push({event:n,listeners:w})}var Fp=/\r\n?/g,Wp=/\u0000|\uFFFD/g;function Oc(e){return(typeof e=="string"?e:""+e).replace(Fp,`
`).replace(Wp,"")}function $l(e,n,r){if(n=Oc(n),Oc(e)!==n&&r)throw Error(i(425))}function Rl(){}var ms=null,xs=null;function ys(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var vs=typeof setTimeout=="function"?setTimeout:void 0,Up=typeof clearTimeout=="function"?clearTimeout:void 0,zc=typeof Promise=="function"?Promise:void 0,Vp=typeof queueMicrotask=="function"?queueMicrotask:typeof zc<"u"?function(e){return zc.resolve(null).then(e).catch(Kp)}:vs;function Kp(e){setTimeout(function(){throw e})}function bs(e,n){var r=n,s=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(s===0){e.removeChild(u),ko(n);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=u}while(r);ko(n)}function qn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Hc(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}var Kr=Math.random().toString(36).slice(2),jn="__reactFiber$"+Kr,Ao="__reactProps$"+Kr,In="__reactContainer$"+Kr,ws="__reactEvents$"+Kr,Gp="__reactListeners$"+Kr,Xp="__reactHandles$"+Kr;function vr(e){var n=e[jn];if(n)return n;for(var r=e.parentNode;r;){if(n=r[In]||r[jn]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Hc(e);e!==null;){if(r=e[jn])return r;e=Hc(e)}return n}e=r,r=e.parentNode}return null}function _o(e){return e=e[jn]||e[In],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function Ll(e){return e[Ao]||null}var ks=[],Xr=-1;function Jn(e){return{current:e}}function De(e){0>Xr||(e.current=ks[Xr],ks[Xr]=null,Xr--)}function Ae(e,n){Xr++,ks[Xr]=e.current,e.current=n}var Zn={},yt=Jn(Zn),Rt=Jn(!1),br=Zn;function Yr(e,n){var r=e.type.contextTypes;if(!r)return Zn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===n)return s.__reactInternalMemoizedMaskedChildContext;var u={},h;for(h in r)u[h]=n[h];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=u),u}function Lt(e){return e=e.childContextTypes,e!=null}function Il(){De(Rt),De(yt)}function Fc(e,n,r){if(yt.current!==Zn)throw Error(i(168));Ae(yt,n),Ae(Rt,r)}function Wc(e,n,r){var s=e.stateNode;if(n=n.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var u in s)if(!(u in n))throw Error(i(108,ke(e)||"Unknown",u));return V({},r,s)}function Al(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zn,br=yt.current,Ae(yt,e),Ae(Rt,Rt.current),!0}function Uc(e,n,r){var s=e.stateNode;if(!s)throw Error(i(169));r?(e=Wc(e,n,br),s.__reactInternalMemoizedMergedChildContext=e,De(Rt),De(yt),Ae(yt,e)):De(Rt),Ae(Rt,r)}var An=null,_l=!1,Cs=!1;function Vc(e){An===null?An=[e]:An.push(e)}function Yp(e){_l=!0,Vc(e)}function er(){if(!Cs&&An!==null){Cs=!0;var e=0,n=Le;try{var r=An;for(Le=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}An=null,_l=!1}catch(u){throw An!==null&&(An=An.slice(e+1)),Mr(go,er),u}finally{Le=n,Cs=!1}}return null}var Qr=[],qr=0,Bl=null,Dl=0,Qt=[],qt=0,wr=null,_n=1,Bn="";function kr(e,n){Qr[qr++]=Dl,Qr[qr++]=Bl,Bl=e,Dl=n}function Kc(e,n,r){Qt[qt++]=_n,Qt[qt++]=Bn,Qt[qt++]=wr,wr=e;var s=_n;e=Bn;var u=32-Ve(s)-1;s&=~(1<<u),r+=1;var h=32-Ve(n)+u;if(30<h){var w=u-u%5;h=(s&(1<<w)-1).toString(32),s>>=w,u-=w,_n=1<<32-Ve(n)+u|r<<u|s,Bn=h+e}else _n=1<<h|r<<u|s,Bn=e}function Ss(e){e.return!==null&&(kr(e,1),Kc(e,1,0))}function js(e){for(;e===Bl;)Bl=Qr[--qr],Qr[qr]=null,Dl=Qr[--qr],Qr[qr]=null;for(;e===wr;)wr=Qt[--qt],Qt[qt]=null,Bn=Qt[--qt],Qt[qt]=null,_n=Qt[--qt],Qt[qt]=null}var Ut=null,Vt=null,Pe=!1,cn=null;function Gc(e,n){var r=tn(5,null,null,0);r.elementType="DELETED",r.stateNode=n,r.return=e,n=e.deletions,n===null?(e.deletions=[r],e.flags|=16):n.push(r)}function Xc(e,n){switch(e.tag){case 5:var r=e.type;return n=n.nodeType!==1||r.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Ut=e,Vt=qn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Ut=e,Vt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(r=wr!==null?{id:_n,overflow:Bn}:null,e.memoizedState={dehydrated:n,treeContext:r,retryLane:1073741824},r=tn(18,null,null,0),r.stateNode=n,r.return=e,e.child=r,Ut=e,Vt=null,!0):!1;default:return!1}}function Es(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ns(e){if(Pe){var n=Vt;if(n){var r=n;if(!Xc(e,n)){if(Es(e))throw Error(i(418));n=qn(r.nextSibling);var s=Ut;n&&Xc(e,n)?Gc(s,r):(e.flags=e.flags&-4097|2,Pe=!1,Ut=e)}}else{if(Es(e))throw Error(i(418));e.flags=e.flags&-4097|2,Pe=!1,Ut=e}}}function Yc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ut=e}function Pl(e){if(e!==Ut)return!1;if(!Pe)return Yc(e),Pe=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!ys(e.type,e.memoizedProps)),n&&(n=Vt)){if(Es(e))throw Qc(),Error(i(418));for(;n;)Gc(e,n),n=qn(n.nextSibling)}if(Yc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(n===0){Vt=qn(e.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++}e=e.nextSibling}Vt=null}}else Vt=Ut?qn(e.stateNode.nextSibling):null;return!0}function Qc(){for(var e=Vt;e;)e=qn(e.nextSibling)}function Jr(){Vt=Ut=null,Pe=!1}function Ts(e){cn===null?cn=[e]:cn.push(e)}var Qp=R.ReactCurrentBatchConfig;function Bo(e,n,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(i(309));var s=r.stateNode}if(!s)throw Error(i(147,e));var u=s,h=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===h?n.ref:(n=function(w){var N=u.refs;w===null?delete N[h]:N[h]=w},n._stringRef=h,n)}if(typeof e!="string")throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function Ml(e,n){throw e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function qc(e){var n=e._init;return n(e._payload)}function Jc(e){function n(B,_){if(e){var D=B.deletions;D===null?(B.deletions=[_],B.flags|=16):D.push(_)}}function r(B,_){if(!e)return null;for(;_!==null;)n(B,_),_=_.sibling;return null}function s(B,_){for(B=new Map;_!==null;)_.key!==null?B.set(_.key,_):B.set(_.index,_),_=_.sibling;return B}function u(B,_){return B=ar(B,_),B.index=0,B.sibling=null,B}function h(B,_,D){return B.index=D,e?(D=B.alternate,D!==null?(D=D.index,D<_?(B.flags|=2,_):D):(B.flags|=2,_)):(B.flags|=1048576,_)}function w(B){return e&&B.alternate===null&&(B.flags|=2),B}function N(B,_,D,J){return _===null||_.tag!==6?(_=va(D,B.mode,J),_.return=B,_):(_=u(_,D),_.return=B,_)}function I(B,_,D,J){var ue=D.type;return ue===z?Q(B,_,D.props.children,J,D.key):_!==null&&(_.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===me&&qc(ue)===_.type)?(J=u(_,D.props),J.ref=Bo(B,_,D),J.return=B,J):(J=ai(D.type,D.key,D.props,null,B.mode,J),J.ref=Bo(B,_,D),J.return=B,J)}function P(B,_,D,J){return _===null||_.tag!==4||_.stateNode.containerInfo!==D.containerInfo||_.stateNode.implementation!==D.implementation?(_=ba(D,B.mode,J),_.return=B,_):(_=u(_,D.children||[]),_.return=B,_)}function Q(B,_,D,J,ue){return _===null||_.tag!==7?(_=Rr(D,B.mode,J,ue),_.return=B,_):(_=u(_,D),_.return=B,_)}function q(B,_,D){if(typeof _=="string"&&_!==""||typeof _=="number")return _=va(""+_,B.mode,D),_.return=B,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case O:return D=ai(_.type,_.key,_.props,null,B.mode,D),D.ref=Bo(B,null,_),D.return=B,D;case F:return _=ba(_,B.mode,D),_.return=B,_;case me:var J=_._init;return q(B,J(_._payload),D)}if(ct(_)||ee(_))return _=Rr(_,B.mode,D,null),_.return=B,_;Ml(B,_)}return null}function X(B,_,D,J){var ue=_!==null?_.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return ue!==null?null:N(B,_,""+D,J);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case O:return D.key===ue?I(B,_,D,J):null;case F:return D.key===ue?P(B,_,D,J):null;case me:return ue=D._init,X(B,_,ue(D._payload),J)}if(ct(D)||ee(D))return ue!==null?null:Q(B,_,D,J,null);Ml(B,D)}return null}function re(B,_,D,J,ue){if(typeof J=="string"&&J!==""||typeof J=="number")return B=B.get(D)||null,N(_,B,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case O:return B=B.get(J.key===null?D:J.key)||null,I(_,B,J,ue);case F:return B=B.get(J.key===null?D:J.key)||null,P(_,B,J,ue);case me:var he=J._init;return re(B,_,D,he(J._payload),ue)}if(ct(J)||ee(J))return B=B.get(D)||null,Q(_,B,J,ue,null);Ml(_,J)}return null}function ie(B,_,D,J){for(var ue=null,he=null,ge=_,we=_=0,st=null;ge!==null&&we<D.length;we++){ge.index>we?(st=ge,ge=null):st=ge.sibling;var $e=X(B,ge,D[we],J);if($e===null){ge===null&&(ge=st);break}e&&ge&&$e.alternate===null&&n(B,ge),_=h($e,_,we),he===null?ue=$e:he.sibling=$e,he=$e,ge=st}if(we===D.length)return r(B,ge),Pe&&kr(B,we),ue;if(ge===null){for(;we<D.length;we++)ge=q(B,D[we],J),ge!==null&&(_=h(ge,_,we),he===null?ue=ge:he.sibling=ge,he=ge);return Pe&&kr(B,we),ue}for(ge=s(B,ge);we<D.length;we++)st=re(ge,B,we,D[we],J),st!==null&&(e&&st.alternate!==null&&ge.delete(st.key===null?we:st.key),_=h(st,_,we),he===null?ue=st:he.sibling=st,he=st);return e&&ge.forEach(function(cr){return n(B,cr)}),Pe&&kr(B,we),ue}function ce(B,_,D,J){var ue=ee(D);if(typeof ue!="function")throw Error(i(150));if(D=ue.call(D),D==null)throw Error(i(151));for(var he=ue=null,ge=_,we=_=0,st=null,$e=D.next();ge!==null&&!$e.done;we++,$e=D.next()){ge.index>we?(st=ge,ge=null):st=ge.sibling;var cr=X(B,ge,$e.value,J);if(cr===null){ge===null&&(ge=st);break}e&&ge&&cr.alternate===null&&n(B,ge),_=h(cr,_,we),he===null?ue=cr:he.sibling=cr,he=cr,ge=st}if($e.done)return r(B,ge),Pe&&kr(B,we),ue;if(ge===null){for(;!$e.done;we++,$e=D.next())$e=q(B,$e.value,J),$e!==null&&(_=h($e,_,we),he===null?ue=$e:he.sibling=$e,he=$e);return Pe&&kr(B,we),ue}for(ge=s(B,ge);!$e.done;we++,$e=D.next())$e=re(ge,B,we,$e.value,J),$e!==null&&(e&&$e.alternate!==null&&ge.delete($e.key===null?we:$e.key),_=h($e,_,we),he===null?ue=$e:he.sibling=$e,he=$e);return e&&ge.forEach(function($h){return n(B,$h)}),Pe&&kr(B,we),ue}function Qe(B,_,D,J){if(typeof D=="object"&&D!==null&&D.type===z&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case O:e:{for(var ue=D.key,he=_;he!==null;){if(he.key===ue){if(ue=D.type,ue===z){if(he.tag===7){r(B,he.sibling),_=u(he,D.props.children),_.return=B,B=_;break e}}else if(he.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===me&&qc(ue)===he.type){r(B,he.sibling),_=u(he,D.props),_.ref=Bo(B,he,D),_.return=B,B=_;break e}r(B,he);break}else n(B,he);he=he.sibling}D.type===z?(_=Rr(D.props.children,B.mode,J,D.key),_.return=B,B=_):(J=ai(D.type,D.key,D.props,null,B.mode,J),J.ref=Bo(B,_,D),J.return=B,B=J)}return w(B);case F:e:{for(he=D.key;_!==null;){if(_.key===he)if(_.tag===4&&_.stateNode.containerInfo===D.containerInfo&&_.stateNode.implementation===D.implementation){r(B,_.sibling),_=u(_,D.children||[]),_.return=B,B=_;break e}else{r(B,_);break}else n(B,_);_=_.sibling}_=ba(D,B.mode,J),_.return=B,B=_}return w(B);case me:return he=D._init,Qe(B,_,he(D._payload),J)}if(ct(D))return ie(B,_,D,J);if(ee(D))return ce(B,_,D,J);Ml(B,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,_!==null&&_.tag===6?(r(B,_.sibling),_=u(_,D),_.return=B,B=_):(r(B,_),_=va(D,B.mode,J),_.return=B,B=_),w(B)):r(B,_)}return Qe}var Zr=Jc(!0),Zc=Jc(!1),Ol=Jn(null),zl=null,eo=null,$s=null;function Rs(){$s=eo=zl=null}function Ls(e){var n=Ol.current;De(Ol),e._currentValue=n}function Is(e,n,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===r)break;e=e.return}}function to(e,n){zl=e,$s=eo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(It=!0),e.firstContext=null)}function Jt(e){var n=e._currentValue;if($s!==e)if(e={context:e,memoizedValue:n,next:null},eo===null){if(zl===null)throw Error(i(308));eo=e,zl.dependencies={lanes:0,firstContext:e}}else eo=eo.next=e;return n}var Cr=null;function As(e){Cr===null?Cr=[e]:Cr.push(e)}function eu(e,n,r,s){var u=n.interleaved;return u===null?(r.next=r,As(n)):(r.next=u.next,u.next=r),n.interleaved=r,Dn(e,s)}function Dn(e,n){e.lanes|=n;var r=e.alternate;for(r!==null&&(r.lanes|=n),r=e,e=e.return;e!==null;)e.childLanes|=n,r=e.alternate,r!==null&&(r.childLanes|=n),r=e,e=e.return;return r.tag===3?r.stateNode:null}var tr=!1;function _s(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function nr(e,n,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Te&2)!==0){var u=s.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),s.pending=n,Dn(e,r)}return u=s.interleaved,u===null?(n.next=n,As(s)):(n.next=u.next,u.next=n),s.interleaved=n,Dn(e,r)}function Hl(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194240)!==0)){var s=n.lanes;s&=e.pendingLanes,r|=s,n.lanes=r,Xi(e,r)}}function nu(e,n){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var u=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var w={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};h===null?u=h=w:h=h.next=w,r=r.next}while(r!==null);h===null?u=h=n:h=h.next=n}else u=h=n;r={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}function Fl(e,n,r,s){var u=e.updateQueue;tr=!1;var h=u.firstBaseUpdate,w=u.lastBaseUpdate,N=u.shared.pending;if(N!==null){u.shared.pending=null;var I=N,P=I.next;I.next=null,w===null?h=P:w.next=P,w=I;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,N=Q.lastBaseUpdate,N!==w&&(N===null?Q.firstBaseUpdate=P:N.next=P,Q.lastBaseUpdate=I))}if(h!==null){var q=u.baseState;w=0,Q=P=I=null,N=h;do{var X=N.lane,re=N.eventTime;if((s&X)===X){Q!==null&&(Q=Q.next={eventTime:re,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var ie=e,ce=N;switch(X=n,re=r,ce.tag){case 1:if(ie=ce.payload,typeof ie=="function"){q=ie.call(re,q,X);break e}q=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=ce.payload,X=typeof ie=="function"?ie.call(re,q,X):ie,X==null)break e;q=V({},q,X);break e;case 2:tr=!0}}N.callback!==null&&N.lane!==0&&(e.flags|=64,X=u.effects,X===null?u.effects=[N]:X.push(N))}else re={eventTime:re,lane:X,tag:N.tag,payload:N.payload,callback:N.callback,next:null},Q===null?(P=Q=re,I=q):Q=Q.next=re,w|=X;if(N=N.next,N===null){if(N=u.shared.pending,N===null)break;X=N,N=X.next,X.next=null,u.lastBaseUpdate=X,u.shared.pending=null}}while(!0);if(Q===null&&(I=q),u.baseState=I,u.firstBaseUpdate=P,u.lastBaseUpdate=Q,n=u.shared.interleaved,n!==null){u=n;do w|=u.lane,u=u.next;while(u!==n)}else h===null&&(u.shared.lanes=0);Er|=w,e.lanes=w,e.memoizedState=q}}function ru(e,n,r){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var s=e[n],u=s.callback;if(u!==null){if(s.callback=null,s=r,typeof u!="function")throw Error(i(191,u));u.call(s)}}}var Do={},En=Jn(Do),Po=Jn(Do),Mo=Jn(Do);function Sr(e){if(e===Do)throw Error(i(174));return e}function Bs(e,n){switch(Ae(Mo,n),Ae(Po,e),Ae(En,Do),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Xt(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Xt(n,e)}De(En),Ae(En,n)}function no(){De(En),De(Po),De(Mo)}function ou(e){Sr(Mo.current);var n=Sr(En.current),r=Xt(n,e.type);n!==r&&(Ae(Po,e),Ae(En,r))}function Ds(e){Po.current===e&&(De(En),De(Po))}var Fe=Jn(0);function Wl(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ps=[];function Ms(){for(var e=0;e<Ps.length;e++)Ps[e]._workInProgressVersionPrimary=null;Ps.length=0}var Ul=R.ReactCurrentDispatcher,Os=R.ReactCurrentBatchConfig,jr=0,We=null,Je=null,lt=null,Vl=!1,Oo=!1,zo=0,qp=0;function vt(){throw Error(i(321))}function zs(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!an(e[r],n[r]))return!1;return!0}function Hs(e,n,r,s,u,h){if(jr=h,We=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ul.current=e===null||e.memoizedState===null?th:nh,e=r(s,u),Oo){h=0;do{if(Oo=!1,zo=0,25<=h)throw Error(i(301));h+=1,lt=Je=null,n.updateQueue=null,Ul.current=rh,e=r(s,u)}while(Oo)}if(Ul.current=Xl,n=Je!==null&&Je.next!==null,jr=0,lt=Je=We=null,Vl=!1,n)throw Error(i(300));return e}function Fs(){var e=zo!==0;return zo=0,e}function Nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?We.memoizedState=lt=e:lt=lt.next=e,lt}function Zt(){if(Je===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var n=lt===null?We.memoizedState:lt.next;if(n!==null)lt=n,Je=e;else{if(e===null)throw Error(i(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},lt===null?We.memoizedState=lt=e:lt=lt.next=e}return lt}function Ho(e,n){return typeof n=="function"?n(e):n}function Ws(e){var n=Zt(),r=n.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var s=Je,u=s.baseQueue,h=r.pending;if(h!==null){if(u!==null){var w=u.next;u.next=h.next,h.next=w}s.baseQueue=u=h,r.pending=null}if(u!==null){h=u.next,s=s.baseState;var N=w=null,I=null,P=h;do{var Q=P.lane;if((jr&Q)===Q)I!==null&&(I=I.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),s=P.hasEagerState?P.eagerState:e(s,P.action);else{var q={lane:Q,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};I===null?(N=I=q,w=s):I=I.next=q,We.lanes|=Q,Er|=Q}P=P.next}while(P!==null&&P!==h);I===null?w=s:I.next=N,an(s,n.memoizedState)||(It=!0),n.memoizedState=s,n.baseState=w,n.baseQueue=I,r.lastRenderedState=s}if(e=r.interleaved,e!==null){u=e;do h=u.lane,We.lanes|=h,Er|=h,u=u.next;while(u!==e)}else u===null&&(r.lanes=0);return[n.memoizedState,r.dispatch]}function Us(e){var n=Zt(),r=n.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var s=r.dispatch,u=r.pending,h=n.memoizedState;if(u!==null){r.pending=null;var w=u=u.next;do h=e(h,w.action),w=w.next;while(w!==u);an(h,n.memoizedState)||(It=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),r.lastRenderedState=h}return[h,s]}function lu(){}function iu(e,n){var r=We,s=Zt(),u=n(),h=!an(s.memoizedState,u);if(h&&(s.memoizedState=u,It=!0),s=s.queue,Vs(cu.bind(null,r,s,e),[e]),s.getSnapshot!==n||h||lt!==null&&lt.memoizedState.tag&1){if(r.flags|=2048,Fo(9,au.bind(null,r,s,u,n),void 0,null),it===null)throw Error(i(349));(jr&30)!==0||su(r,n,u)}return u}function su(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=We.updateQueue,n===null?(n={lastEffect:null,stores:null},We.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function au(e,n,r,s){n.value=r,n.getSnapshot=s,uu(n)&&du(e)}function cu(e,n,r){return r(function(){uu(n)&&du(e)})}function uu(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!an(e,r)}catch{return!0}}function du(e){var n=Dn(e,1);n!==null&&pn(n,e,1,-1)}function fu(e){var n=Nn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:e},n.queue=e,e=e.dispatch=eh.bind(null,We,e),[n.memoizedState,e]}function Fo(e,n,r,s){return e={tag:e,create:n,destroy:r,deps:s,next:null},n=We.updateQueue,n===null?(n={lastEffect:null,stores:null},We.updateQueue=n,n.lastEffect=e.next=e):(r=n.lastEffect,r===null?n.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,n.lastEffect=e)),e}function pu(){return Zt().memoizedState}function Kl(e,n,r,s){var u=Nn();We.flags|=e,u.memoizedState=Fo(1|n,r,void 0,s===void 0?null:s)}function Gl(e,n,r,s){var u=Zt();s=s===void 0?null:s;var h=void 0;if(Je!==null){var w=Je.memoizedState;if(h=w.destroy,s!==null&&zs(s,w.deps)){u.memoizedState=Fo(n,r,h,s);return}}We.flags|=e,u.memoizedState=Fo(1|n,r,h,s)}function hu(e,n){return Kl(8390656,8,e,n)}function Vs(e,n){return Gl(2048,8,e,n)}function gu(e,n){return Gl(4,2,e,n)}function mu(e,n){return Gl(4,4,e,n)}function xu(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function yu(e,n,r){return r=r!=null?r.concat([e]):null,Gl(4,4,xu.bind(null,n,e),r)}function Ks(){}function vu(e,n){var r=Zt();n=n===void 0?null:n;var s=r.memoizedState;return s!==null&&n!==null&&zs(n,s[1])?s[0]:(r.memoizedState=[e,n],e)}function bu(e,n){var r=Zt();n=n===void 0?null:n;var s=r.memoizedState;return s!==null&&n!==null&&zs(n,s[1])?s[0]:(e=e(),r.memoizedState=[e,n],e)}function wu(e,n,r){return(jr&21)===0?(e.baseState&&(e.baseState=!1,It=!0),e.memoizedState=r):(an(r,n)||(r=qa(),We.lanes|=r,Er|=r,e.baseState=!0),n)}function Jp(e,n){var r=Le;Le=r!==0&&4>r?r:4,e(!0);var s=Os.transition;Os.transition={};try{e(!1),n()}finally{Le=r,Os.transition=s}}function ku(){return Zt().memoizedState}function Zp(e,n,r){var s=ir(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Cu(e))Su(n,r);else if(r=eu(e,n,r,s),r!==null){var u=Nt();pn(r,e,s,u),ju(r,n,s)}}function eh(e,n,r){var s=ir(e),u={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Cu(e))Su(n,u);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var w=n.lastRenderedState,N=h(w,r);if(u.hasEagerState=!0,u.eagerState=N,an(N,w)){var I=n.interleaved;I===null?(u.next=u,As(n)):(u.next=I.next,I.next=u),n.interleaved=u;return}}catch{}r=eu(e,n,u,s),r!==null&&(u=Nt(),pn(r,e,s,u),ju(r,n,s))}}function Cu(e){var n=e.alternate;return e===We||n!==null&&n===We}function Su(e,n){Oo=Vl=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function ju(e,n,r){if((r&4194240)!==0){var s=n.lanes;s&=e.pendingLanes,r|=s,n.lanes=r,Xi(e,r)}}var Xl={readContext:Jt,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},th={readContext:Jt,useCallback:function(e,n){return Nn().memoizedState=[e,n===void 0?null:n],e},useContext:Jt,useEffect:hu,useImperativeHandle:function(e,n,r){return r=r!=null?r.concat([e]):null,Kl(4194308,4,xu.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Kl(4194308,4,e,n)},useInsertionEffect:function(e,n){return Kl(4,2,e,n)},useMemo:function(e,n){var r=Nn();return n=n===void 0?null:n,e=e(),r.memoizedState=[e,n],e},useReducer:function(e,n,r){var s=Nn();return n=r!==void 0?r(n):n,s.memoizedState=s.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=Zp.bind(null,We,e),[s.memoizedState,e]},useRef:function(e){var n=Nn();return e={current:e},n.memoizedState=e},useState:fu,useDebugValue:Ks,useDeferredValue:function(e){return Nn().memoizedState=e},useTransition:function(){var e=fu(!1),n=e[0];return e=Jp.bind(null,e[1]),Nn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,r){var s=We,u=Nn();if(Pe){if(r===void 0)throw Error(i(407));r=r()}else{if(r=n(),it===null)throw Error(i(349));(jr&30)!==0||su(s,n,r)}u.memoizedState=r;var h={value:r,getSnapshot:n};return u.queue=h,hu(cu.bind(null,s,h,e),[e]),s.flags|=2048,Fo(9,au.bind(null,s,h,r,n),void 0,null),r},useId:function(){var e=Nn(),n=it.identifierPrefix;if(Pe){var r=Bn,s=_n;r=(s&~(1<<32-Ve(s)-1)).toString(32)+r,n=":"+n+"R"+r,r=zo++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=qp++,n=":"+n+"r"+r.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},nh={readContext:Jt,useCallback:vu,useContext:Jt,useEffect:Vs,useImperativeHandle:yu,useInsertionEffect:gu,useLayoutEffect:mu,useMemo:bu,useReducer:Ws,useRef:pu,useState:function(){return Ws(Ho)},useDebugValue:Ks,useDeferredValue:function(e){var n=Zt();return wu(n,Je.memoizedState,e)},useTransition:function(){var e=Ws(Ho)[0],n=Zt().memoizedState;return[e,n]},useMutableSource:lu,useSyncExternalStore:iu,useId:ku,unstable_isNewReconciler:!1},rh={readContext:Jt,useCallback:vu,useContext:Jt,useEffect:Vs,useImperativeHandle:yu,useInsertionEffect:gu,useLayoutEffect:mu,useMemo:bu,useReducer:Us,useRef:pu,useState:function(){return Us(Ho)},useDebugValue:Ks,useDeferredValue:function(e){var n=Zt();return Je===null?n.memoizedState=e:wu(n,Je.memoizedState,e)},useTransition:function(){var e=Us(Ho)[0],n=Zt().memoizedState;return[e,n]},useMutableSource:lu,useSyncExternalStore:iu,useId:ku,unstable_isNewReconciler:!1};function un(e,n){if(e&&e.defaultProps){n=V({},n),e=e.defaultProps;for(var r in e)n[r]===void 0&&(n[r]=e[r]);return n}return n}function Gs(e,n,r,s){n=e.memoizedState,r=r(s,n),r=r==null?n:V({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Yl={isMounted:function(e){return(e=e._reactInternals)?kn(e)===e:!1},enqueueSetState:function(e,n,r){e=e._reactInternals;var s=Nt(),u=ir(e),h=Pn(s,u);h.payload=n,r!=null&&(h.callback=r),n=nr(e,h,u),n!==null&&(pn(n,e,u,s),Hl(n,e,u))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var s=Nt(),u=ir(e),h=Pn(s,u);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=nr(e,h,u),n!==null&&(pn(n,e,u,s),Hl(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Nt(),s=ir(e),u=Pn(r,s);u.tag=2,n!=null&&(u.callback=n),n=nr(e,u,s),n!==null&&(pn(n,e,s,r),Hl(n,e,s))}};function Eu(e,n,r,s,u,h,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,w):n.prototype&&n.prototype.isPureReactComponent?!To(r,s)||!To(u,h):!0}function Nu(e,n,r){var s=!1,u=Zn,h=n.contextType;return typeof h=="object"&&h!==null?h=Jt(h):(u=Lt(n)?br:yt.current,s=n.contextTypes,h=(s=s!=null)?Yr(e,u):Zn),n=new n(r,h),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Yl,e.stateNode=n,n._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=h),n}function Tu(e,n,r,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,s),n.state!==e&&Yl.enqueueReplaceState(n,n.state,null)}function Xs(e,n,r,s){var u=e.stateNode;u.props=r,u.state=e.memoizedState,u.refs={},_s(e);var h=n.contextType;typeof h=="object"&&h!==null?u.context=Jt(h):(h=Lt(n)?br:yt.current,u.context=Yr(e,h)),u.state=e.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(Gs(e,n,h,r),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&Yl.enqueueReplaceState(u,u.state,null),Fl(e,r,u,s),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function ro(e,n){try{var r="",s=n;do r+=pe(s),s=s.return;while(s);var u=r}catch(h){u=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:n,stack:u,digest:null}}function Ys(e,n,r){return{value:e,source:null,stack:r??null,digest:n??null}}function Qs(e,n){try{console.error(n.value)}catch(r){setTimeout(function(){throw r})}}var oh=typeof WeakMap=="function"?WeakMap:Map;function $u(e,n,r){r=Pn(-1,r),r.tag=3,r.payload={element:null};var s=n.value;return r.callback=function(){ni||(ni=!0,da=s),Qs(e,n)},r}function Ru(e,n,r){r=Pn(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var u=n.value;r.payload=function(){return s(u)},r.callback=function(){Qs(e,n)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(r.callback=function(){Qs(e,n),typeof s!="function"&&(or===null?or=new Set([this]):or.add(this));var w=n.stack;this.componentDidCatch(n.value,{componentStack:w!==null?w:""})}),r}function Lu(e,n,r){var s=e.pingCache;if(s===null){s=e.pingCache=new oh;var u=new Set;s.set(n,u)}else u=s.get(n),u===void 0&&(u=new Set,s.set(n,u));u.has(r)||(u.add(r),e=yh.bind(null,e,n,r),n.then(e,e))}function Iu(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Au(e,n,r,s,u){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(n=Pn(-1,1),n.tag=2,nr(r,n,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var lh=R.ReactCurrentOwner,It=!1;function Et(e,n,r,s){n.child=e===null?Zc(n,null,r,s):Zr(n,e.child,r,s)}function _u(e,n,r,s,u){r=r.render;var h=n.ref;return to(n,u),s=Hs(e,n,r,s,h,u),r=Fs(),e!==null&&!It?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,Mn(e,n,u)):(Pe&&r&&Ss(n),n.flags|=1,Et(e,n,s,u),n.child)}function Bu(e,n,r,s,u){if(e===null){var h=r.type;return typeof h=="function"&&!ya(h)&&h.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(n.tag=15,n.type=h,Du(e,n,h,s,u)):(e=ai(r.type,null,s,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,(e.lanes&u)===0){var w=h.memoizedProps;if(r=r.compare,r=r!==null?r:To,r(w,s)&&e.ref===n.ref)return Mn(e,n,u)}return n.flags|=1,e=ar(h,s),e.ref=n.ref,e.return=n,n.child=e}function Du(e,n,r,s,u){if(e!==null){var h=e.memoizedProps;if(To(h,s)&&e.ref===n.ref)if(It=!1,n.pendingProps=s=h,(e.lanes&u)!==0)(e.flags&131072)!==0&&(It=!0);else return n.lanes=e.lanes,Mn(e,n,u)}return qs(e,n,r,s,u)}function Pu(e,n,r){var s=n.pendingProps,u=s.children,h=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(lo,Kt),Kt|=r;else{if((r&1073741824)===0)return e=h!==null?h.baseLanes|r:r,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ae(lo,Kt),Kt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=h!==null?h.baseLanes:r,Ae(lo,Kt),Kt|=s}else h!==null?(s=h.baseLanes|r,n.memoizedState=null):s=r,Ae(lo,Kt),Kt|=s;return Et(e,n,u,r),n.child}function Mu(e,n){var r=n.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(n.flags|=512,n.flags|=2097152)}function qs(e,n,r,s,u){var h=Lt(r)?br:yt.current;return h=Yr(n,h),to(n,u),r=Hs(e,n,r,s,h,u),s=Fs(),e!==null&&!It?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,Mn(e,n,u)):(Pe&&s&&Ss(n),n.flags|=1,Et(e,n,r,u),n.child)}function Ou(e,n,r,s,u){if(Lt(r)){var h=!0;Al(n)}else h=!1;if(to(n,u),n.stateNode===null)ql(e,n),Nu(n,r,s),Xs(n,r,s,u),s=!0;else if(e===null){var w=n.stateNode,N=n.memoizedProps;w.props=N;var I=w.context,P=r.contextType;typeof P=="object"&&P!==null?P=Jt(P):(P=Lt(r)?br:yt.current,P=Yr(n,P));var Q=r.getDerivedStateFromProps,q=typeof Q=="function"||typeof w.getSnapshotBeforeUpdate=="function";q||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==s||I!==P)&&Tu(n,w,s,P),tr=!1;var X=n.memoizedState;w.state=X,Fl(n,s,w,u),I=n.memoizedState,N!==s||X!==I||Rt.current||tr?(typeof Q=="function"&&(Gs(n,r,Q,s),I=n.memoizedState),(N=tr||Eu(n,r,N,s,X,I,P))?(q||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(n.flags|=4194308)):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=I),w.props=s,w.state=I,w.context=P,s=N):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{w=n.stateNode,tu(e,n),N=n.memoizedProps,P=n.type===n.elementType?N:un(n.type,N),w.props=P,q=n.pendingProps,X=w.context,I=r.contextType,typeof I=="object"&&I!==null?I=Jt(I):(I=Lt(r)?br:yt.current,I=Yr(n,I));var re=r.getDerivedStateFromProps;(Q=typeof re=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==q||X!==I)&&Tu(n,w,s,I),tr=!1,X=n.memoizedState,w.state=X,Fl(n,s,w,u);var ie=n.memoizedState;N!==q||X!==ie||Rt.current||tr?(typeof re=="function"&&(Gs(n,r,re,s),ie=n.memoizedState),(P=tr||Eu(n,r,P,s,X,ie,I)||!1)?(Q||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(s,ie,I),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(s,ie,I)),typeof w.componentDidUpdate=="function"&&(n.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof w.componentDidUpdate!="function"||N===e.memoizedProps&&X===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&X===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=ie),w.props=s,w.state=ie,w.context=I,s=P):(typeof w.componentDidUpdate!="function"||N===e.memoizedProps&&X===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&X===e.memoizedState||(n.flags|=1024),s=!1)}return Js(e,n,r,s,h,u)}function Js(e,n,r,s,u,h){Mu(e,n);var w=(n.flags&128)!==0;if(!s&&!w)return u&&Uc(n,r,!1),Mn(e,n,h);s=n.stateNode,lh.current=n;var N=w&&typeof r.getDerivedStateFromError!="function"?null:s.render();return n.flags|=1,e!==null&&w?(n.child=Zr(n,e.child,null,h),n.child=Zr(n,null,N,h)):Et(e,n,N,h),n.memoizedState=s.state,u&&Uc(n,r,!0),n.child}function zu(e){var n=e.stateNode;n.pendingContext?Fc(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Fc(e,n.context,!1),Bs(e,n.containerInfo)}function Hu(e,n,r,s,u){return Jr(),Ts(u),n.flags|=256,Et(e,n,r,s),n.child}var Zs={dehydrated:null,treeContext:null,retryLane:0};function ea(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,n,r){var s=n.pendingProps,u=Fe.current,h=!1,w=(n.flags&128)!==0,N;if((N=w)||(N=e!==null&&e.memoizedState===null?!1:(u&2)!==0),N?(h=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Ae(Fe,u&1),e===null)return Ns(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(w=s.children,e=s.fallback,h?(s=n.mode,h=n.child,w={mode:"hidden",children:w},(s&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=w):h=ci(w,s,0,null),e=Rr(e,s,r,null),h.return=n,e.return=n,h.sibling=e,n.child=h,n.child.memoizedState=ea(r),n.memoizedState=Zs,e):ta(n,w));if(u=e.memoizedState,u!==null&&(N=u.dehydrated,N!==null))return ih(e,n,w,s,N,u,r);if(h){h=s.fallback,w=n.mode,u=e.child,N=u.sibling;var I={mode:"hidden",children:s.children};return(w&1)===0&&n.child!==u?(s=n.child,s.childLanes=0,s.pendingProps=I,n.deletions=null):(s=ar(u,I),s.subtreeFlags=u.subtreeFlags&14680064),N!==null?h=ar(N,h):(h=Rr(h,w,r,null),h.flags|=2),h.return=n,s.return=n,s.sibling=h,n.child=s,s=h,h=n.child,w=e.child.memoizedState,w=w===null?ea(r):{baseLanes:w.baseLanes|r,cachePool:null,transitions:w.transitions},h.memoizedState=w,h.childLanes=e.childLanes&~r,n.memoizedState=Zs,s}return h=e.child,e=h.sibling,s=ar(h,{mode:"visible",children:s.children}),(n.mode&1)===0&&(s.lanes=r),s.return=n,s.sibling=null,e!==null&&(r=n.deletions,r===null?(n.deletions=[e],n.flags|=16):r.push(e)),n.child=s,n.memoizedState=null,s}function ta(e,n){return n=ci({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Ql(e,n,r,s){return s!==null&&Ts(s),Zr(n,e.child,null,r),e=ta(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ih(e,n,r,s,u,h,w){if(r)return n.flags&256?(n.flags&=-257,s=Ys(Error(i(422))),Ql(e,n,w,s)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(h=s.fallback,u=n.mode,s=ci({mode:"visible",children:s.children},u,0,null),h=Rr(h,u,w,null),h.flags|=2,s.return=n,h.return=n,s.sibling=h,n.child=s,(n.mode&1)!==0&&Zr(n,e.child,null,w),n.child.memoizedState=ea(w),n.memoizedState=Zs,h);if((n.mode&1)===0)return Ql(e,n,w,null);if(u.data==="$!"){if(s=u.nextSibling&&u.nextSibling.dataset,s)var N=s.dgst;return s=N,h=Error(i(419)),s=Ys(h,s,void 0),Ql(e,n,w,s)}if(N=(w&e.childLanes)!==0,It||N){if(s=it,s!==null){switch(w&-w){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(s.suspendedLanes|w))!==0?0:u,u!==0&&u!==h.retryLane&&(h.retryLane=u,Dn(e,u),pn(s,e,u,-1))}return xa(),s=Ys(Error(i(421))),Ql(e,n,w,s)}return u.data==="$?"?(n.flags|=128,n.child=e.child,n=vh.bind(null,e),u._reactRetry=n,null):(e=h.treeContext,Vt=qn(u.nextSibling),Ut=n,Pe=!0,cn=null,e!==null&&(Qt[qt++]=_n,Qt[qt++]=Bn,Qt[qt++]=wr,_n=e.id,Bn=e.overflow,wr=n),n=ta(n,s.children),n.flags|=4096,n)}function Wu(e,n,r){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Is(e.return,n,r)}function na(e,n,r,s,u){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:u}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=s,h.tail=r,h.tailMode=u)}function Uu(e,n,r){var s=n.pendingProps,u=s.revealOrder,h=s.tail;if(Et(e,n,s.children,r),s=Fe.current,(s&2)!==0)s=s&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wu(e,r,n);else if(e.tag===19)Wu(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ae(Fe,s),(n.mode&1)===0)n.memoizedState=null;else switch(u){case"forwards":for(r=n.child,u=null;r!==null;)e=r.alternate,e!==null&&Wl(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),na(n,!1,u,r,h);break;case"backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Wl(e)===null){n.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}na(n,!0,r,null,h);break;case"together":na(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ql(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Mn(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Er|=n.lanes,(r&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,r=ar(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=ar(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function sh(e,n,r){switch(n.tag){case 3:zu(n),Jr();break;case 5:ou(n);break;case 1:Lt(n.type)&&Al(n);break;case 4:Bs(n,n.stateNode.containerInfo);break;case 10:var s=n.type._context,u=n.memoizedProps.value;Ae(Ol,s._currentValue),s._currentValue=u;break;case 13:if(s=n.memoizedState,s!==null)return s.dehydrated!==null?(Ae(Fe,Fe.current&1),n.flags|=128,null):(r&n.child.childLanes)!==0?Fu(e,n,r):(Ae(Fe,Fe.current&1),e=Mn(e,n,r),e!==null?e.sibling:null);Ae(Fe,Fe.current&1);break;case 19:if(s=(r&n.childLanes)!==0,(e.flags&128)!==0){if(s)return Uu(e,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Ae(Fe,Fe.current),s)break;return null;case 22:case 23:return n.lanes=0,Pu(e,n,r)}return Mn(e,n,r)}var Vu,ra,Ku,Gu;Vu=function(e,n){for(var r=n.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},ra=function(){},Ku=function(e,n,r,s){var u=e.memoizedProps;if(u!==s){e=n.stateNode,Sr(En.current);var h=null;switch(r){case"input":u=je(e,u),s=je(e,s),h=[];break;case"select":u=V({},u,{value:void 0}),s=V({},s,{value:void 0}),h=[];break;case"textarea":u=xn(e,u),s=xn(e,s),h=[];break;default:typeof u.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Rl)}Hn(r,s);var w;r=null;for(P in u)if(!s.hasOwnProperty(P)&&u.hasOwnProperty(P)&&u[P]!=null)if(P==="style"){var N=u[P];for(w in N)N.hasOwnProperty(w)&&(r||(r={}),r[w]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(c.hasOwnProperty(P)?h||(h=[]):(h=h||[]).push(P,null));for(P in s){var I=s[P];if(N=u?.[P],s.hasOwnProperty(P)&&I!==N&&(I!=null||N!=null))if(P==="style")if(N){for(w in N)!N.hasOwnProperty(w)||I&&I.hasOwnProperty(w)||(r||(r={}),r[w]="");for(w in I)I.hasOwnProperty(w)&&N[w]!==I[w]&&(r||(r={}),r[w]=I[w])}else r||(h||(h=[]),h.push(P,r)),r=I;else P==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,N=N?N.__html:void 0,I!=null&&N!==I&&(h=h||[]).push(P,I)):P==="children"?typeof I!="string"&&typeof I!="number"||(h=h||[]).push(P,""+I):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(c.hasOwnProperty(P)?(I!=null&&P==="onScroll"&&Be("scroll",e),h||N===I||(h=[])):(h=h||[]).push(P,I))}r&&(h=h||[]).push("style",r);var P=h;(n.updateQueue=P)&&(n.flags|=4)}},Gu=function(e,n,r,s){r!==s&&(n.flags|=4)};function Wo(e,n){if(!Pe)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function bt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(n)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,s|=u.subtreeFlags&14680064,s|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=r,n}function ah(e,n,r){var s=n.pendingProps;switch(js(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(n),null;case 1:return Lt(n.type)&&Il(),bt(n),null;case 3:return s=n.stateNode,no(),De(Rt),De(yt),Ms(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Pl(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,cn!==null&&(ha(cn),cn=null))),ra(e,n),bt(n),null;case 5:Ds(n);var u=Sr(Mo.current);if(r=n.type,e!==null&&n.stateNode!=null)Ku(e,n,r,s,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!s){if(n.stateNode===null)throw Error(i(166));return bt(n),null}if(e=Sr(En.current),Pl(n)){s=n.stateNode,r=n.type;var h=n.memoizedProps;switch(s[jn]=n,s[Ao]=h,e=(n.mode&1)!==0,r){case"dialog":Be("cancel",s),Be("close",s);break;case"iframe":case"object":case"embed":Be("load",s);break;case"video":case"audio":for(u=0;u<Ro.length;u++)Be(Ro[u],s);break;case"source":Be("error",s);break;case"img":case"image":case"link":Be("error",s),Be("load",s);break;case"details":Be("toggle",s);break;case"input":ht(s,h),Be("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!h.multiple},Be("invalid",s);break;case"textarea":fr(s,h),Be("invalid",s)}Hn(r,h),u=null;for(var w in h)if(h.hasOwnProperty(w)){var N=h[w];w==="children"?typeof N=="string"?s.textContent!==N&&(h.suppressHydrationWarning!==!0&&$l(s.textContent,N,e),u=["children",N]):typeof N=="number"&&s.textContent!==""+N&&(h.suppressHydrationWarning!==!0&&$l(s.textContent,N,e),u=["children",""+N]):c.hasOwnProperty(w)&&N!=null&&w==="onScroll"&&Be("scroll",s)}switch(r){case"input":kt(s),mn(s,h,!0);break;case"textarea":kt(s),Ar(s);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(s.onclick=Rl)}s=u,n.updateQueue=s,s!==null&&(n.flags|=4)}else{w=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_r(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=w.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=w.createElement(r,{is:s.is}):(e=w.createElement(r),r==="select"&&(w=e,s.multiple?w.multiple=!0:s.size&&(w.size=s.size))):e=w.createElementNS(e,r),e[jn]=n,e[Ao]=s,Vu(e,n,!1,!1),n.stateNode=e;e:{switch(w=mr(r,s),r){case"dialog":Be("cancel",e),Be("close",e),u=s;break;case"iframe":case"object":case"embed":Be("load",e),u=s;break;case"video":case"audio":for(u=0;u<Ro.length;u++)Be(Ro[u],e);u=s;break;case"source":Be("error",e),u=s;break;case"img":case"image":case"link":Be("error",e),Be("load",e),u=s;break;case"details":Be("toggle",e),u=s;break;case"input":ht(e,s),u=je(e,s),Be("invalid",e);break;case"option":u=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},u=V({},s,{value:void 0}),Be("invalid",e);break;case"textarea":fr(e,s),u=xn(e,s),Be("invalid",e);break;default:u=s}Hn(r,u),N=u;for(h in N)if(N.hasOwnProperty(h)){var I=N[h];h==="style"?Dr(e,I):h==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&yn(e,I)):h==="children"?typeof I=="string"?(r!=="textarea"||I!=="")&&vn(e,I):typeof I=="number"&&vn(e,""+I):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(c.hasOwnProperty(h)?I!=null&&h==="onScroll"&&Be("scroll",e):I!=null&&T(e,h,I,w))}switch(r){case"input":kt(e),mn(e,s,!1);break;case"textarea":kt(e),Ar(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ye(s.value));break;case"select":e.multiple=!!s.multiple,h=s.value,h!=null?Dt(e,!!s.multiple,h,!1):s.defaultValue!=null&&Dt(e,!!s.multiple,s.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Rl)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return bt(n),null;case 6:if(e&&n.stateNode!=null)Gu(e,n,e.memoizedProps,s);else{if(typeof s!="string"&&n.stateNode===null)throw Error(i(166));if(r=Sr(Mo.current),Sr(En.current),Pl(n)){if(s=n.stateNode,r=n.memoizedProps,s[jn]=n,(h=s.nodeValue!==r)&&(e=Ut,e!==null))switch(e.tag){case 3:$l(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$l(s.nodeValue,r,(e.mode&1)!==0)}h&&(n.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[jn]=n,n.stateNode=s}return bt(n),null;case 13:if(De(Fe),s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pe&&Vt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Qc(),Jr(),n.flags|=98560,h=!1;else if(h=Pl(n),s!==null&&s.dehydrated!==null){if(e===null){if(!h)throw Error(i(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[jn]=n}else Jr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;bt(n),h=!1}else cn!==null&&(ha(cn),cn=null),h=!0;if(!h)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=r,n):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Fe.current&1)!==0?Ze===0&&(Ze=3):xa())),n.updateQueue!==null&&(n.flags|=4),bt(n),null);case 4:return no(),ra(e,n),e===null&&Lo(n.stateNode.containerInfo),bt(n),null;case 10:return Ls(n.type._context),bt(n),null;case 17:return Lt(n.type)&&Il(),bt(n),null;case 19:if(De(Fe),h=n.memoizedState,h===null)return bt(n),null;if(s=(n.flags&128)!==0,w=h.rendering,w===null)if(s)Wo(h,!1);else{if(Ze!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(w=Wl(e),w!==null){for(n.flags|=128,Wo(h,!1),s=w.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),n.subtreeFlags=0,s=r,r=n.child;r!==null;)h=r,e=s,h.flags&=14680066,w=h.alternate,w===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=w.childLanes,h.lanes=w.lanes,h.child=w.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=w.memoizedProps,h.memoizedState=w.memoizedState,h.updateQueue=w.updateQueue,h.type=w.type,e=w.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ae(Fe,Fe.current&1|2),n.child}e=e.sibling}h.tail!==null&&He()>io&&(n.flags|=128,s=!0,Wo(h,!1),n.lanes=4194304)}else{if(!s)if(e=Wl(w),e!==null){if(n.flags|=128,s=!0,r=e.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),Wo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!Pe)return bt(n),null}else 2*He()-h.renderingStartTime>io&&r!==1073741824&&(n.flags|=128,s=!0,Wo(h,!1),n.lanes=4194304);h.isBackwards?(w.sibling=n.child,n.child=w):(r=h.last,r!==null?r.sibling=w:n.child=w,h.last=w)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=He(),n.sibling=null,r=Fe.current,Ae(Fe,s?r&1|2:r&1),n):(bt(n),null);case 22:case 23:return ma(),s=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(n.flags|=8192),s&&(n.mode&1)!==0?(Kt&1073741824)!==0&&(bt(n),n.subtreeFlags&6&&(n.flags|=8192)):bt(n),null;case 24:return null;case 25:return null}throw Error(i(156,n.tag))}function ch(e,n){switch(js(n),n.tag){case 1:return Lt(n.type)&&Il(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return no(),De(Rt),De(yt),Ms(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Ds(n),null;case 13:if(De(Fe),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Jr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return De(Fe),null;case 4:return no(),null;case 10:return Ls(n.type._context),null;case 22:case 23:return ma(),null;case 24:return null;default:return null}}var Jl=!1,wt=!1,uh=typeof WeakSet=="function"?WeakSet:Set,le=null;function oo(e,n){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Ke(e,n,s)}else r.current=null}function oa(e,n,r){try{r()}catch(s){Ke(e,n,s)}}var Xu=!1;function dh(e,n){if(ms=yl,e=Ec(),as(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var u=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var w=0,N=-1,I=-1,P=0,Q=0,q=e,X=null;t:for(;;){for(var re;q!==r||u!==0&&q.nodeType!==3||(N=w+u),q!==h||s!==0&&q.nodeType!==3||(I=w+s),q.nodeType===3&&(w+=q.nodeValue.length),(re=q.firstChild)!==null;)X=q,q=re;for(;;){if(q===e)break t;if(X===r&&++P===u&&(N=w),X===h&&++Q===s&&(I=w),(re=q.nextSibling)!==null)break;q=X,X=q.parentNode}q=re}r=N===-1||I===-1?null:{start:N,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(xs={focusedElem:e,selectionRange:r},yl=!1,le=n;le!==null;)if(n=le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,le=e;else for(;le!==null;){n=le;try{var ie=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var ce=ie.memoizedProps,Qe=ie.memoizedState,B=n.stateNode,_=B.getSnapshotBeforeUpdate(n.elementType===n.type?ce:un(n.type,ce),Qe);B.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var D=n.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(J){Ke(n,n.return,J)}if(e=n.sibling,e!==null){e.return=n.return,le=e;break}le=n.return}return ie=Xu,Xu=!1,ie}function Uo(e,n,r){var s=n.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&e)===e){var h=u.destroy;u.destroy=void 0,h!==void 0&&oa(n,r,h)}u=u.next}while(u!==s)}}function Zl(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==n)}}function la(e){var n=e.ref;if(n!==null){var r=e.stateNode;e.tag,e=r,typeof n=="function"?n(e):n.current=e}}function Yu(e){var n=e.alternate;n!==null&&(e.alternate=null,Yu(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[jn],delete n[Ao],delete n[ws],delete n[Gp],delete n[Xp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qu(e){return e.tag===5||e.tag===3||e.tag===4}function qu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ia(e,n,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(e,r)):(n=r,n.appendChild(e)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Rl));else if(s!==4&&(e=e.child,e!==null))for(ia(e,n,r),e=e.sibling;e!==null;)ia(e,n,r),e=e.sibling}function sa(e,n,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(sa(e,n,r),e=e.sibling;e!==null;)sa(e,n,r),e=e.sibling}var dt=null,dn=!1;function rr(e,n,r){for(r=r.child;r!==null;)Ju(e,n,r),r=r.sibling}function Ju(e,n,r){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(be,r)}catch{}switch(r.tag){case 5:wt||oo(r,n);case 6:var s=dt,u=dn;dt=null,rr(e,n,r),dt=s,dn=u,dt!==null&&(dn?(e=dt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):dt.removeChild(r.stateNode));break;case 18:dt!==null&&(dn?(e=dt,r=r.stateNode,e.nodeType===8?bs(e.parentNode,r):e.nodeType===1&&bs(e,r),ko(e)):bs(dt,r.stateNode));break;case 4:s=dt,u=dn,dt=r.stateNode.containerInfo,dn=!0,rr(e,n,r),dt=s,dn=u;break;case 0:case 11:case 14:case 15:if(!wt&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){u=s=s.next;do{var h=u,w=h.destroy;h=h.tag,w!==void 0&&((h&2)!==0||(h&4)!==0)&&oa(r,n,w),u=u.next}while(u!==s)}rr(e,n,r);break;case 1:if(!wt&&(oo(r,n),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(N){Ke(r,n,N)}rr(e,n,r);break;case 21:rr(e,n,r);break;case 22:r.mode&1?(wt=(s=wt)||r.memoizedState!==null,rr(e,n,r),wt=s):rr(e,n,r);break;default:rr(e,n,r)}}function Zu(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new uh),n.forEach(function(s){var u=bh.bind(null,e,s);r.has(s)||(r.add(s),s.then(u,u))})}}function fn(e,n){var r=n.deletions;if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];try{var h=e,w=n,N=w;e:for(;N!==null;){switch(N.tag){case 5:dt=N.stateNode,dn=!1;break e;case 3:dt=N.stateNode.containerInfo,dn=!0;break e;case 4:dt=N.stateNode.containerInfo,dn=!0;break e}N=N.return}if(dt===null)throw Error(i(160));Ju(h,w,u),dt=null,dn=!1;var I=u.alternate;I!==null&&(I.return=null),u.return=null}catch(P){Ke(u,n,P)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)ed(n,e),n=n.sibling}function ed(e,n){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fn(n,e),Tn(e),s&4){try{Uo(3,e,e.return),Zl(3,e)}catch(ce){Ke(e,e.return,ce)}try{Uo(5,e,e.return)}catch(ce){Ke(e,e.return,ce)}}break;case 1:fn(n,e),Tn(e),s&512&&r!==null&&oo(r,r.return);break;case 5:if(fn(n,e),Tn(e),s&512&&r!==null&&oo(r,r.return),e.flags&32){var u=e.stateNode;try{vn(u,"")}catch(ce){Ke(e,e.return,ce)}}if(s&4&&(u=e.stateNode,u!=null)){var h=e.memoizedProps,w=r!==null?r.memoizedProps:h,N=e.type,I=e.updateQueue;if(e.updateQueue=null,I!==null)try{N==="input"&&h.type==="radio"&&h.name!=null&&Gt(u,h),mr(N,w);var P=mr(N,h);for(w=0;w<I.length;w+=2){var Q=I[w],q=I[w+1];Q==="style"?Dr(u,q):Q==="dangerouslySetInnerHTML"?yn(u,q):Q==="children"?vn(u,q):T(u,Q,q,P)}switch(N){case"input":Ct(u,h);break;case"textarea":pr(u,h);break;case"select":var X=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!h.multiple;var re=h.value;re!=null?Dt(u,!!h.multiple,re,!1):X!==!!h.multiple&&(h.defaultValue!=null?Dt(u,!!h.multiple,h.defaultValue,!0):Dt(u,!!h.multiple,h.multiple?[]:"",!1))}u[Ao]=h}catch(ce){Ke(e,e.return,ce)}}break;case 6:if(fn(n,e),Tn(e),s&4){if(e.stateNode===null)throw Error(i(162));u=e.stateNode,h=e.memoizedProps;try{u.nodeValue=h}catch(ce){Ke(e,e.return,ce)}}break;case 3:if(fn(n,e),Tn(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{ko(n.containerInfo)}catch(ce){Ke(e,e.return,ce)}break;case 4:fn(n,e),Tn(e);break;case 13:fn(n,e),Tn(e),u=e.child,u.flags&8192&&(h=u.memoizedState!==null,u.stateNode.isHidden=h,!h||u.alternate!==null&&u.alternate.memoizedState!==null||(ua=He())),s&4&&Zu(e);break;case 22:if(Q=r!==null&&r.memoizedState!==null,e.mode&1?(wt=(P=wt)||Q,fn(n,e),wt=P):fn(n,e),Tn(e),s&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!Q&&(e.mode&1)!==0)for(le=e,Q=e.child;Q!==null;){for(q=le=Q;le!==null;){switch(X=le,re=X.child,X.tag){case 0:case 11:case 14:case 15:Uo(4,X,X.return);break;case 1:oo(X,X.return);var ie=X.stateNode;if(typeof ie.componentWillUnmount=="function"){s=X,r=X.return;try{n=s,ie.props=n.memoizedProps,ie.state=n.memoizedState,ie.componentWillUnmount()}catch(ce){Ke(s,r,ce)}}break;case 5:oo(X,X.return);break;case 22:if(X.memoizedState!==null){rd(q);continue}}re!==null?(re.return=X,le=re):rd(q)}Q=Q.sibling}e:for(Q=null,q=e;;){if(q.tag===5){if(Q===null){Q=q;try{u=q.stateNode,P?(h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(N=q.stateNode,I=q.memoizedProps.style,w=I!=null&&I.hasOwnProperty("display")?I.display:null,N.style.display=Br("display",w))}catch(ce){Ke(e,e.return,ce)}}}else if(q.tag===6){if(Q===null)try{q.stateNode.nodeValue=P?"":q.memoizedProps}catch(ce){Ke(e,e.return,ce)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===e)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===e)break e;for(;q.sibling===null;){if(q.return===null||q.return===e)break e;Q===q&&(Q=null),q=q.return}Q===q&&(Q=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:fn(n,e),Tn(e),s&4&&Zu(e);break;case 21:break;default:fn(n,e),Tn(e)}}function Tn(e){var n=e.flags;if(n&2){try{e:{for(var r=e.return;r!==null;){if(Qu(r)){var s=r;break e}r=r.return}throw Error(i(160))}switch(s.tag){case 5:var u=s.stateNode;s.flags&32&&(vn(u,""),s.flags&=-33);var h=qu(e);sa(e,h,u);break;case 3:case 4:var w=s.stateNode.containerInfo,N=qu(e);ia(e,N,w);break;default:throw Error(i(161))}}catch(I){Ke(e,e.return,I)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function fh(e,n,r){le=e,td(e)}function td(e,n,r){for(var s=(e.mode&1)!==0;le!==null;){var u=le,h=u.child;if(u.tag===22&&s){var w=u.memoizedState!==null||Jl;if(!w){var N=u.alternate,I=N!==null&&N.memoizedState!==null||wt;N=Jl;var P=wt;if(Jl=w,(wt=I)&&!P)for(le=u;le!==null;)w=le,I=w.child,w.tag===22&&w.memoizedState!==null?od(u):I!==null?(I.return=w,le=I):od(u);for(;h!==null;)le=h,td(h),h=h.sibling;le=u,Jl=N,wt=P}nd(e)}else(u.subtreeFlags&8772)!==0&&h!==null?(h.return=u,le=h):nd(e)}}function nd(e){for(;le!==null;){var n=le;if((n.flags&8772)!==0){var r=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:wt||Zl(5,n);break;case 1:var s=n.stateNode;if(n.flags&4&&!wt)if(r===null)s.componentDidMount();else{var u=n.elementType===n.type?r.memoizedProps:un(n.type,r.memoizedProps);s.componentDidUpdate(u,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var h=n.updateQueue;h!==null&&ru(n,h,s);break;case 3:var w=n.updateQueue;if(w!==null){if(r=null,n.child!==null)switch(n.child.tag){case 5:r=n.child.stateNode;break;case 1:r=n.child.stateNode}ru(n,w,r)}break;case 5:var N=n.stateNode;if(r===null&&n.flags&4){r=N;var I=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&r.focus();break;case"img":I.src&&(r.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var P=n.alternate;if(P!==null){var Q=P.memoizedState;if(Q!==null){var q=Q.dehydrated;q!==null&&ko(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}wt||n.flags&512&&la(n)}catch(X){Ke(n,n.return,X)}}if(n===e){le=null;break}if(r=n.sibling,r!==null){r.return=n.return,le=r;break}le=n.return}}function rd(e){for(;le!==null;){var n=le;if(n===e){le=null;break}var r=n.sibling;if(r!==null){r.return=n.return,le=r;break}le=n.return}}function od(e){for(;le!==null;){var n=le;try{switch(n.tag){case 0:case 11:case 15:var r=n.return;try{Zl(4,n)}catch(I){Ke(n,r,I)}break;case 1:var s=n.stateNode;if(typeof s.componentDidMount=="function"){var u=n.return;try{s.componentDidMount()}catch(I){Ke(n,u,I)}}var h=n.return;try{la(n)}catch(I){Ke(n,h,I)}break;case 5:var w=n.return;try{la(n)}catch(I){Ke(n,w,I)}}}catch(I){Ke(n,n.return,I)}if(n===e){le=null;break}var N=n.sibling;if(N!==null){N.return=n.return,le=N;break}le=n.return}}var ph=Math.ceil,ei=R.ReactCurrentDispatcher,aa=R.ReactCurrentOwner,en=R.ReactCurrentBatchConfig,Te=0,it=null,qe=null,ft=0,Kt=0,lo=Jn(0),Ze=0,Vo=null,Er=0,ti=0,ca=0,Ko=null,At=null,ua=0,io=1/0,On=null,ni=!1,da=null,or=null,ri=!1,lr=null,oi=0,Go=0,fa=null,li=-1,ii=0;function Nt(){return(Te&6)!==0?He():li!==-1?li:li=He()}function ir(e){return(e.mode&1)===0?1:(Te&2)!==0&&ft!==0?ft&-ft:Qp.transition!==null?(ii===0&&(ii=qa()),ii):(e=Le,e!==0||(e=window.event,e=e===void 0?16:ic(e.type)),e)}function pn(e,n,r,s){if(50<Go)throw Go=0,fa=null,Error(i(185));xo(e,r,s),((Te&2)===0||e!==it)&&(e===it&&((Te&2)===0&&(ti|=r),Ze===4&&sr(e,ft)),_t(e,s),r===1&&Te===0&&(n.mode&1)===0&&(io=He()+500,_l&&er()))}function _t(e,n){var r=e.callbackNode;Vi(e,n);var s=mo(e,e===it?ft:0);if(s===0)r!==null&&fl(r),e.callbackNode=null,e.callbackPriority=0;else if(n=s&-s,e.callbackPriority!==n){if(r!=null&&fl(r),n===1)e.tag===0?Yp(id.bind(null,e)):Vc(id.bind(null,e)),Vp(function(){(Te&6)===0&&er()}),r=null;else{switch(Ja(s)){case 1:r=go;break;case 4:r=pl;break;case 16:r=Or;break;case 536870912:r=yr;break;default:r=Or}r=hd(r,ld.bind(null,e))}e.callbackPriority=n,e.callbackNode=r}}function ld(e,n){if(li=-1,ii=0,(Te&6)!==0)throw Error(i(327));var r=e.callbackNode;if(so()&&e.callbackNode!==r)return null;var s=mo(e,e===it?ft:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||n)n=si(e,s);else{n=s;var u=Te;Te|=2;var h=ad();(it!==e||ft!==n)&&(On=null,io=He()+500,Tr(e,n));do try{mh();break}catch(N){sd(e,N)}while(!0);Rs(),ei.current=h,Te=u,qe!==null?n=0:(it=null,ft=0,n=Ze)}if(n!==0){if(n===2&&(u=Ki(e),u!==0&&(s=u,n=pa(e,u))),n===1)throw r=Vo,Tr(e,0),sr(e,s),_t(e,He()),r;if(n===6)sr(e,s);else{if(u=e.current.alternate,(s&30)===0&&!hh(u)&&(n=si(e,s),n===2&&(h=Ki(e),h!==0&&(s=h,n=pa(e,h))),n===1))throw r=Vo,Tr(e,0),sr(e,s),_t(e,He()),r;switch(e.finishedWork=u,e.finishedLanes=s,n){case 0:case 1:throw Error(i(345));case 2:$r(e,At,On);break;case 3:if(sr(e,s),(s&130023424)===s&&(n=ua+500-He(),10<n)){if(mo(e,0)!==0)break;if(u=e.suspendedLanes,(u&s)!==s){Nt(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=vs($r.bind(null,e,At,On),n);break}$r(e,At,On);break;case 4:if(sr(e,s),(s&4194240)===s)break;for(n=e.eventTimes,u=-1;0<s;){var w=31-Ve(s);h=1<<w,w=n[w],w>u&&(u=w),s&=~h}if(s=u,s=He()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*ph(s/1960))-s,10<s){e.timeoutHandle=vs($r.bind(null,e,At,On),s);break}$r(e,At,On);break;case 5:$r(e,At,On);break;default:throw Error(i(329))}}}return _t(e,He()),e.callbackNode===r?ld.bind(null,e):null}function pa(e,n){var r=Ko;return e.current.memoizedState.isDehydrated&&(Tr(e,n).flags|=256),e=si(e,n),e!==2&&(n=At,At=r,n!==null&&ha(n)),e}function ha(e){At===null?At=e:At.push.apply(At,e)}function hh(e){for(var n=e;;){if(n.flags&16384){var r=n.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var u=r[s],h=u.getSnapshot;u=u.value;try{if(!an(h(),u))return!1}catch{return!1}}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function sr(e,n){for(n&=~ca,n&=~ti,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var r=31-Ve(n),s=1<<r;e[r]=-1,n&=~s}}function id(e){if((Te&6)!==0)throw Error(i(327));so();var n=mo(e,0);if((n&1)===0)return _t(e,He()),null;var r=si(e,n);if(e.tag!==0&&r===2){var s=Ki(e);s!==0&&(n=s,r=pa(e,s))}if(r===1)throw r=Vo,Tr(e,0),sr(e,n),_t(e,He()),r;if(r===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,$r(e,At,On),_t(e,He()),null}function ga(e,n){var r=Te;Te|=1;try{return e(n)}finally{Te=r,Te===0&&(io=He()+500,_l&&er())}}function Nr(e){lr!==null&&lr.tag===0&&(Te&6)===0&&so();var n=Te;Te|=1;var r=en.transition,s=Le;try{if(en.transition=null,Le=1,e)return e()}finally{Le=s,en.transition=r,Te=n,(Te&6)===0&&er()}}function ma(){Kt=lo.current,De(lo)}function Tr(e,n){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Up(r)),qe!==null)for(r=qe.return;r!==null;){var s=r;switch(js(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Il();break;case 3:no(),De(Rt),De(yt),Ms();break;case 5:Ds(s);break;case 4:no();break;case 13:De(Fe);break;case 19:De(Fe);break;case 10:Ls(s.type._context);break;case 22:case 23:ma()}r=r.return}if(it=e,qe=e=ar(e.current,null),ft=Kt=n,Ze=0,Vo=null,ca=ti=Er=0,At=Ko=null,Cr!==null){for(n=0;n<Cr.length;n++)if(r=Cr[n],s=r.interleaved,s!==null){r.interleaved=null;var u=s.next,h=r.pending;if(h!==null){var w=h.next;h.next=u,s.next=w}r.pending=s}Cr=null}return e}function sd(e,n){do{var r=qe;try{if(Rs(),Ul.current=Xl,Vl){for(var s=We.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}Vl=!1}if(jr=0,lt=Je=We=null,Oo=!1,zo=0,aa.current=null,r===null||r.return===null){Ze=1,Vo=n,qe=null;break}e:{var h=e,w=r.return,N=r,I=n;if(n=ft,N.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var P=I,Q=N,q=Q.tag;if((Q.mode&1)===0&&(q===0||q===11||q===15)){var X=Q.alternate;X?(Q.updateQueue=X.updateQueue,Q.memoizedState=X.memoizedState,Q.lanes=X.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var re=Iu(w);if(re!==null){re.flags&=-257,Au(re,w,N,h,n),re.mode&1&&Lu(h,P,n),n=re,I=P;var ie=n.updateQueue;if(ie===null){var ce=new Set;ce.add(I),n.updateQueue=ce}else ie.add(I);break e}else{if((n&1)===0){Lu(h,P,n),xa();break e}I=Error(i(426))}}else if(Pe&&N.mode&1){var Qe=Iu(w);if(Qe!==null){(Qe.flags&65536)===0&&(Qe.flags|=256),Au(Qe,w,N,h,n),Ts(ro(I,N));break e}}h=I=ro(I,N),Ze!==4&&(Ze=2),Ko===null?Ko=[h]:Ko.push(h),h=w;do{switch(h.tag){case 3:h.flags|=65536,n&=-n,h.lanes|=n;var B=$u(h,I,n);nu(h,B);break e;case 1:N=I;var _=h.type,D=h.stateNode;if((h.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(or===null||!or.has(D)))){h.flags|=65536,n&=-n,h.lanes|=n;var J=Ru(h,N,n);nu(h,J);break e}}h=h.return}while(h!==null)}ud(r)}catch(ue){n=ue,qe===r&&r!==null&&(qe=r=r.return);continue}break}while(!0)}function ad(){var e=ei.current;return ei.current=Xl,e===null?Xl:e}function xa(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),it===null||(Er&268435455)===0&&(ti&268435455)===0||sr(it,ft)}function si(e,n){var r=Te;Te|=2;var s=ad();(it!==e||ft!==n)&&(On=null,Tr(e,n));do try{gh();break}catch(u){sd(e,u)}while(!0);if(Rs(),Te=r,ei.current=s,qe!==null)throw Error(i(261));return it=null,ft=0,Ze}function gh(){for(;qe!==null;)cd(qe)}function mh(){for(;qe!==null&&!Fi();)cd(qe)}function cd(e){var n=pd(e.alternate,e,Kt);e.memoizedProps=e.pendingProps,n===null?ud(e):qe=n,aa.current=null}function ud(e){var n=e;do{var r=n.alternate;if(e=n.return,(n.flags&32768)===0){if(r=ah(r,n,Kt),r!==null){qe=r;return}}else{if(r=ch(r,n),r!==null){r.flags&=32767,qe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ze=6,qe=null;return}}if(n=n.sibling,n!==null){qe=n;return}qe=n=e}while(n!==null);Ze===0&&(Ze=5)}function $r(e,n,r){var s=Le,u=en.transition;try{en.transition=null,Le=1,xh(e,n,r,s)}finally{en.transition=u,Le=s}return null}function xh(e,n,r,s){do so();while(lr!==null);if((Te&6)!==0)throw Error(i(327));r=e.finishedWork;var u=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var h=r.lanes|r.childLanes;if(qf(e,h),e===it&&(qe=it=null,ft=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||ri||(ri=!0,hd(Or,function(){return so(),null})),h=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||h){h=en.transition,en.transition=null;var w=Le;Le=1;var N=Te;Te|=4,aa.current=null,dh(e,r),ed(r,e),Pp(xs),yl=!!ms,xs=ms=null,e.current=r,fh(r),Wi(),Te=N,Le=w,en.transition=h}else e.current=r;if(ri&&(ri=!1,lr=e,oi=u),h=e.pendingLanes,h===0&&(or=null),Ue(r.stateNode),_t(e,He()),n!==null)for(s=e.onRecoverableError,r=0;r<n.length;r++)u=n[r],s(u.value,{componentStack:u.stack,digest:u.digest});if(ni)throw ni=!1,e=da,da=null,e;return(oi&1)!==0&&e.tag!==0&&so(),h=e.pendingLanes,(h&1)!==0?e===fa?Go++:(Go=0,fa=e):Go=0,er(),null}function so(){if(lr!==null){var e=Ja(oi),n=en.transition,r=Le;try{if(en.transition=null,Le=16>e?16:e,lr===null)var s=!1;else{if(e=lr,lr=null,oi=0,(Te&6)!==0)throw Error(i(331));var u=Te;for(Te|=4,le=e.current;le!==null;){var h=le,w=h.child;if((le.flags&16)!==0){var N=h.deletions;if(N!==null){for(var I=0;I<N.length;I++){var P=N[I];for(le=P;le!==null;){var Q=le;switch(Q.tag){case 0:case 11:case 15:Uo(8,Q,h)}var q=Q.child;if(q!==null)q.return=Q,le=q;else for(;le!==null;){Q=le;var X=Q.sibling,re=Q.return;if(Yu(Q),Q===P){le=null;break}if(X!==null){X.return=re,le=X;break}le=re}}}var ie=h.alternate;if(ie!==null){var ce=ie.child;if(ce!==null){ie.child=null;do{var Qe=ce.sibling;ce.sibling=null,ce=Qe}while(ce!==null)}}le=h}}if((h.subtreeFlags&2064)!==0&&w!==null)w.return=h,le=w;else e:for(;le!==null;){if(h=le,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:Uo(9,h,h.return)}var B=h.sibling;if(B!==null){B.return=h.return,le=B;break e}le=h.return}}var _=e.current;for(le=_;le!==null;){w=le;var D=w.child;if((w.subtreeFlags&2064)!==0&&D!==null)D.return=w,le=D;else e:for(w=_;le!==null;){if(N=le,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:Zl(9,N)}}catch(ue){Ke(N,N.return,ue)}if(N===w){le=null;break e}var J=N.sibling;if(J!==null){J.return=N.return,le=J;break e}le=N.return}}if(Te=u,er(),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(be,e)}catch{}s=!0}return s}finally{Le=r,en.transition=n}}return!1}function dd(e,n,r){n=ro(r,n),n=$u(e,n,1),e=nr(e,n,1),n=Nt(),e!==null&&(xo(e,1,n),_t(e,n))}function Ke(e,n,r){if(e.tag===3)dd(e,e,r);else for(;n!==null;){if(n.tag===3){dd(n,e,r);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(or===null||!or.has(s))){e=ro(r,e),e=Ru(n,e,1),n=nr(n,e,1),e=Nt(),n!==null&&(xo(n,1,e),_t(n,e));break}}n=n.return}}function yh(e,n,r){var s=e.pingCache;s!==null&&s.delete(n),n=Nt(),e.pingedLanes|=e.suspendedLanes&r,it===e&&(ft&r)===r&&(Ze===4||Ze===3&&(ft&130023424)===ft&&500>He()-ua?Tr(e,0):ca|=r),_t(e,n)}function fd(e,n){n===0&&((e.mode&1)===0?n=1:(n=Ht,Ht<<=1,(Ht&130023424)===0&&(Ht=4194304)));var r=Nt();e=Dn(e,n),e!==null&&(xo(e,n,r),_t(e,r))}function vh(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),fd(e,r)}function bh(e,n){var r=0;switch(e.tag){case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}s!==null&&s.delete(n),fd(e,r)}var pd;pd=function(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps||Rt.current)It=!0;else{if((e.lanes&r)===0&&(n.flags&128)===0)return It=!1,sh(e,n,r);It=(e.flags&131072)!==0}else It=!1,Pe&&(n.flags&1048576)!==0&&Kc(n,Dl,n.index);switch(n.lanes=0,n.tag){case 2:var s=n.type;ql(e,n),e=n.pendingProps;var u=Yr(n,yt.current);to(n,r),u=Hs(null,n,s,e,u,r);var h=Fs();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Lt(s)?(h=!0,Al(n)):h=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,_s(n),u.updater=Yl,n.stateNode=u,u._reactInternals=n,Xs(n,s,e,r),n=Js(null,n,s,!0,h,r)):(n.tag=0,Pe&&h&&Ss(n),Et(null,n,u,r),n=n.child),n;case 16:s=n.elementType;e:{switch(ql(e,n),e=n.pendingProps,u=s._init,s=u(s._payload),n.type=s,u=n.tag=kh(s),e=un(s,e),u){case 0:n=qs(null,n,s,e,r);break e;case 1:n=Ou(null,n,s,e,r);break e;case 11:n=_u(null,n,s,e,r);break e;case 14:n=Bu(null,n,s,un(s.type,e),r);break e}throw Error(i(306,s,""))}return n;case 0:return s=n.type,u=n.pendingProps,u=n.elementType===s?u:un(s,u),qs(e,n,s,u,r);case 1:return s=n.type,u=n.pendingProps,u=n.elementType===s?u:un(s,u),Ou(e,n,s,u,r);case 3:e:{if(zu(n),e===null)throw Error(i(387));s=n.pendingProps,h=n.memoizedState,u=h.element,tu(e,n),Fl(n,s,null,r);var w=n.memoizedState;if(s=w.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){u=ro(Error(i(423)),n),n=Hu(e,n,s,r,u);break e}else if(s!==u){u=ro(Error(i(424)),n),n=Hu(e,n,s,r,u);break e}else for(Vt=qn(n.stateNode.containerInfo.firstChild),Ut=n,Pe=!0,cn=null,r=Zc(n,null,s,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jr(),s===u){n=Mn(e,n,r);break e}Et(e,n,s,r)}n=n.child}return n;case 5:return ou(n),e===null&&Ns(n),s=n.type,u=n.pendingProps,h=e!==null?e.memoizedProps:null,w=u.children,ys(s,u)?w=null:h!==null&&ys(s,h)&&(n.flags|=32),Mu(e,n),Et(e,n,w,r),n.child;case 6:return e===null&&Ns(n),null;case 13:return Fu(e,n,r);case 4:return Bs(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=Zr(n,null,s,r):Et(e,n,s,r),n.child;case 11:return s=n.type,u=n.pendingProps,u=n.elementType===s?u:un(s,u),_u(e,n,s,u,r);case 7:return Et(e,n,n.pendingProps,r),n.child;case 8:return Et(e,n,n.pendingProps.children,r),n.child;case 12:return Et(e,n,n.pendingProps.children,r),n.child;case 10:e:{if(s=n.type._context,u=n.pendingProps,h=n.memoizedProps,w=u.value,Ae(Ol,s._currentValue),s._currentValue=w,h!==null)if(an(h.value,w)){if(h.children===u.children&&!Rt.current){n=Mn(e,n,r);break e}}else for(h=n.child,h!==null&&(h.return=n);h!==null;){var N=h.dependencies;if(N!==null){w=h.child;for(var I=N.firstContext;I!==null;){if(I.context===s){if(h.tag===1){I=Pn(-1,r&-r),I.tag=2;var P=h.updateQueue;if(P!==null){P=P.shared;var Q=P.pending;Q===null?I.next=I:(I.next=Q.next,Q.next=I),P.pending=I}}h.lanes|=r,I=h.alternate,I!==null&&(I.lanes|=r),Is(h.return,r,n),N.lanes|=r;break}I=I.next}}else if(h.tag===10)w=h.type===n.type?null:h.child;else if(h.tag===18){if(w=h.return,w===null)throw Error(i(341));w.lanes|=r,N=w.alternate,N!==null&&(N.lanes|=r),Is(w,r,n),w=h.sibling}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===n){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}Et(e,n,u.children,r),n=n.child}return n;case 9:return u=n.type,s=n.pendingProps.children,to(n,r),u=Jt(u),s=s(u),n.flags|=1,Et(e,n,s,r),n.child;case 14:return s=n.type,u=un(s,n.pendingProps),u=un(s.type,u),Bu(e,n,s,u,r);case 15:return Du(e,n,n.type,n.pendingProps,r);case 17:return s=n.type,u=n.pendingProps,u=n.elementType===s?u:un(s,u),ql(e,n),n.tag=1,Lt(s)?(e=!0,Al(n)):e=!1,to(n,r),Nu(n,s,u),Xs(n,s,u,r),Js(null,n,s,!0,e,r);case 19:return Uu(e,n,r);case 22:return Pu(e,n,r)}throw Error(i(156,n.tag))};function hd(e,n){return Mr(e,n)}function wh(e,n,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(e,n,r,s){return new wh(e,n,r,s)}function ya(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kh(e){if(typeof e=="function")return ya(e)?1:0;if(e!=null){if(e=e.$$typeof,e===M)return 11;if(e===se)return 14}return 2}function ar(e,n){var r=e.alternate;return r===null?(r=tn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ai(e,n,r,s,u,h){var w=2;if(s=e,typeof e=="function")ya(e)&&(w=1);else if(typeof e=="string")w=5;else e:switch(e){case z:return Rr(r.children,u,h,n);case W:w=8,u|=8;break;case Y:return e=tn(12,r,n,u|2),e.elementType=Y,e.lanes=h,e;case Z:return e=tn(13,r,n,u),e.elementType=Z,e.lanes=h,e;case te:return e=tn(19,r,n,u),e.elementType=te,e.lanes=h,e;case de:return ci(r,u,h,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case K:w=10;break e;case G:w=9;break e;case M:w=11;break e;case se:w=14;break e;case me:w=16,s=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return n=tn(w,r,n,u),n.elementType=e,n.type=s,n.lanes=h,n}function Rr(e,n,r,s){return e=tn(7,e,s,n),e.lanes=r,e}function ci(e,n,r,s){return e=tn(22,e,s,n),e.elementType=de,e.lanes=r,e.stateNode={isHidden:!1},e}function va(e,n,r){return e=tn(6,e,null,n),e.lanes=r,e}function ba(e,n,r){return n=tn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Ch(e,n,r,s,u){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gi(0),this.expirationTimes=Gi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.identifierPrefix=s,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function wa(e,n,r,s,u,h,w,N,I){return e=new Ch(e,n,r,N,I),n===1?(n=1,h===!0&&(n|=8)):n=0,h=tn(3,null,null,n),e.current=h,h.stateNode=e,h.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},_s(h),e}function Sh(e,n,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:s==null?null:""+s,children:e,containerInfo:n,implementation:r}}function gd(e){if(!e)return Zn;e=e._reactInternals;e:{if(kn(e)!==e||e.tag!==1)throw Error(i(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Lt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(i(171))}if(e.tag===1){var r=e.type;if(Lt(r))return Wc(e,r,n)}return n}function md(e,n,r,s,u,h,w,N,I){return e=wa(r,s,!0,e,u,h,w,N,I),e.context=gd(null),r=e.current,s=Nt(),u=ir(r),h=Pn(s,u),h.callback=n??null,nr(r,h,u),e.current.lanes=u,xo(e,u,s),_t(e,s),e}function ui(e,n,r,s){var u=n.current,h=Nt(),w=ir(u);return r=gd(r),n.context===null?n.context=r:n.pendingContext=r,n=Pn(h,w),n.payload={element:e},s=s===void 0?null:s,s!==null&&(n.callback=s),e=nr(u,n,w),e!==null&&(pn(e,u,w,h),Hl(e,u,w)),w}function di(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function xd(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function ka(e,n){xd(e,n),(e=e.alternate)&&xd(e,n)}function jh(){return null}var yd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ca(e){this._internalRoot=e}fi.prototype.render=Ca.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));ui(e,n,null,null)},fi.prototype.unmount=Ca.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Nr(function(){ui(null,e,null,null)}),n[In]=null}};function fi(e){this._internalRoot=e}fi.prototype.unstable_scheduleHydration=function(e){if(e){var n=tc();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Xn.length&&n!==0&&n<Xn[r].priority;r++);Xn.splice(r,0,e),r===0&&oc(e)}};function Sa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vd(){}function Eh(e,n,r,s,u){if(u){if(typeof s=="function"){var h=s;s=function(){var P=di(w);h.call(P)}}var w=md(n,s,e,0,null,!1,!1,"",vd);return e._reactRootContainer=w,e[In]=w.current,Lo(e.nodeType===8?e.parentNode:e),Nr(),w}for(;u=e.lastChild;)e.removeChild(u);if(typeof s=="function"){var N=s;s=function(){var P=di(I);N.call(P)}}var I=wa(e,0,!1,null,null,!1,!1,"",vd);return e._reactRootContainer=I,e[In]=I.current,Lo(e.nodeType===8?e.parentNode:e),Nr(function(){ui(n,I,r,s)}),I}function hi(e,n,r,s,u){var h=r._reactRootContainer;if(h){var w=h;if(typeof u=="function"){var N=u;u=function(){var I=di(w);N.call(I)}}ui(n,w,e,u)}else w=Eh(r,n,e,u,s);return di(w)}Za=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var r=Ft(n.pendingLanes);r!==0&&(Xi(n,r|1),_t(n,He()),(Te&6)===0&&(io=He()+500,er()))}break;case 13:Nr(function(){var s=Dn(e,1);if(s!==null){var u=Nt();pn(s,e,1,u)}}),ka(e,1)}},Yi=function(e){if(e.tag===13){var n=Dn(e,134217728);if(n!==null){var r=Nt();pn(n,e,134217728,r)}ka(e,134217728)}},ec=function(e){if(e.tag===13){var n=ir(e),r=Dn(e,n);if(r!==null){var s=Nt();pn(r,e,n,s)}ka(e,n)}},tc=function(){return Le},nc=function(e,n){var r=Le;try{return Le=e,n()}finally{Le=r}},xr=function(e,n,r){switch(n){case"input":if(Ct(e,r),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<r.length;n++){var s=r[n];if(s!==e&&s.form===e.form){var u=Ll(s);if(!u)throw Error(i(90));ze(s),Ct(s,u)}}}break;case"textarea":pr(e,r);break;case"select":n=r.value,n!=null&&Dt(e,!!r.multiple,n,!1)}},ut=ga,rt=Nr;var Nh={usingClientEntryPoint:!1,Events:[_o,Gr,Ll,nt,Mt,ga]},Xo={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Th={bundleType:Xo.bundleType,version:Xo.version,rendererPackageName:Xo.rendererPackageName,rendererConfig:Xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dl(e),e===null?null:e.stateNode},findFiberByHostInstance:Xo.findFiberByHostInstance||jh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gi.isDisabled&&gi.supportsFiber)try{be=gi.inject(Th),Ne=gi}catch{}}return Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nh,Bt.createPortal=function(e,n){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sa(n))throw Error(i(200));return Sh(e,n,null,r)},Bt.createRoot=function(e,n){if(!Sa(e))throw Error(i(299));var r=!1,s="",u=yd;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=wa(e,1,!1,null,null,r,!1,s,u),e[In]=n.current,Lo(e.nodeType===8?e.parentNode:e),new Ca(n)},Bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=dl(n),e=e===null?null:e.stateNode,e},Bt.flushSync=function(e){return Nr(e)},Bt.hydrate=function(e,n,r){if(!pi(n))throw Error(i(200));return hi(null,e,n,!0,r)},Bt.hydrateRoot=function(e,n,r){if(!Sa(e))throw Error(i(405));var s=r!=null&&r.hydratedSources||null,u=!1,h="",w=yd;if(r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onRecoverableError!==void 0&&(w=r.onRecoverableError)),n=md(n,null,e,1,r??null,u,!1,h,w),e[In]=n.current,Lo(e),s)for(e=0;e<s.length;e++)r=s[e],u=r._getVersion,u=u(r._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[r,u]:n.mutableSourceEagerHydrationData.push(r,u);return new fi(n)},Bt.render=function(e,n,r){if(!pi(n))throw Error(i(200));return hi(null,e,n,!1,r)},Bt.unmountComponentAtNode=function(e){if(!pi(e))throw Error(i(40));return e._reactRootContainer?(Nr(function(){hi(null,null,e,!1,function(){e._reactRootContainer=null,e[In]=null})}),!0):!1},Bt.unstable_batchedUpdates=ga,Bt.unstable_renderSubtreeIntoContainer=function(e,n,r,s){if(!pi(r))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return hi(e,n,r,!1,s)},Bt.version="18.3.1-next-f1338f8080-20240426",Bt}var Nd;function ef(){if(Nd)return Na.exports;Nd=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(l){console.error(l)}}return t(),Na.exports=Dh(),Na.exports}var dr=ef();const Ph=Ha(dr),pC=za({__proto__:null,default:Ph},[dr]);var mi={},Td;function Mh(){if(Td)return mi;Td=1;var t=ef();return mi.createRoot=t.createRoot,mi.hydrateRoot=t.hydrateRoot,mi}var hC=Mh();function Oh(){for(var t=arguments.length,l=new Array(t),i=0;i<t;i++)l[i]=arguments[i];return x.useMemo(()=>a=>{l.forEach(c=>c(a))},l)}const _i=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function fo(t){const l=Object.prototype.toString.call(t);return l==="[object Window]"||l==="[object global]"}function Wa(t){return"nodeType"in t}function Tt(t){var l,i;return t?fo(t)?t:Wa(t)&&(l=(i=t.ownerDocument)==null?void 0:i.defaultView)!=null?l:window:window}function Ua(t){const{Document:l}=Tt(t);return t instanceof l}function ll(t){return fo(t)?!1:t instanceof Tt(t).HTMLElement}function tf(t){return t instanceof Tt(t).SVGElement}function po(t){return t?fo(t)?t.document:Wa(t)?Ua(t)?t:ll(t)||tf(t)?t.ownerDocument:document:document:document}const hn=_i?x.useLayoutEffect:x.useEffect;function Bi(t){const l=x.useRef(t);return hn(()=>{l.current=t}),x.useCallback(function(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return l.current==null?void 0:l.current(...a)},[])}function zh(){const t=x.useRef(null),l=x.useCallback((a,c)=>{t.current=setInterval(a,c)},[]),i=x.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[l,i]}function tl(t,l){l===void 0&&(l=[t]);const i=x.useRef(t);return hn(()=>{i.current!==t&&(i.current=t)},l),i}function il(t,l){const i=x.useRef();return x.useMemo(()=>{const a=t(i.current);return i.current=a,a},[...l])}function Ni(t){const l=Bi(t),i=x.useRef(null),a=x.useCallback(c=>{c!==i.current&&l?.(c,i.current),i.current=c},[]);return[i,a]}function Ti(t){const l=x.useRef();return x.useEffect(()=>{l.current=t},[t]),l.current}let Ra={};function sl(t,l){return x.useMemo(()=>{if(l)return l;const i=Ra[t]==null?0:Ra[t]+1;return Ra[t]=i,t+"-"+i},[t,l])}function nf(t){return function(l){for(var i=arguments.length,a=new Array(i>1?i-1:0),c=1;c<i;c++)a[c-1]=arguments[c];return a.reduce((d,p)=>{const m=Object.entries(p);for(const[g,y]of m){const b=d[g];b!=null&&(d[g]=b+t*y)}return d},{...l})}}const co=nf(1),$i=nf(-1);function Hh(t){return"clientX"in t&&"clientY"in t}function Di(t){if(!t)return!1;const{KeyboardEvent:l}=Tt(t.target);return l&&t instanceof l}function Fh(t){if(!t)return!1;const{TouchEvent:l}=Tt(t.target);return l&&t instanceof l}function Ri(t){if(Fh(t)){if(t.touches&&t.touches.length){const{clientX:l,clientY:i}=t.touches[0];return{x:l,y:i}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:l,clientY:i}=t.changedTouches[0];return{x:l,y:i}}}return Hh(t)?{x:t.clientX,y:t.clientY}:null}const zn=Object.freeze({Translate:{toString(t){if(!t)return;const{x:l,y:i}=t;return"translate3d("+(l?Math.round(l):0)+"px, "+(i?Math.round(i):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:l,scaleY:i}=t;return"scaleX("+l+") scaleY("+i+")"}},Transform:{toString(t){if(t)return[zn.Translate.toString(t),zn.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:l,duration:i,easing:a}=t;return l+" "+i+"ms "+a}}}),$d="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Wh(t){return t.matches($d)?t:t.querySelector($d)}const Uh={display:"none"};function Vh(t){let{id:l,value:i}=t;return Me.createElement("div",{id:l,style:Uh},i)}function Kh(t){let{id:l,announcement:i,ariaLiveType:a="assertive"}=t;const c={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Me.createElement("div",{id:l,style:c,role:"status","aria-live":a,"aria-atomic":!0},i)}function Gh(){const[t,l]=x.useState("");return{announce:x.useCallback(a=>{a!=null&&l(a)},[]),announcement:t}}const rf=x.createContext(null);function Xh(t){const l=x.useContext(rf);x.useEffect(()=>{if(!l)throw new Error("useDndMonitor must be used within a children of <DndContext>");return l(t)},[t,l])}function Yh(){const[t]=x.useState(()=>new Set),l=x.useCallback(a=>(t.add(a),()=>t.delete(a)),[t]);return[x.useCallback(a=>{let{type:c,event:d}=a;t.forEach(p=>{var m;return(m=p[c])==null?void 0:m.call(p,d)})},[t]),l]}const Qh={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},qh={onDragStart(t){let{active:l}=t;return"Picked up draggable item "+l.id+"."},onDragOver(t){let{active:l,over:i}=t;return i?"Draggable item "+l.id+" was moved over droppable area "+i.id+".":"Draggable item "+l.id+" is no longer over a droppable area."},onDragEnd(t){let{active:l,over:i}=t;return i?"Draggable item "+l.id+" was dropped over droppable area "+i.id:"Draggable item "+l.id+" was dropped."},onDragCancel(t){let{active:l}=t;return"Dragging was cancelled. Draggable item "+l.id+" was dropped."}};function Jh(t){let{announcements:l=qh,container:i,hiddenTextDescribedById:a,screenReaderInstructions:c=Qh}=t;const{announce:d,announcement:p}=Gh(),m=sl("DndLiveRegion"),[g,y]=x.useState(!1);if(x.useEffect(()=>{y(!0)},[]),Xh(x.useMemo(()=>({onDragStart(v){let{active:j}=v;d(l.onDragStart({active:j}))},onDragMove(v){let{active:j,over:E}=v;l.onDragMove&&d(l.onDragMove({active:j,over:E}))},onDragOver(v){let{active:j,over:E}=v;d(l.onDragOver({active:j,over:E}))},onDragEnd(v){let{active:j,over:E}=v;d(l.onDragEnd({active:j,over:E}))},onDragCancel(v){let{active:j,over:E}=v;d(l.onDragCancel({active:j,over:E}))}}),[d,l])),!g)return null;const b=Me.createElement(Me.Fragment,null,Me.createElement(Vh,{id:a,value:c.draggable}),Me.createElement(Kh,{id:m,announcement:p}));return i?dr.createPortal(b,i):b}var et;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(et||(et={}));function Li(){}function Zh(t,l){return x.useMemo(()=>({sensor:t,options:l??{}}),[t,l])}function eg(){for(var t=arguments.length,l=new Array(t),i=0;i<t;i++)l[i]=arguments[i];return x.useMemo(()=>[...l].filter(a=>a!=null),[...l])}const gn=Object.freeze({x:0,y:0});function of(t,l){return Math.sqrt(Math.pow(t.x-l.x,2)+Math.pow(t.y-l.y,2))}function tg(t,l){const i=Ri(t);if(!i)return"0 0";const a={x:(i.x-l.left)/l.width*100,y:(i.y-l.top)/l.height*100};return a.x+"% "+a.y+"%"}function lf(t,l){let{data:{value:i}}=t,{data:{value:a}}=l;return i-a}function ng(t,l){let{data:{value:i}}=t,{data:{value:a}}=l;return a-i}function rg(t){let{left:l,top:i,height:a,width:c}=t;return[{x:l,y:i},{x:l+c,y:i},{x:l,y:i+a},{x:l+c,y:i+a}]}function og(t,l){if(!t||t.length===0)return null;const[i]=t;return i[l]}function Rd(t,l,i){return l===void 0&&(l=t.left),i===void 0&&(i=t.top),{x:l+t.width*.5,y:i+t.height*.5}}const lg=t=>{let{collisionRect:l,droppableRects:i,droppableContainers:a}=t;const c=Rd(l,l.left,l.top),d=[];for(const p of a){const{id:m}=p,g=i.get(m);if(g){const y=of(Rd(g),c);d.push({id:m,data:{droppableContainer:p,value:y}})}}return d.sort(lf)};function ig(t,l){const i=Math.max(l.top,t.top),a=Math.max(l.left,t.left),c=Math.min(l.left+l.width,t.left+t.width),d=Math.min(l.top+l.height,t.top+t.height),p=c-a,m=d-i;if(a<c&&i<d){const g=l.width*l.height,y=t.width*t.height,b=p*m,v=b/(g+y-b);return Number(v.toFixed(4))}return 0}const sg=t=>{let{collisionRect:l,droppableRects:i,droppableContainers:a}=t;const c=[];for(const d of a){const{id:p}=d,m=i.get(p);if(m){const g=ig(m,l);g>0&&c.push({id:p,data:{droppableContainer:d,value:g}})}}return c.sort(ng)};function ag(t,l){const{top:i,left:a,bottom:c,right:d}=l;return i<=t.y&&t.y<=c&&a<=t.x&&t.x<=d}const cg=t=>{let{droppableContainers:l,droppableRects:i,pointerCoordinates:a}=t;if(!a)return[];const c=[];for(const d of l){const{id:p}=d,m=i.get(p);if(m&&ag(a,m)){const y=rg(m).reduce((v,j)=>v+of(a,j),0),b=Number((y/4).toFixed(4));c.push({id:p,data:{droppableContainer:d,value:b}})}}return c.sort(lf)};function ug(t,l,i){return{...t,scaleX:l&&i?l.width/i.width:1,scaleY:l&&i?l.height/i.height:1}}function sf(t,l){return t&&l?{x:t.left-l.left,y:t.top-l.top}:gn}function dg(t){return function(i){for(var a=arguments.length,c=new Array(a>1?a-1:0),d=1;d<a;d++)c[d-1]=arguments[d];return c.reduce((p,m)=>({...p,top:p.top+t*m.y,bottom:p.bottom+t*m.y,left:p.left+t*m.x,right:p.right+t*m.x}),{...i})}}const fg=dg(1);function af(t){if(t.startsWith("matrix3d(")){const l=t.slice(9,-1).split(/, /);return{x:+l[12],y:+l[13],scaleX:+l[0],scaleY:+l[5]}}else if(t.startsWith("matrix(")){const l=t.slice(7,-1).split(/, /);return{x:+l[4],y:+l[5],scaleX:+l[0],scaleY:+l[3]}}return null}function pg(t,l,i){const a=af(l);if(!a)return t;const{scaleX:c,scaleY:d,x:p,y:m}=a,g=t.left-p-(1-c)*parseFloat(i),y=t.top-m-(1-d)*parseFloat(i.slice(i.indexOf(" ")+1)),b=c?t.width/c:t.width,v=d?t.height/d:t.height;return{width:b,height:v,top:y,right:g+b,bottom:y+v,left:g}}const hg={ignoreTransform:!1};function ho(t,l){l===void 0&&(l=hg);let i=t.getBoundingClientRect();if(l.ignoreTransform){const{transform:y,transformOrigin:b}=Tt(t).getComputedStyle(t);y&&(i=pg(i,y,b))}const{top:a,left:c,width:d,height:p,bottom:m,right:g}=i;return{top:a,left:c,width:d,height:p,bottom:m,right:g}}function Ld(t){return ho(t,{ignoreTransform:!0})}function gg(t){const l=t.innerWidth,i=t.innerHeight;return{top:0,left:0,right:l,bottom:i,width:l,height:i}}function mg(t,l){return l===void 0&&(l=Tt(t).getComputedStyle(t)),l.position==="fixed"}function xg(t,l){l===void 0&&(l=Tt(t).getComputedStyle(t));const i=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(c=>{const d=l[c];return typeof d=="string"?i.test(d):!1})}function Va(t,l){const i=[];function a(c){if(l!=null&&i.length>=l||!c)return i;if(Ua(c)&&c.scrollingElement!=null&&!i.includes(c.scrollingElement))return i.push(c.scrollingElement),i;if(!ll(c)||tf(c)||i.includes(c))return i;const d=Tt(t).getComputedStyle(c);return c!==t&&xg(c,d)&&i.push(c),mg(c,d)?i:a(c.parentNode)}return t?a(t):i}function cf(t){const[l]=Va(t,1);return l??null}function La(t){return!_i||!t?null:fo(t)?t:Wa(t)?Ua(t)||t===po(t).scrollingElement?window:ll(t)?t:null:null}function uf(t){return fo(t)?t.scrollX:t.scrollLeft}function df(t){return fo(t)?t.scrollY:t.scrollTop}function _a(t){return{x:uf(t),y:df(t)}}var at;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(at||(at={}));function ff(t){return!_i||!t?!1:t===document.scrollingElement}function pf(t){const l={x:0,y:0},i=ff(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},a={x:t.scrollWidth-i.width,y:t.scrollHeight-i.height},c=t.scrollTop<=l.y,d=t.scrollLeft<=l.x,p=t.scrollTop>=a.y,m=t.scrollLeft>=a.x;return{isTop:c,isLeft:d,isBottom:p,isRight:m,maxScroll:a,minScroll:l}}const yg={x:.2,y:.2};function vg(t,l,i,a,c){let{top:d,left:p,right:m,bottom:g}=i;a===void 0&&(a=10),c===void 0&&(c=yg);const{isTop:y,isBottom:b,isLeft:v,isRight:j}=pf(t),E={x:0,y:0},L={x:0,y:0},S={height:l.height*c.y,width:l.width*c.x};return!y&&d<=l.top+S.height?(E.y=at.Backward,L.y=a*Math.abs((l.top+S.height-d)/S.height)):!b&&g>=l.bottom-S.height&&(E.y=at.Forward,L.y=a*Math.abs((l.bottom-S.height-g)/S.height)),!j&&m>=l.right-S.width?(E.x=at.Forward,L.x=a*Math.abs((l.right-S.width-m)/S.width)):!v&&p<=l.left+S.width&&(E.x=at.Backward,L.x=a*Math.abs((l.left+S.width-p)/S.width)),{direction:E,speed:L}}function bg(t){if(t===document.scrollingElement){const{innerWidth:d,innerHeight:p}=window;return{top:0,left:0,right:d,bottom:p,width:d,height:p}}const{top:l,left:i,right:a,bottom:c}=t.getBoundingClientRect();return{top:l,left:i,right:a,bottom:c,width:t.clientWidth,height:t.clientHeight}}function hf(t){return t.reduce((l,i)=>co(l,_a(i)),gn)}function wg(t){return t.reduce((l,i)=>l+uf(i),0)}function kg(t){return t.reduce((l,i)=>l+df(i),0)}function gf(t,l){if(l===void 0&&(l=ho),!t)return;const{top:i,left:a,bottom:c,right:d}=l(t);cf(t)&&(c<=0||d<=0||i>=window.innerHeight||a>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const Cg=[["x",["left","right"],wg],["y",["top","bottom"],kg]];class Ka{constructor(l,i){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=Va(i),c=hf(a);this.rect={...l},this.width=l.width,this.height=l.height;for(const[d,p,m]of Cg)for(const g of p)Object.defineProperty(this,g,{get:()=>{const y=m(a),b=c[d]-y;return this.rect[g]+b},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Jo{constructor(l){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(i=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...i)})},this.target=l}add(l,i,a){var c;(c=this.target)==null||c.addEventListener(l,i,a),this.listeners.push([l,i,a])}}function Sg(t){const{EventTarget:l}=Tt(t);return t instanceof l?t:po(t)}function Ia(t,l){const i=Math.abs(t.x),a=Math.abs(t.y);return typeof l=="number"?Math.sqrt(i**2+a**2)>l:"x"in l&&"y"in l?i>l.x&&a>l.y:"x"in l?i>l.x:"y"in l?a>l.y:!1}var nn;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(nn||(nn={}));function Id(t){t.preventDefault()}function jg(t){t.stopPropagation()}var Re;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Re||(Re={}));const mf={start:[Re.Space,Re.Enter],cancel:[Re.Esc],end:[Re.Space,Re.Enter,Re.Tab]},Eg=(t,l)=>{let{currentCoordinates:i}=l;switch(t.code){case Re.Right:return{...i,x:i.x+25};case Re.Left:return{...i,x:i.x-25};case Re.Down:return{...i,y:i.y+25};case Re.Up:return{...i,y:i.y-25}}};class xf{constructor(l){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=l;const{event:{target:i}}=l;this.props=l,this.listeners=new Jo(po(i)),this.windowListeners=new Jo(Tt(i)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(nn.Resize,this.handleCancel),this.windowListeners.add(nn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(nn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:l,onStart:i}=this.props,a=l.node.current;a&&gf(a),i(gn)}handleKeyDown(l){if(Di(l)){const{active:i,context:a,options:c}=this.props,{keyboardCodes:d=mf,coordinateGetter:p=Eg,scrollBehavior:m="smooth"}=c,{code:g}=l;if(d.end.includes(g)){this.handleEnd(l);return}if(d.cancel.includes(g)){this.handleCancel(l);return}const{collisionRect:y}=a.current,b=y?{x:y.left,y:y.top}:gn;this.referenceCoordinates||(this.referenceCoordinates=b);const v=p(l,{active:i,context:a.current,currentCoordinates:b});if(v){const j=$i(v,b),E={x:0,y:0},{scrollableAncestors:L}=a.current;for(const S of L){const C=l.code,{isTop:k,isRight:$,isLeft:T,isBottom:R,maxScroll:O,minScroll:F}=pf(S),z=bg(S),W={x:Math.min(C===Re.Right?z.right-z.width/2:z.right,Math.max(C===Re.Right?z.left:z.left+z.width/2,v.x)),y:Math.min(C===Re.Down?z.bottom-z.height/2:z.bottom,Math.max(C===Re.Down?z.top:z.top+z.height/2,v.y))},Y=C===Re.Right&&!$||C===Re.Left&&!T,K=C===Re.Down&&!R||C===Re.Up&&!k;if(Y&&W.x!==v.x){const G=S.scrollLeft+j.x,M=C===Re.Right&&G<=O.x||C===Re.Left&&G>=F.x;if(M&&!j.y){S.scrollTo({left:G,behavior:m});return}M?E.x=S.scrollLeft-G:E.x=C===Re.Right?S.scrollLeft-O.x:S.scrollLeft-F.x,E.x&&S.scrollBy({left:-E.x,behavior:m});break}else if(K&&W.y!==v.y){const G=S.scrollTop+j.y,M=C===Re.Down&&G<=O.y||C===Re.Up&&G>=F.y;if(M&&!j.x){S.scrollTo({top:G,behavior:m});return}M?E.y=S.scrollTop-G:E.y=C===Re.Down?S.scrollTop-O.y:S.scrollTop-F.y,E.y&&S.scrollBy({top:-E.y,behavior:m});break}}this.handleMove(l,co($i(v,this.referenceCoordinates),E))}}}handleMove(l,i){const{onMove:a}=this.props;l.preventDefault(),a(i)}handleEnd(l){const{onEnd:i}=this.props;l.preventDefault(),this.detach(),i()}handleCancel(l){const{onCancel:i}=this.props;l.preventDefault(),this.detach(),i()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}xf.activators=[{eventName:"onKeyDown",handler:(t,l,i)=>{let{keyboardCodes:a=mf,onActivation:c}=l,{active:d}=i;const{code:p}=t.nativeEvent;if(a.start.includes(p)){const m=d.activatorNode.current;return m&&t.target!==m?!1:(t.preventDefault(),c?.({event:t.nativeEvent}),!0)}return!1}}];function Ad(t){return!!(t&&"distance"in t)}function _d(t){return!!(t&&"delay"in t)}class Ga{constructor(l,i,a){var c;a===void 0&&(a=Sg(l.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=l,this.events=i;const{event:d}=l,{target:p}=d;this.props=l,this.events=i,this.document=po(p),this.documentListeners=new Jo(this.document),this.listeners=new Jo(a),this.windowListeners=new Jo(Tt(p)),this.initialCoordinates=(c=Ri(d))!=null?c:gn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:l,props:{options:{activationConstraint:i,bypassActivationConstraint:a}}}=this;if(this.listeners.add(l.move.name,this.handleMove,{passive:!1}),this.listeners.add(l.end.name,this.handleEnd),l.cancel&&this.listeners.add(l.cancel.name,this.handleCancel),this.windowListeners.add(nn.Resize,this.handleCancel),this.windowListeners.add(nn.DragStart,Id),this.windowListeners.add(nn.VisibilityChange,this.handleCancel),this.windowListeners.add(nn.ContextMenu,Id),this.documentListeners.add(nn.Keydown,this.handleKeydown),i){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(_d(i)){this.timeoutId=setTimeout(this.handleStart,i.delay),this.handlePending(i);return}if(Ad(i)){this.handlePending(i);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(l,i){const{active:a,onPending:c}=this.props;c(a,l,this.initialCoordinates,i)}handleStart(){const{initialCoordinates:l}=this,{onStart:i}=this.props;l&&(this.activated=!0,this.documentListeners.add(nn.Click,jg,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(nn.SelectionChange,this.removeTextSelection),i(l))}handleMove(l){var i;const{activated:a,initialCoordinates:c,props:d}=this,{onMove:p,options:{activationConstraint:m}}=d;if(!c)return;const g=(i=Ri(l))!=null?i:gn,y=$i(c,g);if(!a&&m){if(Ad(m)){if(m.tolerance!=null&&Ia(y,m.tolerance))return this.handleCancel();if(Ia(y,m.distance))return this.handleStart()}if(_d(m)&&Ia(y,m.tolerance))return this.handleCancel();this.handlePending(m,y);return}l.cancelable&&l.preventDefault(),p(g)}handleEnd(){const{onAbort:l,onEnd:i}=this.props;this.detach(),this.activated||l(this.props.active),i()}handleCancel(){const{onAbort:l,onCancel:i}=this.props;this.detach(),this.activated||l(this.props.active),i()}handleKeydown(l){l.code===Re.Esc&&this.handleCancel()}removeTextSelection(){var l;(l=this.document.getSelection())==null||l.removeAllRanges()}}const Ng={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Xa extends Ga{constructor(l){const{event:i}=l,a=po(i.target);super(l,Ng,a)}}Xa.activators=[{eventName:"onPointerDown",handler:(t,l)=>{let{nativeEvent:i}=t,{onActivation:a}=l;return!i.isPrimary||i.button!==0?!1:(a?.({event:i}),!0)}}];const Tg={move:{name:"mousemove"},end:{name:"mouseup"}};var Ba;(function(t){t[t.RightClick=2]="RightClick"})(Ba||(Ba={}));class $g extends Ga{constructor(l){super(l,Tg,po(l.event.target))}}$g.activators=[{eventName:"onMouseDown",handler:(t,l)=>{let{nativeEvent:i}=t,{onActivation:a}=l;return i.button===Ba.RightClick?!1:(a?.({event:i}),!0)}}];const Aa={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Rg extends Ga{constructor(l){super(l,Aa)}static setup(){return window.addEventListener(Aa.move.name,l,{capture:!1,passive:!1}),function(){window.removeEventListener(Aa.move.name,l)};function l(){}}}Rg.activators=[{eventName:"onTouchStart",handler:(t,l)=>{let{nativeEvent:i}=t,{onActivation:a}=l;const{touches:c}=i;return c.length>1?!1:(a?.({event:i}),!0)}}];var Zo;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Zo||(Zo={}));var Ii;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ii||(Ii={}));function Lg(t){let{acceleration:l,activator:i=Zo.Pointer,canScroll:a,draggingRect:c,enabled:d,interval:p=5,order:m=Ii.TreeOrder,pointerCoordinates:g,scrollableAncestors:y,scrollableAncestorRects:b,delta:v,threshold:j}=t;const E=Ag({delta:v,disabled:!d}),[L,S]=zh(),C=x.useRef({x:0,y:0}),k=x.useRef({x:0,y:0}),$=x.useMemo(()=>{switch(i){case Zo.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case Zo.DraggableRect:return c}},[i,c,g]),T=x.useRef(null),R=x.useCallback(()=>{const F=T.current;if(!F)return;const z=C.current.x*k.current.x,W=C.current.y*k.current.y;F.scrollBy(z,W)},[]),O=x.useMemo(()=>m===Ii.TreeOrder?[...y].reverse():y,[m,y]);x.useEffect(()=>{if(!d||!y.length||!$){S();return}for(const F of O){if(a?.(F)===!1)continue;const z=y.indexOf(F),W=b[z];if(!W)continue;const{direction:Y,speed:K}=vg(F,W,$,l,j);for(const G of["x","y"])E[G][Y[G]]||(K[G]=0,Y[G]=0);if(K.x>0||K.y>0){S(),T.current=F,L(R,p),C.current=K,k.current=Y;return}}C.current={x:0,y:0},k.current={x:0,y:0},S()},[l,R,a,S,d,p,JSON.stringify($),JSON.stringify(E),L,y,O,b,JSON.stringify(j)])}const Ig={x:{[at.Backward]:!1,[at.Forward]:!1},y:{[at.Backward]:!1,[at.Forward]:!1}};function Ag(t){let{delta:l,disabled:i}=t;const a=Ti(l);return il(c=>{if(i||!a||!c)return Ig;const d={x:Math.sign(l.x-a.x),y:Math.sign(l.y-a.y)};return{x:{[at.Backward]:c.x[at.Backward]||d.x===-1,[at.Forward]:c.x[at.Forward]||d.x===1},y:{[at.Backward]:c.y[at.Backward]||d.y===-1,[at.Forward]:c.y[at.Forward]||d.y===1}}},[i,l,a])}function _g(t,l){const i=l!=null?t.get(l):void 0,a=i?i.node.current:null;return il(c=>{var d;return l==null?null:(d=a??c)!=null?d:null},[a,l])}function Bg(t,l){return x.useMemo(()=>t.reduce((i,a)=>{const{sensor:c}=a,d=c.activators.map(p=>({eventName:p.eventName,handler:l(p.handler,a)}));return[...i,...d]},[]),[t,l])}var nl;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(nl||(nl={}));var Da;(function(t){t.Optimized="optimized"})(Da||(Da={}));const Bd=new Map;function Dg(t,l){let{dragging:i,dependencies:a,config:c}=l;const[d,p]=x.useState(null),{frequency:m,measure:g,strategy:y}=c,b=x.useRef(t),v=C(),j=tl(v),E=x.useCallback(function(k){k===void 0&&(k=[]),!j.current&&p($=>$===null?k:$.concat(k.filter(T=>!$.includes(T))))},[j]),L=x.useRef(null),S=il(k=>{if(v&&!i)return Bd;if(!k||k===Bd||b.current!==t||d!=null){const $=new Map;for(let T of t){if(!T)continue;if(d&&d.length>0&&!d.includes(T.id)&&T.rect.current){$.set(T.id,T.rect.current);continue}const R=T.node.current,O=R?new Ka(g(R),R):null;T.rect.current=O,O&&$.set(T.id,O)}return $}return k},[t,d,i,v,g]);return x.useEffect(()=>{b.current=t},[t]),x.useEffect(()=>{v||E()},[i,v]),x.useEffect(()=>{d&&d.length>0&&p(null)},[JSON.stringify(d)]),x.useEffect(()=>{v||typeof m!="number"||L.current!==null||(L.current=setTimeout(()=>{E(),L.current=null},m))},[m,v,E,...a]),{droppableRects:S,measureDroppableContainers:E,measuringScheduled:d!=null};function C(){switch(y){case nl.Always:return!1;case nl.BeforeDragging:return i;default:return!i}}}function Ya(t,l){return il(i=>t?i||(typeof l=="function"?l(t):t):null,[l,t])}function Pg(t,l){return Ya(t,l)}function Mg(t){let{callback:l,disabled:i}=t;const a=Bi(l),c=x.useMemo(()=>{if(i||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:d}=window;return new d(a)},[a,i]);return x.useEffect(()=>()=>c?.disconnect(),[c]),c}function Pi(t){let{callback:l,disabled:i}=t;const a=Bi(l),c=x.useMemo(()=>{if(i||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:d}=window;return new d(a)},[i]);return x.useEffect(()=>()=>c?.disconnect(),[c]),c}function Og(t){return new Ka(ho(t),t)}function Dd(t,l,i){l===void 0&&(l=Og);const[a,c]=x.useState(null);function d(){c(g=>{if(!t)return null;if(t.isConnected===!1){var y;return(y=g??i)!=null?y:null}const b=l(t);return JSON.stringify(g)===JSON.stringify(b)?g:b})}const p=Mg({callback(g){if(t)for(const y of g){const{type:b,target:v}=y;if(b==="childList"&&v instanceof HTMLElement&&v.contains(t)){d();break}}}}),m=Pi({callback:d});return hn(()=>{d(),t?(m?.observe(t),p?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),p?.disconnect())},[t]),a}function zg(t){const l=Ya(t);return sf(t,l)}const Pd=[];function Hg(t){const l=x.useRef(t),i=il(a=>t?a&&a!==Pd&&t&&l.current&&t.parentNode===l.current.parentNode?a:Va(t):Pd,[t]);return x.useEffect(()=>{l.current=t},[t]),i}function Fg(t){const[l,i]=x.useState(null),a=x.useRef(t),c=x.useCallback(d=>{const p=La(d.target);p&&i(m=>m?(m.set(p,_a(p)),new Map(m)):null)},[]);return x.useEffect(()=>{const d=a.current;if(t!==d){p(d);const m=t.map(g=>{const y=La(g);return y?(y.addEventListener("scroll",c,{passive:!0}),[y,_a(y)]):null}).filter(g=>g!=null);i(m.length?new Map(m):null),a.current=t}return()=>{p(t),p(d)};function p(m){m.forEach(g=>{const y=La(g);y?.removeEventListener("scroll",c)})}},[c,t]),x.useMemo(()=>t.length?l?Array.from(l.values()).reduce((d,p)=>co(d,p),gn):hf(t):gn,[t,l])}function Md(t,l){l===void 0&&(l=[]);const i=x.useRef(null);return x.useEffect(()=>{i.current=null},l),x.useEffect(()=>{const a=t!==gn;a&&!i.current&&(i.current=t),!a&&i.current&&(i.current=null)},[t]),i.current?$i(t,i.current):gn}function Wg(t){x.useEffect(()=>{if(!_i)return;const l=t.map(i=>{let{sensor:a}=i;return a.setup==null?void 0:a.setup()});return()=>{for(const i of l)i?.()}},t.map(l=>{let{sensor:i}=l;return i}))}function Ug(t,l){return x.useMemo(()=>t.reduce((i,a)=>{let{eventName:c,handler:d}=a;return i[c]=p=>{d(p,l)},i},{}),[t,l])}function yf(t){return x.useMemo(()=>t?gg(t):null,[t])}const Od=[];function Vg(t,l){l===void 0&&(l=ho);const[i]=t,a=yf(i?Tt(i):null),[c,d]=x.useState(Od);function p(){d(()=>t.length?t.map(g=>ff(g)?a:new Ka(l(g),g)):Od)}const m=Pi({callback:p});return hn(()=>{m?.disconnect(),p(),t.forEach(g=>m?.observe(g))},[t]),c}function vf(t){if(!t)return null;if(t.children.length>1)return t;const l=t.children[0];return ll(l)?l:t}function Kg(t){let{measure:l}=t;const[i,a]=x.useState(null),c=x.useCallback(y=>{for(const{target:b}of y)if(ll(b)){a(v=>{const j=l(b);return v?{...v,width:j.width,height:j.height}:j});break}},[l]),d=Pi({callback:c}),p=x.useCallback(y=>{const b=vf(y);d?.disconnect(),b&&d?.observe(b),a(b?l(b):null)},[l,d]),[m,g]=Ni(p);return x.useMemo(()=>({nodeRef:m,rect:i,setRef:g}),[i,m,g])}const Gg=[{sensor:Xa,options:{}},{sensor:xf,options:{}}],Xg={current:{}},Ei={draggable:{measure:Ld},droppable:{measure:Ld,strategy:nl.WhileDragging,frequency:Da.Optimized},dragOverlay:{measure:ho}};class el extends Map{get(l){var i;return l!=null&&(i=super.get(l))!=null?i:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(l=>{let{disabled:i}=l;return!i})}getNodeFor(l){var i,a;return(i=(a=this.get(l))==null?void 0:a.node.current)!=null?i:void 0}}const Yg={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new el,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Li},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ei,measureDroppableContainers:Li,windowRect:null,measuringScheduled:!1},bf={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Li,draggableNodes:new Map,over:null,measureDroppableContainers:Li},al=x.createContext(bf),wf=x.createContext(Yg);function Qg(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new el}}}function qg(t,l){switch(l.type){case et.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:l.initialCoordinates,active:l.active}};case et.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:l.coordinates.x-t.draggable.initialCoordinates.x,y:l.coordinates.y-t.draggable.initialCoordinates.y}}};case et.DragEnd:case et.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case et.RegisterDroppable:{const{element:i}=l,{id:a}=i,c=new el(t.droppable.containers);return c.set(a,i),{...t,droppable:{...t.droppable,containers:c}}}case et.SetDroppableDisabled:{const{id:i,key:a,disabled:c}=l,d=t.droppable.containers.get(i);if(!d||a!==d.key)return t;const p=new el(t.droppable.containers);return p.set(i,{...d,disabled:c}),{...t,droppable:{...t.droppable,containers:p}}}case et.UnregisterDroppable:{const{id:i,key:a}=l,c=t.droppable.containers.get(i);if(!c||a!==c.key)return t;const d=new el(t.droppable.containers);return d.delete(i),{...t,droppable:{...t.droppable,containers:d}}}default:return t}}function Jg(t){let{disabled:l}=t;const{active:i,activatorEvent:a,draggableNodes:c}=x.useContext(al),d=Ti(a),p=Ti(i?.id);return x.useEffect(()=>{if(!l&&!a&&d&&p!=null){if(!Di(d)||document.activeElement===d.target)return;const m=c.get(p);if(!m)return;const{activatorNode:g,node:y}=m;if(!g.current&&!y.current)return;requestAnimationFrame(()=>{for(const b of[g.current,y.current]){if(!b)continue;const v=Wh(b);if(v){v.focus();break}}})}},[a,l,c,p,d]),null}function kf(t,l){let{transform:i,...a}=l;return t!=null&&t.length?t.reduce((c,d)=>d({transform:c,...a}),i):i}function Zg(t){return x.useMemo(()=>({draggable:{...Ei.draggable,...t?.draggable},droppable:{...Ei.droppable,...t?.droppable},dragOverlay:{...Ei.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function em(t){let{activeNode:l,measure:i,initialRect:a,config:c=!0}=t;const d=x.useRef(!1),{x:p,y:m}=typeof c=="boolean"?{x:c,y:c}:c;hn(()=>{if(!p&&!m||!l){d.current=!1;return}if(d.current||!a)return;const y=l?.node.current;if(!y||y.isConnected===!1)return;const b=i(y),v=sf(b,a);if(p||(v.x=0),m||(v.y=0),d.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const j=cf(y);j&&j.scrollBy({top:v.y,left:v.x})}},[l,p,m,a,i])}const Mi=x.createContext({...gn,scaleX:1,scaleY:1});var ur;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(ur||(ur={}));const tm=x.memo(function(l){var i,a,c,d;let{id:p,accessibility:m,autoScroll:g=!0,children:y,sensors:b=Gg,collisionDetection:v=sg,measuring:j,modifiers:E,...L}=l;const S=x.useReducer(qg,void 0,Qg),[C,k]=S,[$,T]=Yh(),[R,O]=x.useState(ur.Uninitialized),F=R===ur.Initialized,{draggable:{active:z,nodes:W,translate:Y},droppable:{containers:K}}=C,G=z!=null?W.get(z):null,M=x.useRef({initial:null,translated:null}),Z=x.useMemo(()=>{var Ie;return z!=null?{id:z,data:(Ie=G?.data)!=null?Ie:Xg,rect:M}:null},[z,G]),te=x.useRef(null),[se,me]=x.useState(null),[de,U]=x.useState(null),ee=tl(L,Object.values(L)),V=sl("DndDescribedBy",p),A=x.useMemo(()=>K.getEnabled(),[K]),H=Zg(j),{droppableRects:oe,measureDroppableContainers:ne,measuringScheduled:pe}=Dg(A,{dragging:F,dependencies:[Y.x,Y.y],config:H.droppable}),ae=_g(W,z),ke=x.useMemo(()=>de?Ri(de):null,[de]),ye=bn(),Ce=Pg(ae,H.draggable.measure);em({activeNode:z!=null?W.get(z):null,config:ye.layoutShiftCompensation,initialRect:Ce,measure:H.draggable.measure});const Se=Dd(ae,H.draggable.measure,Ce),kt=Dd(ae?ae.parentElement:null),ze=x.useRef({activatorEvent:null,active:null,activeNode:ae,collisionRect:null,collisions:null,droppableRects:oe,draggableNodes:W,draggingNode:null,draggingNodeRect:null,droppableContainers:K,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),pt=K.getNodeFor((i=ze.current.over)==null?void 0:i.id),je=Kg({measure:H.dragOverlay.measure}),ht=(a=je.nodeRef.current)!=null?a:ae,Gt=F?(c=je.rect)!=null?c:Se:null,Ct=!!(je.nodeRef.current&&je.rect),mn=zg(Ct?null:Se),$n=yf(ht?Tt(ht):null),ct=Hg(F?pt??ae:null),Dt=Vg(ct),xn=kf(E,{transform:{x:Y.x-mn.x,y:Y.y-mn.y,scaleX:1,scaleY:1},activatorEvent:de,active:Z,activeNodeRect:Se,containerNodeRect:kt,draggingNodeRect:Gt,over:ze.current.over,overlayNodeRect:je.rect,scrollableAncestors:ct,scrollableAncestorRects:Dt,windowRect:$n}),fr=ke?co(ke,Y):null,pr=Fg(ct),Ar=Md(pr),_r=Md(pr,[Se]),Xt=co(xn,Ar),Pt=Gt?fg(Gt,xn):null,yn=Z&&Pt?v({active:Z,collisionRect:Pt,droppableRects:oe,droppableContainers:A,pointerCoordinates:fr}):null,vn=og(yn,"id"),[gt,hr]=x.useState(null),Br=Ct?xn:co(xn,_r),Dr=ug(Br,(d=gt?.rect)!=null?d:null,Se),gr=x.useRef(null),Hn=x.useCallback((Ie,tt)=>{let{sensor:nt,options:Mt}=tt;if(te.current==null)return;const ut=W.get(te.current);if(!ut)return;const rt=Ie.nativeEvent,mt=new nt({active:te.current,activeNode:ut,event:rt,options:Mt,context:ze,onAbort(_e){if(!W.get(_e))return;const{onDragAbort:ot}=ee.current,$t={id:_e};ot?.($t),$({type:"onDragAbort",event:$t})},onPending(_e,St,ot,$t){if(!W.get(_e))return;const{onDragPending:zt}=ee.current,xt={id:_e,constraint:St,initialCoordinates:ot,offset:$t};zt?.(xt),$({type:"onDragPending",event:xt})},onStart(_e){const St=te.current;if(St==null)return;const ot=W.get(St);if(!ot)return;const{onDragStart:$t}=ee.current,Ot={activatorEvent:rt,active:{id:St,data:ot.data,rect:M}};dr.unstable_batchedUpdates(()=>{$t?.(Ot),O(ur.Initializing),k({type:et.DragStart,initialCoordinates:_e,active:St}),$({type:"onDragStart",event:Ot}),me(gr.current),U(rt)})},onMove(_e){k({type:et.DragMove,coordinates:_e})},onEnd:Yt(et.DragEnd),onCancel:Yt(et.DragCancel)});gr.current=mt;function Yt(_e){return async function(){const{active:ot,collisions:$t,over:Ot,scrollAdjustedTranslate:zt}=ze.current;let xt=null;if(ot&&zt){const{cancelDrop:ln}=ee.current;xt={activatorEvent:rt,active:ot,collisions:$t,delta:zt,over:Ot},_e===et.DragEnd&&typeof ln=="function"&&await Promise.resolve(ln(xt))&&(_e=et.DragCancel)}te.current=null,dr.unstable_batchedUpdates(()=>{k({type:_e}),O(ur.Uninitialized),hr(null),me(null),U(null),gr.current=null;const ln=_e===et.DragEnd?"onDragEnd":"onDragCancel";if(xt){const Un=ee.current[ln];Un?.(xt),$({type:ln,event:xt})}})}}},[W]),mr=x.useCallback((Ie,tt)=>(nt,Mt)=>{const ut=nt.nativeEvent,rt=W.get(Mt);if(te.current!==null||!rt||ut.dndKit||ut.defaultPrevented)return;const mt={active:rt};Ie(nt,tt.options,mt)===!0&&(ut.dndKit={capturedBy:tt.sensor},te.current=Mt,Hn(nt,tt))},[W,Hn]),Fn=Bg(b,mr);Wg(b),hn(()=>{Se&&R===ur.Initializing&&O(ur.Initialized)},[Se,R]),x.useEffect(()=>{const{onDragMove:Ie}=ee.current,{active:tt,activatorEvent:nt,collisions:Mt,over:ut}=ze.current;if(!tt||!nt)return;const rt={active:tt,activatorEvent:nt,collisions:Mt,delta:{x:Xt.x,y:Xt.y},over:ut};dr.unstable_batchedUpdates(()=>{Ie?.(rt),$({type:"onDragMove",event:rt})})},[Xt.x,Xt.y]),x.useEffect(()=>{const{active:Ie,activatorEvent:tt,collisions:nt,droppableContainers:Mt,scrollAdjustedTranslate:ut}=ze.current;if(!Ie||te.current==null||!tt||!ut)return;const{onDragOver:rt}=ee.current,mt=Mt.get(vn),Yt=mt&&mt.rect.current?{id:mt.id,rect:mt.rect.current,data:mt.data,disabled:mt.disabled}:null,_e={active:Ie,activatorEvent:tt,collisions:nt,delta:{x:ut.x,y:ut.y},over:Yt};dr.unstable_batchedUpdates(()=>{hr(Yt),rt?.(_e),$({type:"onDragOver",event:_e})})},[vn]),hn(()=>{ze.current={activatorEvent:de,active:Z,activeNode:ae,collisionRect:Pt,collisions:yn,droppableRects:oe,draggableNodes:W,draggingNode:ht,draggingNodeRect:Gt,droppableContainers:K,over:gt,scrollableAncestors:ct,scrollAdjustedTranslate:Xt},M.current={initial:Gt,translated:Pt}},[Z,ae,yn,Pt,W,ht,Gt,oe,K,gt,ct,Xt]),Lg({...ye,delta:Y,draggingRect:Pt,pointerCoordinates:fr,scrollableAncestors:ct,scrollableAncestorRects:Dt});const Wn=x.useMemo(()=>({active:Z,activeNode:ae,activeNodeRect:Se,activatorEvent:de,collisions:yn,containerNodeRect:kt,dragOverlay:je,draggableNodes:W,droppableContainers:K,droppableRects:oe,over:gt,measureDroppableContainers:ne,scrollableAncestors:ct,scrollableAncestorRects:Dt,measuringConfiguration:H,measuringScheduled:pe,windowRect:$n}),[Z,ae,Se,de,yn,kt,je,W,K,oe,gt,ne,ct,Dt,H,pe,$n]),xr=x.useMemo(()=>({activatorEvent:de,activators:Fn,active:Z,activeNodeRect:Se,ariaDescribedById:{draggable:V},dispatch:k,draggableNodes:W,over:gt,measureDroppableContainers:ne}),[de,Fn,Z,Se,k,V,W,gt,ne]);return Me.createElement(rf.Provider,{value:T},Me.createElement(al.Provider,{value:xr},Me.createElement(wf.Provider,{value:Wn},Me.createElement(Mi.Provider,{value:Dr},y)),Me.createElement(Jg,{disabled:m?.restoreFocus===!1})),Me.createElement(Jh,{...m,hiddenTextDescribedById:V}));function bn(){const Ie=se?.autoScrollEnabled===!1,tt=typeof g=="object"?g.enabled===!1:g===!1,nt=F&&!Ie&&!tt;return typeof g=="object"?{...g,enabled:nt}:{enabled:nt}}}),nm=x.createContext(null),zd="button",rm="Draggable";function Cf(t){let{id:l,data:i,disabled:a=!1,attributes:c}=t;const d=sl(rm),{activators:p,activatorEvent:m,active:g,activeNodeRect:y,ariaDescribedById:b,draggableNodes:v,over:j}=x.useContext(al),{role:E=zd,roleDescription:L="draggable",tabIndex:S=0}=c??{},C=g?.id===l,k=x.useContext(C?Mi:nm),[$,T]=Ni(),[R,O]=Ni(),F=Ug(p,l),z=tl(i);hn(()=>(v.set(l,{id:l,key:d,node:$,activatorNode:R,data:z}),()=>{const Y=v.get(l);Y&&Y.key===d&&v.delete(l)}),[v,l]);const W=x.useMemo(()=>({role:E,tabIndex:S,"aria-disabled":a,"aria-pressed":C&&E===zd?!0:void 0,"aria-roledescription":L,"aria-describedby":b.draggable}),[a,E,S,C,L,b.draggable]);return{active:g,activatorEvent:m,activeNodeRect:y,attributes:W,isDragging:C,listeners:a?void 0:F,node:$,over:j,setNodeRef:T,setActivatorNodeRef:O,transform:k}}function Sf(){return x.useContext(wf)}const om="Droppable",lm={timeout:25};function Oi(t){let{data:l,disabled:i=!1,id:a,resizeObserverConfig:c}=t;const d=sl(om),{active:p,dispatch:m,over:g,measureDroppableContainers:y}=x.useContext(al),b=x.useRef({disabled:i}),v=x.useRef(!1),j=x.useRef(null),E=x.useRef(null),{disabled:L,updateMeasurementsFor:S,timeout:C}={...lm,...c},k=tl(S??a),$=x.useCallback(()=>{if(!v.current){v.current=!0;return}E.current!=null&&clearTimeout(E.current),E.current=setTimeout(()=>{y(Array.isArray(k.current)?k.current:[k.current]),E.current=null},C)},[C]),T=Pi({callback:$,disabled:L||!p}),R=x.useCallback((W,Y)=>{T&&(Y&&(T.unobserve(Y),v.current=!1),W&&T.observe(W))},[T]),[O,F]=Ni(R),z=tl(l);return x.useEffect(()=>{!T||!O.current||(T.disconnect(),v.current=!1,T.observe(O.current))},[O,T]),x.useEffect(()=>(m({type:et.RegisterDroppable,element:{id:a,key:d,disabled:i,node:O,rect:j,data:z}}),()=>m({type:et.UnregisterDroppable,key:d,id:a})),[a]),x.useEffect(()=>{i!==b.current.disabled&&(m({type:et.SetDroppableDisabled,id:a,key:d,disabled:i}),b.current.disabled=i)},[a,d,i,m]),{active:p,rect:j,isOver:g?.id===a,node:O,over:g,setNodeRef:F}}function im(t){let{animation:l,children:i}=t;const[a,c]=x.useState(null),[d,p]=x.useState(null),m=Ti(i);return!i&&!a&&m&&c(m),hn(()=>{if(!d)return;const g=a?.key,y=a?.props.id;if(g==null||y==null){c(null);return}Promise.resolve(l(y,d)).then(()=>{c(null)})},[l,a,d]),Me.createElement(Me.Fragment,null,i,a?x.cloneElement(a,{ref:p}):null)}const sm={x:0,y:0,scaleX:1,scaleY:1};function am(t){let{children:l}=t;return Me.createElement(al.Provider,{value:bf},Me.createElement(Mi.Provider,{value:sm},l))}const cm={position:"fixed",touchAction:"none"},um=t=>Di(t)?"transform 250ms ease":void 0,dm=x.forwardRef((t,l)=>{let{as:i,activatorEvent:a,adjustScale:c,children:d,className:p,rect:m,style:g,transform:y,transition:b=um}=t;if(!m)return null;const v=c?y:{...y,scaleX:1,scaleY:1},j={...cm,width:m.width,height:m.height,top:m.top,left:m.left,transform:zn.Transform.toString(v),transformOrigin:c&&a?tg(a,m):void 0,transition:typeof b=="function"?b(a):b,...g};return Me.createElement(i,{className:p,style:j,ref:l},d)}),fm=t=>l=>{let{active:i,dragOverlay:a}=l;const c={},{styles:d,className:p}=t;if(d!=null&&d.active)for(const[m,g]of Object.entries(d.active))g!==void 0&&(c[m]=i.node.style.getPropertyValue(m),i.node.style.setProperty(m,g));if(d!=null&&d.dragOverlay)for(const[m,g]of Object.entries(d.dragOverlay))g!==void 0&&a.node.style.setProperty(m,g);return p!=null&&p.active&&i.node.classList.add(p.active),p!=null&&p.dragOverlay&&a.node.classList.add(p.dragOverlay),function(){for(const[g,y]of Object.entries(c))i.node.style.setProperty(g,y);p!=null&&p.active&&i.node.classList.remove(p.active)}},pm=t=>{let{transform:{initial:l,final:i}}=t;return[{transform:zn.Transform.toString(l)},{transform:zn.Transform.toString(i)}]},hm={duration:250,easing:"ease",keyframes:pm,sideEffects:fm({styles:{active:{opacity:"0"}}})};function gm(t){let{config:l,draggableNodes:i,droppableContainers:a,measuringConfiguration:c}=t;return Bi((d,p)=>{if(l===null)return;const m=i.get(d);if(!m)return;const g=m.node.current;if(!g)return;const y=vf(p);if(!y)return;const{transform:b}=Tt(p).getComputedStyle(p),v=af(b);if(!v)return;const j=typeof l=="function"?l:mm(l);return gf(g,c.draggable.measure),j({active:{id:d,data:m.data,node:g,rect:c.draggable.measure(g)},draggableNodes:i,dragOverlay:{node:p,rect:c.dragOverlay.measure(y)},droppableContainers:a,measuringConfiguration:c,transform:v})})}function mm(t){const{duration:l,easing:i,sideEffects:a,keyframes:c}={...hm,...t};return d=>{let{active:p,dragOverlay:m,transform:g,...y}=d;if(!l)return;const b={x:m.rect.left-p.rect.left,y:m.rect.top-p.rect.top},v={scaleX:g.scaleX!==1?p.rect.width*g.scaleX/m.rect.width:1,scaleY:g.scaleY!==1?p.rect.height*g.scaleY/m.rect.height:1},j={x:g.x-b.x,y:g.y-b.y,...v},E=c({...y,active:p,dragOverlay:m,transform:{initial:g,final:j}}),[L]=E,S=E[E.length-1];if(JSON.stringify(L)===JSON.stringify(S))return;const C=a?.({active:p,dragOverlay:m,...y}),k=m.node.animate(E,{duration:l,easing:i,fill:"forwards"});return new Promise($=>{k.onfinish=()=>{C?.(),$()}})}}let Hd=0;function xm(t){return x.useMemo(()=>{if(t!=null)return Hd++,Hd},[t])}const ym=Me.memo(t=>{let{adjustScale:l=!1,children:i,dropAnimation:a,style:c,transition:d,modifiers:p,wrapperElement:m="div",className:g,zIndex:y=999}=t;const{activatorEvent:b,active:v,activeNodeRect:j,containerNodeRect:E,draggableNodes:L,droppableContainers:S,dragOverlay:C,over:k,measuringConfiguration:$,scrollableAncestors:T,scrollableAncestorRects:R,windowRect:O}=Sf(),F=x.useContext(Mi),z=xm(v?.id),W=kf(p,{activatorEvent:b,active:v,activeNodeRect:j,containerNodeRect:E,draggingNodeRect:C.rect,over:k,overlayNodeRect:C.rect,scrollableAncestors:T,scrollableAncestorRects:R,transform:F,windowRect:O}),Y=Ya(j),K=gm({config:a,draggableNodes:L,droppableContainers:S,measuringConfiguration:$}),G=Y?C.setRef:void 0;return Me.createElement(am,null,Me.createElement(im,{animation:K},v&&z?Me.createElement(dm,{key:z,id:v.id,ref:G,as:m,activatorEvent:b,adjustScale:l,className:g,transition:d,rect:Y,style:{zIndex:y,...c},transform:W},i):null))});class vm{constructor(){this.filters=new Map,this.actions=new Map,this.debug=!1}setDebug(l){this.debug=l}_log(l,i,...a){this.debug&&console.log(`[LaraHooks] ${l}: ${i}`,...a)}addFilter(l,i,a=10){return typeof i!="function"?(console.error(`[LaraHooks] addFilter: callback must be a function for hook "${l}"`),this):(this.filters.has(l)||this.filters.set(l,[]),this.filters.get(l).push({callback:i,priority:a}),this.filters.get(l).sort((c,d)=>c.priority-d.priority),this._log("Filter added",l,{priority:a}),this)}applyFilters(l,i,...a){const c=this.filters.get(l);return!c||c.length===0?i:(this._log("Applying filters",l,{hookCount:c.length}),c.reduce((d,{callback:p})=>{try{const m=p(d,...a);return m!==void 0?m:d}catch(m){return console.error(`[LaraHooks] Error in filter "${l}":`,m),d}},i))}addAction(l,i,a=10){return typeof i!="function"?(console.error(`[LaraHooks] addAction: callback must be a function for hook "${l}"`),this):(this.actions.has(l)||this.actions.set(l,[]),this.actions.get(l).push({callback:i,priority:a}),this.actions.get(l).sort((c,d)=>c.priority-d.priority),this._log("Action added",l,{priority:a}),this)}doAction(l,...i){const a=this.actions.get(l);!a||a.length===0||(this._log("Executing action",l,{hookCount:a.length}),a.forEach(({callback:c})=>{try{c(...i)}catch(d){console.error(`[LaraHooks] Error in action "${l}":`,d)}}))}removeFilter(l,i){const a=this.filters.get(l);if(a){const c=a.findIndex(d=>d.callback===i);c>-1&&(a.splice(c,1),this._log("Filter removed",l))}return this}removeAction(l,i){const a=this.actions.get(l);if(a){const c=a.findIndex(d=>d.callback===i);c>-1&&(a.splice(c,1),this._log("Action removed",l))}return this}removeAllFilters(l){return this.filters.delete(l),this._log("All filters removed",l),this}removeAllActions(l){return this.actions.delete(l),this._log("All actions removed",l),this}hasHook(l,i="filter"){const c=(i==="filter"?this.filters:this.actions).get(l);return c&&c.length>0}getHookCount(l,i="filter"){const c=(i==="filter"?this.filters:this.actions).get(l);return c?c.length:0}getRegisteredHooks(l="all"){const i=[];return(l==="all"||l==="filter")&&i.push(...Array.from(this.filters.keys()).map(a=>`filter:${a}`)),(l==="all"||l==="action")&&i.push(...Array.from(this.actions.keys()).map(a=>`action:${a}`)),i}reset(){this.filters.clear(),this.actions.clear(),this._log("System reset","all hooks cleared")}}const fe=new vm;typeof window<"u"&&(window.LaraHooks=fe);const ve={FILTER_CONFIG:"builder.config",FILTER_CONFIG_EMAIL:"builder.config.email",FILTER_CONFIG_PAGE:"builder.config.page",FILTER_CONFIG_CAMPAIGN:"builder.config.campaign",FILTER_BLOCKS:"builder.blocks",FILTER_BLOCKS_EMAIL:"builder.blocks.email",FILTER_BLOCKS_PAGE:"builder.blocks.page",FILTER_BLOCKS_CAMPAIGN:"builder.blocks.campaign",FILTER_BLOCK_CATEGORIES:"builder.blocks.categories",FILTER_BLOCK_PROPS:"builder.block.props",FILTER_BLOCK_RENDER:"builder.block.render",FILTER_BLOCK_COMPONENT:"builder.block.component",FILTER_HTML_GENERATED:"builder.html.generated",FILTER_HTML_BLOCK:"builder.html.block",FILTER_HTML_WRAPPER:"builder.html.wrapper",FILTER_PROPERTY_FIELDS:"builder.properties.fields",FILTER_PROPERTY_FIELD:"builder.properties.field",FILTER_CANVAS_SETTINGS:"builder.canvas.settings",FILTER_CANVAS_DEFAULT_SETTINGS:"builder.canvas.defaultSettings",FILTER_HEADER:"builder.ui.header",FILTER_LEFT_PANEL:"builder.ui.panel.left",FILTER_RIGHT_PANEL:"builder.ui.panel.right",FILTER_TOOLBAR:"builder.ui.toolbar",FILTER_BLOCK_TOOLBAR:"builder.ui.blockToolbar",FILTER_MORE_TEXT_CONTROLS:"builder.ui.moreTextControls",FILTER_INITIAL_STATE:"builder.state.initial",FILTER_STATE_BEFORE_SAVE:"builder.state.beforeSave",FILTER_STATE_AFTER_LOAD:"builder.state.afterLoad",FILTER_SAVE_DATA:"builder.data.save",FILTER_LOAD_DATA:"builder.data.load",ACTION_INIT:"builder.init",ACTION_READY:"builder.ready",ACTION_DESTROY:"builder.destroy",ACTION_BEFORE_SAVE:"builder.save.before",ACTION_AFTER_SAVE:"builder.save.after",ACTION_SAVE_ERROR:"builder.save.error",ACTION_BLOCK_REGISTERED:"builder.block.registered",ACTION_BLOCK_UNREGISTERED:"builder.block.unregistered",ACTION_BLOCK_ADDED:"builder.block.added",ACTION_BLOCK_REMOVED:"builder.block.removed",ACTION_BLOCK_UPDATED:"builder.block.updated",ACTION_BLOCK_MOVED:"builder.block.moved",ACTION_BLOCK_DUPLICATED:"builder.block.duplicated",ACTION_BLOCK_SELECTED:"builder.block.selected",ACTION_BLOCK_DESELECTED:"builder.block.deselected",ACTION_UNDO:"builder.history.undo",ACTION_REDO:"builder.history.redo",ACTION_HISTORY_CHANGED:"builder.history.changed",ACTION_CANVAS_SETTINGS_CHANGED:"builder.canvas.settingsChanged",ACTION_HTML_BEFORE_GENERATE:"builder.html.beforeGenerate",ACTION_HTML_AFTER_GENERATE:"builder.html.afterGenerate",ACTION_DRAG_START:"builder.dnd.dragStart",ACTION_DRAG_END:"builder.dnd.dragEnd",ACTION_DROP:"builder.dnd.drop",ACTION_IMAGE_UPLOADED:"builder.media.imageUploaded",ACTION_VIDEO_UPLOADED:"builder.media.videoUploaded",ACTION_KEYBOARD_SHORTCUT:"builder.keyboard.shortcut"};function Pa(t,l){return`${t}.${l}`}const Fd=50,xe={SET_BLOCKS:"SET_BLOCKS",ADD_BLOCK:"ADD_BLOCK",UPDATE_BLOCK:"UPDATE_BLOCK",DELETE_BLOCK:"DELETE_BLOCK",MOVE_BLOCK:"MOVE_BLOCK",DUPLICATE_BLOCK:"DUPLICATE_BLOCK",ADD_NESTED_BLOCK:"ADD_NESTED_BLOCK",UPDATE_NESTED_BLOCK:"UPDATE_NESTED_BLOCK",DELETE_NESTED_BLOCK:"DELETE_NESTED_BLOCK",MOVE_NESTED_BLOCK:"MOVE_NESTED_BLOCK",SELECT_BLOCK:"SELECT_BLOCK",DESELECT_ALL:"DESELECT_ALL",UPDATE_CANVAS_SETTINGS:"UPDATE_CANVAS_SETTINGS",UNDO:"UNDO",REDO:"REDO",CLEAR_HISTORY:"CLEAR_HISTORY",SET_DIRTY:"SET_DIRTY",MARK_SAVED:"MARK_SAVED",RESET_STATE:"RESET_STATE",LOAD_STATE:"LOAD_STATE"},jf={blocks:[],selectedBlockId:null,canvasSettings:{},past:[],future:[],isDirty:!1,context:"email",config:{}};function Lr(t){return JSON.parse(JSON.stringify(t))}function qo(){return`block-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function Ef(){return{id:qo(),type:"text",props:{content:"",align:"left",color:"#666666",fontSize:"16px",lineHeight:"1.6"}}}function Nf(t,l){for(const i of t){if(i.id===l)return i;if(i.props?.children)for(const a of i.props.children){const c=Nf(a,l);if(c)return c}}return null}function Ma(t,l,i){return t.map(a=>a.id===l?{...a,props:{...a.props,...i}}:a.props?.children?{...a,props:{...a.props,children:a.props.children.map(c=>Ma(c,l,i))}}:a)}function Tf(t,l){return t.filter(i=>i.id!==l).map(i=>i.props?.children?{...i,props:{...i.props,children:i.props.children.map(a=>Tf(a,l))}}:i)}function Wd(t,l,i){const a=[...t];return a.splice(i,0,l),a}function bm(t,l,i){const a=[...t],[c]=a.splice(l,1);return a.splice(i,0,c),a}function wm(t,l){const i=[...t,{blocks:Lr(l.blocks),canvasSettings:Lr(l.canvasSettings),selectedBlockId:l.selectedBlockId}];return i.length>Fd?i.slice(-Fd):i}function km(t){return[xe.SET_BLOCKS,xe.ADD_BLOCK,xe.UPDATE_BLOCK,xe.DELETE_BLOCK,xe.MOVE_BLOCK,xe.DUPLICATE_BLOCK,xe.ADD_NESTED_BLOCK,xe.UPDATE_NESTED_BLOCK,xe.DELETE_NESTED_BLOCK,xe.MOVE_NESTED_BLOCK,xe.UPDATE_CANVAS_SETTINGS].includes(t.type)}function Cm(t,l){l=fe.applyFilters("builder.action.before",l,t);let i=t;const c=km(l)?wm(t.past,t):t.past;switch(l.type){case xe.SET_BLOCKS:i={...t,blocks:l.payload,past:c,future:[],isDirty:!0};break;case xe.ADD_BLOCK:{const{block:d,index:p=t.blocks.length}=l.payload,m={...d,id:d.id||qo()};i={...t,blocks:Wd(t.blocks,m,p),selectedBlockId:m.id,past:c,future:[],isDirty:!0},fe.doAction(ve.ACTION_BLOCK_ADDED,m,t.context);break}case xe.UPDATE_BLOCK:{const{id:d,props:p}=l.payload;i={...t,blocks:Ma(t.blocks,d,p),past:c,future:[],isDirty:!0},fe.doAction(ve.ACTION_BLOCK_UPDATED,d,p,t.context);break}case xe.DELETE_BLOCK:{const{id:d}=l.payload;let p=Tf(t.blocks,d),m=t.selectedBlockId;if(p.length===0){const g=Ef();p=[g],m=g.id}else if(t.selectedBlockId===d){const g=t.blocks.findIndex(y=>y.id===d);g!==-1?g>0?m=t.blocks[g-1].id:t.blocks.length>1?m=t.blocks[g+1].id:m=p[0]?.id||null:m=p[0]?.id||null}i={...t,blocks:p,selectedBlockId:m,past:c,future:[],isDirty:!0},fe.doAction(ve.ACTION_BLOCK_REMOVED,d,t.context);break}case xe.MOVE_BLOCK:{const{fromIndex:d,toIndex:p}=l.payload;i={...t,blocks:bm(t.blocks,d,p),past:c,future:[],isDirty:!0},fe.doAction(ve.ACTION_BLOCK_MOVED,d,p,t.context);break}case xe.DUPLICATE_BLOCK:{const{id:d}=l.payload,p=Nf(t.blocks,d);if(p){const m=Lr(p);m.id=qo(),m.props?.children&&(m.props.children=m.props.children.map(y=>y.map(b=>({...b,id:qo()}))));const g=t.blocks.findIndex(y=>y.id===d);i={...t,blocks:Wd(t.blocks,m,g+1),selectedBlockId:m.id,past:c,future:[],isDirty:!0},fe.doAction(ve.ACTION_BLOCK_DUPLICATED,m,t.context)}break}case xe.ADD_NESTED_BLOCK:{const{parentId:d,columnIndex:p,block:m,index:g}=l.payload,y={...m,id:m.id||qo()},b=t.blocks.map(v=>{if(v.id===d&&v.props?.children){const j=[...v.props.children],E=[...j[p]];return E.splice(g??E.length,0,y),j[p]=E,{...v,props:{...v.props,children:j}}}return v});i={...t,blocks:b,selectedBlockId:y.id,past:c,future:[],isDirty:!0},fe.doAction(ve.ACTION_BLOCK_ADDED,y,t.context);break}case xe.UPDATE_NESTED_BLOCK:{const{id:d,props:p}=l.payload;i={...t,blocks:Ma(t.blocks,d,p),past:c,future:[],isDirty:!0},fe.doAction(ve.ACTION_BLOCK_UPDATED,d,p,t.context);break}case xe.DELETE_NESTED_BLOCK:{const{parentId:d,columnIndex:p,blockId:m}=l.payload;let g=t.selectedBlockId;if(t.selectedBlockId===m){const b=t.blocks.find(v=>v.id===d);if(b?.props?.children?.[p]){const v=b.props.children[p],j=v.findIndex(E=>E.id===m);j!==-1?j>0?g=v[j-1].id:v.length>1?g=v[j+1].id:g=d:g=d}else g=null}const y=t.blocks.map(b=>{if(b.id===d&&b.props?.children){const v=[...b.props.children];return v[p]=v[p].filter(j=>j.id!==m),{...b,props:{...b.props,children:v}}}return b});i={...t,blocks:y,selectedBlockId:g,past:c,future:[],isDirty:!0},fe.doAction(ve.ACTION_BLOCK_REMOVED,m,t.context);break}case xe.MOVE_NESTED_BLOCK:{const{parentId:d,fromColumn:p,fromIndex:m,toColumn:g,toIndex:y}=l.payload,b=t.blocks.map(v=>{if(v.id===d&&v.props?.children){const j=v.props.children.map(L=>[...L]),[E]=j[p].splice(m,1);return j[g].splice(y,0,E),{...v,props:{...v.props,children:j}}}return v});i={...t,blocks:b,past:c,future:[],isDirty:!0};break}case xe.SELECT_BLOCK:i={...t,selectedBlockId:l.payload},fe.doAction(ve.ACTION_BLOCK_SELECTED,l.payload,t.context);break;case xe.DESELECT_ALL:t.selectedBlockId&&fe.doAction(ve.ACTION_BLOCK_DESELECTED,t.selectedBlockId,t.context),i={...t,selectedBlockId:null};break;case xe.UPDATE_CANVAS_SETTINGS:i={...t,canvasSettings:{...t.canvasSettings,...l.payload},past:c,future:[],isDirty:!0},fe.doAction(ve.ACTION_CANVAS_SETTINGS_CHANGED,i.canvasSettings,t.context);break;case xe.UNDO:{if(t.past.length===0)break;const d=t.past[t.past.length-1],p=t.past.slice(0,-1);i={...t,blocks:d.blocks,canvasSettings:d.canvasSettings,selectedBlockId:d.selectedBlockId,past:p,future:[{blocks:Lr(t.blocks),canvasSettings:Lr(t.canvasSettings),selectedBlockId:t.selectedBlockId},...t.future],isDirty:!0},fe.doAction(ve.ACTION_UNDO,i,t.context),fe.doAction(ve.ACTION_HISTORY_CHANGED,i.past.length,i.future.length);break}case xe.REDO:{if(t.future.length===0)break;const d=t.future[0],p=t.future.slice(1);i={...t,blocks:d.blocks,canvasSettings:d.canvasSettings,selectedBlockId:d.selectedBlockId,past:[...t.past,{blocks:Lr(t.blocks),canvasSettings:Lr(t.canvasSettings),selectedBlockId:t.selectedBlockId}],future:p,isDirty:!0},fe.doAction(ve.ACTION_REDO,i,t.context),fe.doAction(ve.ACTION_HISTORY_CHANGED,i.past.length,i.future.length);break}case xe.CLEAR_HISTORY:i={...t,past:[],future:[]};break;case xe.SET_DIRTY:i={...t,isDirty:l.payload};break;case xe.MARK_SAVED:i={...t,isDirty:!1};break;case xe.RESET_STATE:i={...jf,context:t.context,config:t.config};break;case xe.LOAD_STATE:{const{blocks:d,canvasSettings:p}=l.payload;i={...t,blocks:d||[],canvasSettings:p||{},past:[],future:[],isDirty:!1,selectedBlockId:null},i=fe.applyFilters(ve.FILTER_STATE_AFTER_LOAD,i,t.context);break}}return i=fe.applyFilters("builder.state.after",i,l),i}const Ge={setBlocks:t=>({type:xe.SET_BLOCKS,payload:t}),addBlock:(t,l)=>({type:xe.ADD_BLOCK,payload:{block:t,index:l}}),updateBlock:(t,l)=>({type:xe.UPDATE_BLOCK,payload:{id:t,props:l}}),deleteBlock:t=>({type:xe.DELETE_BLOCK,payload:{id:t}}),moveBlock:(t,l)=>({type:xe.MOVE_BLOCK,payload:{fromIndex:t,toIndex:l}}),duplicateBlock:t=>({type:xe.DUPLICATE_BLOCK,payload:{id:t}}),addNestedBlock:(t,l,i,a)=>({type:xe.ADD_NESTED_BLOCK,payload:{parentId:t,columnIndex:l,block:i,index:a}}),updateNestedBlock:(t,l)=>({type:xe.UPDATE_NESTED_BLOCK,payload:{id:t,props:l}}),deleteNestedBlock:(t,l,i)=>({type:xe.DELETE_NESTED_BLOCK,payload:{parentId:t,columnIndex:l,blockId:i}}),moveNestedBlock:(t,l,i,a,c)=>({type:xe.MOVE_NESTED_BLOCK,payload:{parentId:t,fromColumn:l,fromIndex:i,toColumn:a,toIndex:c}}),selectBlock:t=>({type:xe.SELECT_BLOCK,payload:t}),deselectAll:()=>({type:xe.DESELECT_ALL}),updateCanvasSettings:t=>({type:xe.UPDATE_CANVAS_SETTINGS,payload:t}),undo:()=>({type:xe.UNDO}),redo:()=>({type:xe.REDO}),clearHistory:()=>({type:xe.CLEAR_HISTORY}),setDirty:t=>({type:xe.SET_DIRTY,payload:t}),markSaved:()=>({type:xe.MARK_SAVED}),resetState:()=>({type:xe.RESET_STATE}),loadState:(t,l)=>({type:xe.LOAD_STATE,payload:{blocks:t,canvasSettings:l}})};class Sm{constructor(){this.adapters=new Map,this.defaultAdapter=null}register(l,i){return i?(this.adapters.set(l,i),this.defaultAdapter||(this.defaultAdapter=l),this):(console.error(`[OutputAdapterRegistry] Adapter is required for context: ${l}`),this)}get(l){return this.adapters.has(l)?this.adapters.get(l):this.defaultAdapter?this.adapters.get(this.defaultAdapter):null}has(l){return this.adapters.has(l)}getContexts(){return Array.from(this.adapters.keys())}setDefault(l){return this.adapters.has(l)?this.defaultAdapter=l:console.warn(`[OutputAdapterRegistry] Context not found: ${l}`),this}generateHtml(l,i,a={}){const c=this.get(l);if(!c)return console.error(`[OutputAdapterRegistry] No adapter found for context: ${l}`),"";fe.doAction(ve.ACTION_HTML_BEFORE_GENERATE,i,a,l);let d=c.generateHtml(i,a);return d=fe.applyFilters(ve.FILTER_HTML_GENERATED,d,i,a,l),fe.doAction(ve.ACTION_HTML_AFTER_GENERATE,d,i,a,l),d}getDefaultSettings(l){const i=this.get(l);if(!i)return{};let a=i.getDefaultSettings();return a=fe.applyFilters(ve.FILTER_CANVAS_DEFAULT_SETTINGS,a,l),a}unregister(l){return this.adapters.delete(l),this.defaultAdapter===l&&(this.defaultAdapter=this.adapters.keys().next().value||null),this}reset(){this.adapters.clear(),this.defaultAdapter=null}}const uo=new Sm;typeof window<"u"&&(window.LaraBuilderOutputAdapterRegistry=uo);const $f=x.createContext(null);function jm({children:t,context:l="post",config:i={},initialData:a=null,onStateChange:c=null}){const d=x.useMemo(()=>uo.getDefaultSettings(l),[l]),p=x.useMemo(()=>{const T=a?.blocks?.length>0?a.blocks:[Ef()],R=T[0]?.id||null;let O={...jf,context:l,config:i,canvasSettings:{...d,...a?.canvasSettings},blocks:T,selectedBlockId:R};return O=fe.applyFilters(ve.FILTER_INITIAL_STATE,O,l),O},[l,i,a,d]),[m,g]=x.useReducer(Cm,p);x.useEffect(()=>{c&&c(m)},[m,c]),x.useEffect(()=>(fe.doAction(ve.ACTION_INIT,m,l),()=>{fe.doAction(ve.ACTION_DESTROY,m,l)}),[l]);const y=x.useMemo(()=>({setBlocks:T=>g(Ge.setBlocks(T)),addBlock:(T,R)=>g(Ge.addBlock(T,R)),updateBlock:(T,R)=>g(Ge.updateBlock(T,R)),deleteBlock:T=>g(Ge.deleteBlock(T)),moveBlock:(T,R)=>g(Ge.moveBlock(T,R)),duplicateBlock:T=>g(Ge.duplicateBlock(T)),addNestedBlock:(T,R,O,F)=>g(Ge.addNestedBlock(T,R,O,F)),updateNestedBlock:(T,R)=>g(Ge.updateNestedBlock(T,R)),deleteNestedBlock:(T,R,O)=>g(Ge.deleteNestedBlock(T,R,O)),moveNestedBlock:(T,R,O,F,z)=>g(Ge.moveNestedBlock(T,R,O,F,z)),selectBlock:T=>g(Ge.selectBlock(T)),deselectAll:()=>g(Ge.deselectAll()),updateCanvasSettings:T=>g(Ge.updateCanvasSettings(T)),undo:()=>g(Ge.undo()),redo:()=>g(Ge.redo()),clearHistory:()=>g(Ge.clearHistory()),setDirty:T=>g(Ge.setDirty(T)),markSaved:()=>g(Ge.markSaved()),resetState:()=>g(Ge.resetState()),loadState:(T,R)=>g(Ge.loadState(T,R))}),[g]),b=m.past.length>0,v=m.future.length>0,j=x.useCallback(()=>{b&&g(Ge.undo())},[b]),E=x.useCallback(()=>{v&&g(Ge.redo())},[v]),L=x.useCallback(()=>uo.generateHtml(l,m.blocks,m.canvasSettings),[l,m.blocks,m.canvasSettings]),S=x.useCallback(()=>{if(!m.selectedBlockId)return null;for(const T of m.blocks){if(T.id===m.selectedBlockId)return T;if(T.props?.children)for(const R of T.props.children){const O=R.find(F=>F.id===m.selectedBlockId);if(O)return O}}return null},[m.blocks,m.selectedBlockId]),C=x.useCallback(T=>{const R=O=>{for(const F of O){if(F.id===T)return F;if(F.props?.children)for(const z of F.props.children){const W=R(z);if(W)return W}}return null};return R(m.blocks)},[m.blocks]),k=x.useCallback(()=>{let T={blocks:m.blocks,canvasSettings:m.canvasSettings,version:1};return T=fe.applyFilters(ve.FILTER_STATE_BEFORE_SAVE,T,l),T},[m.blocks,m.canvasSettings,l]),$=x.useMemo(()=>({state:m,dispatch:g,actions:y,canUndo:b,canRedo:v,undo:j,redo:E,historyLength:m.past.length,futureLength:m.future.length,getHtml:L,getSelectedBlock:S,findBlockById:C,getSaveData:k,context:l,config:i}),[m,g,y,b,v,j,E,L,S,C,k,l,i]);return o.jsx($f.Provider,{value:$,children:t})}function zi(){const t=x.useContext($f);if(!t)throw new Error("useBuilder must be used within a BuilderProvider");return t}function Em(t={}){const{enableKeyboardShortcuts:l=!0,preventDefault:i=!0}=t,{canUndo:a,canRedo:c,undo:d,redo:p,historyLength:m,futureLength:g,state:y}=zi(),b=x.useCallback(v=>{if(v.metaKey||v.ctrlKey){if(v.key==="z"&&!v.shiftKey){a&&(i&&v.preventDefault(),d(),fe.doAction(ve.ACTION_KEYBOARD_SHORTCUT,"undo",v));return}if(v.key==="z"&&v.shiftKey){c&&(i&&v.preventDefault(),p(),fe.doAction(ve.ACTION_KEYBOARD_SHORTCUT,"redo",v));return}if(v.key==="y"){c&&(i&&v.preventDefault(),p(),fe.doAction(ve.ACTION_KEYBOARD_SHORTCUT,"redo",v));return}}},[a,c,d,p,i]);return x.useEffect(()=>{if(l)return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[l,b]),{canUndo:a,canRedo:c,historyLength:m,futureLength:g,undo:d,redo:p,isAtStart:m===0,isAtEnd:g===0,totalHistory:m+g}}class Nm{constructor(){this.blocks=new Map,this.categories=new Map,this.components=new Map,this.initialized=!1}register(l){if(!l.type)return console.error("[BlockRegistry] Block type is required"),this;if(!l.label)return console.error(`[BlockRegistry] Block label is required for type: ${l.type}`),this;const i={type:l.type,label:l.label,category:l.category||"Content",icon:l.icon||"lucide:box",contexts:l.contexts||["*"],defaultProps:l.defaultProps||{},block:l.block||null,editor:l.editor||null,fields:l.fields||[],save:l.save||{},validate:l.validate||(()=>!0),transform:l.transform||null,description:l.description||"",keywords:l.keywords||[],supports:{align:!0,spacing:!0,colors:!0,nesting:!1,html:!0,duplicate:!0,remove:!0,...l.supports}};this.blocks.set(l.type,i),this.categories.has(i.category)||this.categories.set(i.category,[]);const a=this.categories.get(i.category),c=a.findIndex(d=>d.type===i.type);return c>-1?a[c]=i:a.push(i),i.block&&this.components.set(l.type,i.block),fe.doAction(ve.ACTION_BLOCK_REGISTERED,i),this}registerMany(l){return l.forEach(i=>this.register(i)),this}unregister(l){const i=this.blocks.get(l);if(i){this.blocks.delete(l),this.components.delete(l);const a=this.categories.get(i.category);if(a){const c=a.findIndex(d=>d.type===l);c>-1&&a.splice(c,1)}fe.doAction(ve.ACTION_BLOCK_UNREGISTERED,l)}return this}get(l){return this.blocks.get(l)}has(l){return this.blocks.has(l)}getAll(){return Array.from(this.blocks.values())}getBlocksForContext(l){let i=Array.from(this.blocks.values()).filter(a=>a.contexts.includes("*")||a.contexts.includes(l));return i=fe.applyFilters(`${ve.FILTER_BLOCKS}.${l}`,i,l),i=fe.applyFilters(ve.FILTER_BLOCKS,i,l),i}getByCategory(l=null){const i=l?this.getBlocksForContext(l):this.getAll(),a={};return i.forEach(c=>{a[c.category]||(a[c.category]=[]),a[c.category].push(c)}),fe.applyFilters(ve.FILTER_BLOCK_CATEGORIES,a,l)}getCategories(){return Array.from(this.categories.keys())}getComponent(l){return this.components.get(l)||null}setComponent(l,i){this.components.set(l,i);const a=this.blocks.get(l);a&&(a.block=i)}search(l,i=null){const a=l.toLowerCase();return(i?this.getBlocksForContext(i):this.getAll()).filter(d=>!!(d.label.toLowerCase().includes(a)||d.type.toLowerCase().includes(a)||d.category.toLowerCase().includes(a)||d.keywords.some(p=>p.toLowerCase().includes(a))||d.description.toLowerCase().includes(a)))}createInstance(l,i={}){const a=this.blocks.get(l);return a?{id:this._generateId(),type:a.type,props:{...JSON.parse(JSON.stringify(a.defaultProps)),...i}}:(console.error(`[BlockRegistry] Block type not found: ${l}`),null)}validate(l,i){const a=this.blocks.get(l);if(!a)return!1;try{return a.validate(i)}catch(c){return console.error(`[BlockRegistry] Validation error for ${l}:`,c),!1}}getDefaultProps(l){const i=this.blocks.get(l);return i?{...i.defaultProps}:{}}supports(l,i){return this.blocks.get(l)?.supports?.[i]??!1}getHtmlGenerator(l,i){const a=this.blocks.get(l);return a?a.save[i]?a.save[i]:a.save["*"]?a.save["*"]:null:null}_generateId(){return`block-${Date.now()}-${Math.random().toString(36).substring(2,11)}`}reset(){this.blocks.clear(),this.categories.clear(),this.components.clear(),this.initialized=!1}toJSON(){return{blocks:Array.from(this.blocks.entries()),categories:Array.from(this.categories.entries())}}}const Xe=new Nm;typeof window<"u"&&(window.LaraBuilderBlockRegistry=Xe);function Tm(){const{state:t,actions:l,context:i}=zi(),{blocks:a,selectedBlockId:c}=t,d=x.useMemo(()=>{if(!c)return null;const C=k=>{for(const $ of k){if($.id===c)return $;if($.props?.children)for(const T of $.props.children){const R=C(T);if(R)return R}}return null};return C(a)},[a,c]),p=x.useCallback((C,k,$={})=>{const T=Xe.createInstance(C,$);return T?(l.addBlock(T,k),T):null},[l]),m=x.useCallback((C,k={})=>{const $=a.findIndex(R=>R.id===c),T=$>-1?$+1:a.length;return p(C,T,k)},[a,c,p]),g=x.useCallback(C=>a.findIndex(k=>k.id===C),[a]),y=x.useCallback(C=>g(C)>0,[g]),b=x.useCallback(C=>{const k=g(C);return k>-1&&k<a.length-1},[a.length,g]),v=x.useCallback(C=>{const k=g(C);k>0&&l.moveBlock(k,k-1)},[g,l]),j=x.useCallback(C=>{const k=g(C);k>-1&&k<a.length-1&&l.moveBlock(k,k+1)},[a.length,g,l]),E=x.useCallback(C=>a.filter(k=>k.type===C),[a]),L=a.length>0,S=x.useMemo(()=>{let C=0;const k=$=>{for(const T of $)if(C++,T.props?.children)for(const R of T.props.children)k(R)};return k(a),C},[a]);return{blocks:a,selectedBlockId:c,selectedBlock:d,hasBlocks:L,totalBlockCount:S,addBlock:l.addBlock,updateBlock:l.updateBlock,deleteBlock:l.deleteBlock,moveBlock:l.moveBlock,duplicateBlock:l.duplicateBlock,selectBlock:l.selectBlock,deselectAll:l.deselectAll,addBlockByType:p,addBlockAfterSelected:m,canMoveUp:y,canMoveDown:b,moveBlockUp:v,moveBlockDown:j,getBlockIndex:g,getBlocksByType:E,context:i}}function $m({templateData:t,isEmailContext:l}){const[i,a]=x.useState(t?.name||""),[c,d]=x.useState(t?.subject||""),[p,m]=x.useState(t?.is_active!==void 0?t.is_active:!0),g=x.useRef({name:t?.name||"",subject:t?.subject||"",is_active:t?.is_active!==void 0?t.is_active:!0}),[y,b]=x.useState(!1);return x.useEffect(()=>{if(!l){b(!1);return}const j=i!==g.current.name||c!==g.current.subject||p!==g.current.is_active;b(j)},[i,c,p,l]),{templateName:i,templateSubject:c,templateStatus:p,templateDirty:y,setTemplateName:a,setTemplateSubject:d,setTemplateStatus:m,markEmailSaved:()=>{g.current={name:i,subject:c,is_active:p},b(!1)}}}function Rm({postData:t,initialSelectedTerms:l,isPostContext:i}){const[a,c]=x.useState(t?.title||""),[d,p]=x.useState(t?.slug||""),[m,g]=x.useState(t?.status||"draft"),[y,b]=x.useState(t?.excerpt||""),[v,j]=x.useState(t?.published_at||""),[E,L]=x.useState(String(t?.parent_id||"")),[S,C]=x.useState(String(t?.reporter_id||"")),[k,$]=x.useState(t?.post_type_meta||{}),[T,R]=x.useState({seo_title:t?.seo_title||"",seo_description:t?.seo_description||"",seo_keywords:t?.seo_keywords||"",index:t?.index!==!1,follow:t?.follow!==!1}),[O,F]=x.useState(l||{}),[z,W]=x.useState(t?.featured_image_url||""),[Y,K]=x.useState(!1),[G,M]=x.useState(()=>({title:t?.title||"",slug:t?.slug||"",status:t?.status||"draft",excerpt:t?.excerpt||"",publishedAt:t?.published_at||"",parentId:String(t?.parent_id||""),reporterId:String(t?.reporter_id||""),postTypeMeta:t?.post_type_meta||{},featuredImage:t?.featured_image_url||""})),Z=x.useMemo(()=>i?a!==G.title||d!==G.slug||m!==G.status||y!==G.excerpt||v!==G.publishedAt||E!==G.parentId||S!==G.reporterId||JSON.stringify(k)!==JSON.stringify(G.postTypeMeta)||z!==G.featuredImage||Y:!1,[i,a,d,m,y,v,E,S,k,z,Y,G]),te=x.useCallback(()=>{const me=a.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();p(me)},[a]);return{title:a,slug:d,status:m,excerpt:y,publishedAt:v,parentId:E,reporterId:S,postTypeMeta:k,seoData:T,selectedTerms:O,featuredImage:z,removeFeaturedImage:Y,postDirty:Z,setTitle:c,setSlug:p,setStatus:g,setExcerpt:b,setPublishedAt:j,setParentId:L,setReporterId:C,setPostTypeMeta:$,setSeoData:R,setSelectedTerms:F,setFeaturedImage:W,setRemoveFeaturedImage:K,generateSlug:te,markPostSaved:()=>{M({title:a,slug:d,status:m,excerpt:y,publishedAt:v,parentId:E,reporterId:S,postTypeMeta:k,featuredImage:z}),K(!1)}}}function Lm({blocks:t,actions:l,addBlockAfterSelected:i}){const a=x.useCallback(S=>{const C=t.find(k=>k.id===S);if(C)return C;for(const k of t)if(k.type==="columns"&&k.props.children)for(const $ of k.props.children){const T=$.find(R=>R.id===S);if(T)return T}return null},[t]),c=x.useCallback(S=>{let C=t.findIndex(k=>k.id===S);if(C!==-1)return{isNested:!1,parentBlockId:null,columnIndex:null,blockIndex:C};for(const k of t)if(k.type==="columns"&&k.props.children)for(let $=0;$<k.props.children.length;$++){const R=k.props.children[$].findIndex(O=>O.id===S);if(R!==-1)return{isNested:!0,parentBlockId:k.id,columnIndex:$,blockIndex:R}}return null},[t]),d=x.useCallback((S,C)=>{l.updateBlock(S,C)},[l]),p=x.useCallback(S=>{l.deleteBlock(S)},[l]),m=x.useCallback((S,C,k)=>{l.deleteNestedBlock(C,k,S)},[l]),g=x.useCallback((S,C)=>{const k=t.findIndex(T=>T.id===S);if(k===-1)return;const $=C==="up"?k-1:k+1;$<0||$>=t.length||l.moveBlock(k,$)},[t,l]),y=x.useCallback((S,C,k,$)=>{const T=t.find(z=>z.id===C);if(!T?.props?.children?.[k])return;const R=T.props.children[k],O=R.findIndex(z=>z.id===S);if(O===-1)return;const F=$==="up"?O-1:O+1;F<0||F>=R.length||l.moveNestedBlock(C,k,O,k,F)},[t,l]),b=x.useCallback(S=>{l.duplicateBlock(S)},[l]),v=x.useCallback((S,C,k)=>{const $=t.find(F=>F.id===C);if(!$?.props?.children?.[k])return;const T=$.props.children[k],R=T.find(F=>F.id===S);if(!R)return;const O=Xe.createInstance(R.type,R.props);if(O){const F=T.findIndex(z=>z.id===S);l.addNestedBlock(C,k,O,F+1)}},[t,l]),j=x.useCallback(S=>{i(S)},[i]),E=x.useCallback((S,C)=>{const k=Xe.createInstance(C);if(!k)return;const $=t.findIndex(T=>T.id===S);if($!==-1){l.addBlock(k,$+1),l.selectBlock(k.id);return}for(const T of t)if(T.type==="columns"&&T.props.children)for(let R=0;R<T.props.children.length;R++){const F=T.props.children[R].findIndex(z=>z.id===S);if(F!==-1){l.addNestedBlock(T.id,R,k,F+1),l.selectBlock(k.id);return}}},[t,l]),L=x.useCallback((S,C)=>{const k=Xe.createInstance(C);if(!k)return;const $=t.findIndex(T=>T.id===S);if($!==-1){l.deleteBlock(S),setTimeout(()=>{l.addBlock(k,$),l.selectBlock(k.id)},0);return}for(const T of t)if(T.type==="columns"&&T.props.children)for(let R=0;R<T.props.children.length;R++){const F=T.props.children[R].findIndex(z=>z.id===S);if(F!==-1){l.deleteNestedBlock(T.id,R,S),setTimeout(()=>{l.addNestedBlock(T.id,R,k,F),l.selectBlock(k.id)},0);return}}},[t,l]);return{findBlock:a,findBlockLocation:c,handleUpdateBlock:d,handleDeleteBlock:p,handleDeleteNestedBlock:m,handleMoveBlock:g,handleMoveNestedBlock:y,handleDuplicateBlock:b,handleDuplicateNestedBlock:v,handleAddBlock:j,handleInsertBlockAfter:E,handleReplaceBlock:L}}function Im({blocks:t,actions:l}){const[i,a]=x.useState(null),c=x.useCallback(m=>{a(m.active.id),fe.doAction(ve.ACTION_DRAG_START,m)},[]),d=x.useCallback(m=>{const{active:g,over:y}=m;if(a(null),fe.doAction(ve.ACTION_DRAG_END,m),!y)return;const b=y.id,v=y.data.current;if(g.data.current?.type==="palette"){const j=g.data.current.blockType;if(j==="columns"&&v?.type==="column")return;const E=Xe.createInstance(j);if(!E)return;if(v?.type==="column"){const{parentId:L,columnIndex:S}=v;l.addNestedBlock(L,S,E);return}if(b==="canvas")l.addBlock(E);else if(b.toString().startsWith("dropzone-")){const L=parseInt(b.toString().replace("dropzone-",""),10);l.addBlock(E,L)}else{const L=t.findIndex(S=>S.id===b);L!==-1?l.addBlock(E,L):l.addBlock(E)}fe.doAction(ve.ACTION_DROP,E,m);return}if(g.data.current?.type==="nested"){const{parentId:j,columnIndex:E}=g.data.current;if(g.id!==y.id&&v?.type==="nested"){const{parentId:L,columnIndex:S}=v;if(j===L&&E===S){const C=t.find(T=>T.id===j)?.props?.children?.[E]||[],k=C.findIndex(T=>T.id===g.id),$=C.findIndex(T=>T.id===y.id);k!==-1&&$!==-1&&l.moveNestedBlock(j,E,k,E,$);return}}v?.type}if(g.id!==y.id){const j=t.findIndex(L=>L.id===g.id),E=t.findIndex(L=>L.id===y.id);j!==-1&&E!==-1&&l.moveBlock(j,E)}},[t,l]),p=x.useCallback(m=>{const g=cg(m);if(g.length>0){const y=g.find(v=>v.data?.droppableContainer?.data?.current?.type==="nested");if(y)return[y];const b=g.find(v=>v.id.toString().startsWith("column-"));return b?[b]:[g[0]]}return lg(m)},[]);return{activeId:i,handleDragStart:c,handleDragEnd:d,customCollisionDetection:p}}let rl={};function Am(t=null){t?rl=t:typeof window<"u"&&(rl=window.__translations||window.LaraBuilderTranslations||{})}function Rf(t){return rl[t]??t}function Qa(t,l){return typeof t!="string"||Object.keys(l).length===0||Object.entries(l).forEach(([i,a])=>{t=t.replace(new RegExp(`:${i}`,"gi"),String(a))}),t}function f(t,l={}){const i=Rf(t);return Qa(i,l)}function _m(t,l,i,a={}){const d=Rf(i===1?t:l);return Qa(d,{count:i,...a})}function Bm(t,l,i={}){const a=`${t}|${l}`,c=rl[a]??rl[t]??t;return Qa(c,i)}function Dm(t,...l){if(typeof t!="string")return t;let i=0;return t.replace(/%(%|s|d|f|\.\d+f)/g,a=>{if(a==="%%")return"%";const c=l[i++];if(c===void 0)return a;if(a==="%s")return String(c);if(a==="%d")return parseInt(c,10).toString();if(a==="%f")return parseFloat(c).toString();const d=a.match(/^%\.(\d+)f$/);return d?parseFloat(c).toFixed(parseInt(d[1],10)):a})}typeof window<"u"&&(Am(),window.__=window.__||f,window._n=window._n||_m,window._x=window._x||Bm,window.sprintf=window.sprintf||Dm);function Lf(t,l,i){const a=t.slice();return a.splice(i<0?a.length+i:i,0,a.splice(l,1)[0]),a}function Pm(t,l){return t.reduce((i,a,c)=>{const d=l.get(a);return d&&(i[c]=d),i},Array(t.length))}function xi(t){return t!==null&&t>=0}function Mm(t,l){if(t===l)return!0;if(t.length!==l.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==l[i])return!1;return!0}function Om(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const If=t=>{let{rects:l,activeIndex:i,overIndex:a,index:c}=t;const d=Lf(l,a,i),p=l[c],m=d[c];return!m||!p?null:{x:m.left-p.left,y:m.top-p.top,scaleX:m.width/p.width,scaleY:m.height/p.height}},yi={scaleX:1,scaleY:1},Af=t=>{var l;let{activeIndex:i,activeNodeRect:a,index:c,rects:d,overIndex:p}=t;const m=(l=d[i])!=null?l:a;if(!m)return null;if(c===i){const y=d[p];return y?{x:0,y:i<p?y.top+y.height-(m.top+m.height):y.top-m.top,...yi}:null}const g=zm(d,c,i);return c>i&&c<=p?{x:0,y:-m.height-g,...yi}:c<i&&c>=p?{x:0,y:m.height+g,...yi}:{x:0,y:0,...yi}};function zm(t,l,i){const a=t[l],c=t[l-1],d=t[l+1];return a?i<l?c?a.top-(c.top+c.height):d?d.top-(a.top+a.height):0:d?d.top-(a.top+a.height):c?a.top-(c.top+c.height):0:0}const _f="Sortable",Bf=Me.createContext({activeIndex:-1,containerId:_f,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:If,disabled:{draggable:!1,droppable:!1}});function Df(t){let{children:l,id:i,items:a,strategy:c=If,disabled:d=!1}=t;const{active:p,dragOverlay:m,droppableRects:g,over:y,measureDroppableContainers:b}=Sf(),v=sl(_f,i),j=m.rect!==null,E=x.useMemo(()=>a.map(F=>typeof F=="object"&&"id"in F?F.id:F),[a]),L=p!=null,S=p?E.indexOf(p.id):-1,C=y?E.indexOf(y.id):-1,k=x.useRef(E),$=!Mm(E,k.current),T=C!==-1&&S===-1||$,R=Om(d);hn(()=>{$&&L&&b(E)},[$,E,L,b]),x.useEffect(()=>{k.current=E},[E]);const O=x.useMemo(()=>({activeIndex:S,containerId:v,disabled:R,disableTransforms:T,items:E,overIndex:C,useDragOverlay:j,sortedRects:Pm(E,g),strategy:c}),[S,v,R.draggable,R.droppable,T,E,C,g,j,c]);return Me.createElement(Bf.Provider,{value:O},l)}const Hm=t=>{let{id:l,items:i,activeIndex:a,overIndex:c}=t;return Lf(i,a,c).indexOf(l)},Fm=t=>{let{containerId:l,isSorting:i,wasDragging:a,index:c,items:d,newIndex:p,previousItems:m,previousContainerId:g,transition:y}=t;return!y||!a||m!==d&&c===p?!1:i?!0:p!==c&&l===g},Wm={duration:200,easing:"ease"},Pf="transform",Um=zn.Transition.toString({property:Pf,duration:0,easing:"linear"}),Vm={roleDescription:"sortable"};function Km(t){let{disabled:l,index:i,node:a,rect:c}=t;const[d,p]=x.useState(null),m=x.useRef(i);return hn(()=>{if(!l&&i!==m.current&&a.current){const g=c.current;if(g){const y=ho(a.current,{ignoreTransform:!0}),b={x:g.left-y.left,y:g.top-y.top,scaleX:g.width/y.width,scaleY:g.height/y.height};(b.x||b.y)&&p(b)}}i!==m.current&&(m.current=i)},[l,i,a,c]),x.useEffect(()=>{d&&p(null)},[d]),d}function Mf(t){let{animateLayoutChanges:l=Fm,attributes:i,disabled:a,data:c,getNewIndex:d=Hm,id:p,strategy:m,resizeObserverConfig:g,transition:y=Wm}=t;const{items:b,containerId:v,activeIndex:j,disabled:E,disableTransforms:L,sortedRects:S,overIndex:C,useDragOverlay:k,strategy:$}=x.useContext(Bf),T=Gm(a,E),R=b.indexOf(p),O=x.useMemo(()=>({sortable:{containerId:v,index:R,items:b},...c}),[v,c,R,b]),F=x.useMemo(()=>b.slice(b.indexOf(p)),[b,p]),{rect:z,node:W,isOver:Y,setNodeRef:K}=Oi({id:p,data:O,disabled:T.droppable,resizeObserverConfig:{updateMeasurementsFor:F,...g}}),{active:G,activatorEvent:M,activeNodeRect:Z,attributes:te,setNodeRef:se,listeners:me,isDragging:de,over:U,setActivatorNodeRef:ee,transform:V}=Cf({id:p,data:O,attributes:{...Vm,...i},disabled:T.draggable}),A=Oh(K,se),H=!!G,oe=H&&!L&&xi(j)&&xi(C),ne=!k&&de,pe=ne&&oe?V:null,ke=oe?pe??(m??$)({rects:S,activeNodeRect:Z,activeIndex:j,overIndex:C,index:R}):null,ye=xi(j)&&xi(C)?d({id:p,items:b,activeIndex:j,overIndex:C}):R,Ce=G?.id,Se=x.useRef({activeId:Ce,items:b,newIndex:ye,containerId:v}),kt=b!==Se.current.items,ze=l({active:G,containerId:v,isDragging:de,isSorting:H,id:p,index:R,items:b,newIndex:Se.current.newIndex,previousItems:Se.current.items,previousContainerId:Se.current.containerId,transition:y,wasDragging:Se.current.activeId!=null}),pt=Km({disabled:!ze,index:R,node:W,rect:z});return x.useEffect(()=>{H&&Se.current.newIndex!==ye&&(Se.current.newIndex=ye),v!==Se.current.containerId&&(Se.current.containerId=v),b!==Se.current.items&&(Se.current.items=b)},[H,ye,v,b]),x.useEffect(()=>{if(Ce===Se.current.activeId)return;if(Ce!=null&&Se.current.activeId==null){Se.current.activeId=Ce;return}const ht=setTimeout(()=>{Se.current.activeId=Ce},50);return()=>clearTimeout(ht)},[Ce]),{active:G,activeIndex:j,attributes:te,data:O,rect:z,index:R,newIndex:ye,items:b,isOver:Y,isSorting:H,isDragging:de,listeners:me,node:W,overIndex:C,over:U,setNodeRef:A,setActivatorNodeRef:ee,setDroppableNodeRef:K,setDraggableNodeRef:se,transform:pt??ke,transition:je()};function je(){if(pt||kt&&Se.current.newIndex===R)return Um;if(!(ne&&!Di(M)||!y)&&(H||ze))return zn.Transition.toString({...y,property:Pf})}}function Gm(t,l){var i,a;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(i=t?.draggable)!=null?i:l.draggable,droppable:(a=t?.droppable)!=null?a:l.droppable}}Re.Down,Re.Right,Re.Up,Re.Left;const Xm={margin:{top:"",right:"",bottom:"",left:""},padding:{top:"",right:"",bottom:"",left:""},width:"",minWidth:"",maxWidth:"",height:"",minHeight:"",maxHeight:""},Ym={align:!0,spacing:!0,colors:!0,nesting:!1,html:!0,duplicate:!0,remove:!0,layout:!0};function Qm(t){if(!t.type)throw new Error("[createBlock] Block type is required");if(!t.label)throw new Error(`[createBlock] Block label is required for type: ${t.type}`);if(!t.block)throw new Error(`[createBlock] Block component is required for type: ${t.type}`);const l={...Ym,...t.supports},i={...t.defaultProps,layoutStyles:{...Xm,...t.defaultProps?.layoutStyles}};return{type:t.type,label:t.label,category:t.category||"Content",icon:t.icon||"lucide:box",description:t.description||"",keywords:t.keywords||[],contexts:t.contexts||["*"],supports:l,fields:t.fields||[],defaultProps:i,block:t.block,editor:t.editor||null,save:t.save||{},validate:t.validate||(()=>!0),transform:t.transform||null}}function Ye(t,l={}){return Qm({...t,...l})}class qm{constructor(){this.modalId="laraBuilderMediaModal",this.callbackName="handleLaraBuilderMediaSelection",this.pendingResolve=null,this.pendingReject=null,this.isInitialized=!1}initialize(){this.isInitialized||(window[this.callbackName]=l=>{this.pendingResolve&&(this.pendingResolve(l),this.pendingResolve=null,this.pendingReject=null)},document.addEventListener("keydown",l=>{l.key==="Escape"&&this.pendingReject&&(this.pendingReject(new Error("Selection cancelled")),this.pendingResolve=null,this.pendingReject=null)}),this.isInitialized=!0)}open(l={}){this.initialize();const{multiple:i=!1,allowedTypes:a="images",onSelect:c=null,onCancel:d=null}=l;return new Promise((p,m)=>{if(this.pendingResolve=g=>{c&&c(g),p(g)},this.pendingReject=g=>{d&&d(),m(g)},typeof window.openMediaModal=="function")document.getElementById(this.modalId)||console.warn(`[MediaLibrary] Modal element #${this.modalId} not found in DOM`),window.openMediaModal(this.modalId,i,a,this.callbackName);else{const g=new Error("Media modal not available. Ensure x-media-modal component is included in your Blade template.");console.error("[MediaLibrary]",g.message),this.pendingReject(g)}})}async selectImage(){try{return(await this.open({multiple:!1,allowedTypes:"images"}))[0]||null}catch(l){return console.error("[MediaLibrary] selectImage error:",l),null}}async selectImages(){try{return await this.open({multiple:!0,allowedTypes:"images"})}catch{return[]}}async selectVideo(){try{return(await this.open({multiple:!1,allowedTypes:"videos"}))[0]||null}catch{return null}}async selectFiles(l=!1){try{return await this.open({multiple:l,allowedTypes:"all"})}catch{return l?[]:null}}}const ol=new qm,Jm=({title:t,children:l})=>o.jsxs("div",{className:"pb-4 border-b border-gray-200 dark:border-gray-700 last:border-b-0 last:pb-0",children:[o.jsx("h4",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-3",children:f(t)}),l]}),Zm=({children:t,htmlFor:l})=>o.jsx("label",{htmlFor:l,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:typeof t=="string"?f(t):t}),ex=({value:t,onChange:l,id:i})=>o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"color",id:i,value:t||"#000000",onChange:a=>l(a.target.value),className:"w-12 h-9 rounded border border-gray-300 dark:border-gray-600 cursor-pointer"}),o.jsx("input",{type:"text",value:t||"",onChange:a=>l(a.target.value),placeholder:"#000000",className:"form-control flex-1 font-mono text-sm"})]}),tx=({value:t,onChange:l,min:i=0,max:a=100,step:c=1,id:d,showValue:p=!0})=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"range",id:d,value:t||i,onChange:m=>l(parseFloat(m.target.value)),min:i,max:a,step:c,className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"}),p&&o.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 min-w-[3rem] text-right",children:t||i})]}),nx=({type:t,name:l,label:i,value:a,onChange:c,options:d=[],placeholder:p,min:m,max:g,step:y,rows:b=3,help:v,required:j=!1,showLabel:E=!0,className:L=""})=>{const S=`field-${l}`,C=p?f(p):void 0,k=()=>{switch(t){case"text":return o.jsx("input",{type:"text",id:S,value:a||"",onChange:R=>c(R.target.value),placeholder:C,required:j,className:"form-control"});case"textarea":return o.jsx("textarea",{id:S,value:a||"",onChange:R=>c(R.target.value),placeholder:C,rows:b,required:j,className:"form-control"});case"number":return o.jsx("input",{type:"number",id:S,value:a??"",onChange:R=>c(R.target.value?parseFloat(R.target.value):""),placeholder:C,min:m,max:g,step:y,required:j,className:"form-control"});case"url":return o.jsx("input",{type:"url",id:S,value:a||"",onChange:R=>c(R.target.value),placeholder:C||"https://...",required:j,className:"form-control"});case"email":return o.jsx("input",{type:"email",id:S,value:a||"",onChange:R=>c(R.target.value),placeholder:C,required:j,className:"form-control"});case"select":return o.jsx("select",{id:S,value:a||"",onChange:R=>c(R.target.value),required:j,className:"form-control",children:d.map(R=>o.jsx("option",{value:R.value,children:f(R.label)},R.value))});case"color":return o.jsx(ex,{value:a,onChange:c,id:S});case"checkbox":return o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",id:S,checked:a||!1,onChange:R=>c(R.target.checked),className:"rounded border-gray-300 dark:border-gray-600 text-primary focus:ring-primary"}),o.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:f(i)})]});case"toggle":return o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",id:S,checked:a||!1,onChange:R=>c(R.target.checked),className:"sr-only peer"}),o.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"}),o.jsx("span",{className:"ml-3 text-sm text-gray-700 dark:text-gray-300",children:f(i)})]});case"range":return o.jsx(tx,{value:a,onChange:c,min:m,max:g,step:y,id:S});case"image":const T=async()=>{try{const R=await ol.selectImage();R&&c(R.url)}catch{}};return o.jsxs("div",{className:"space-y-2",children:[a?o.jsxs("div",{className:"relative group",children:[o.jsx("img",{src:a,alt:"",className:"w-full h-32 object-contain rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800"}),o.jsx("button",{type:"button",onClick:()=>c(""),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",title:f("Remove"),children:o.jsx("iconify-icon",{icon:"mdi:close",width:"14",height:"14"})})]}):o.jsxs("div",{onClick:T,className:"flex flex-col items-center justify-center p-6 bg-gray-50 dark:bg-gray-800 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:border-primary hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[o.jsx("iconify-icon",{icon:"mdi:image-plus",className:"text-3xl text-gray-400 mb-2"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:f("Click to select image")})]}),a&&o.jsxs("button",{type:"button",onClick:T,className:"btn btn-default w-full flex items-center justify-center gap-2",children:[o.jsx("iconify-icon",{icon:"mdi:image-edit",width:"16",height:"16"}),f("Change Image")]}),o.jsxs("details",{className:"mt-2",children:[o.jsx("summary",{className:"text-xs text-gray-500 dark:text-gray-400 cursor-pointer hover:text-gray-700 dark:hover:text-gray-300",children:f("Or enter URL manually")}),o.jsx("input",{type:"url",value:a||"",onChange:R=>c(R.target.value),placeholder:"https://...",className:"form-control mt-2"})]})]});case"align":return o.jsx("div",{className:"flex gap-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:["left","center","right","justify"].map(R=>o.jsx("button",{type:"button",onClick:()=>c(R),className:`flex-1 p-2 rounded-md transition-colors ${a===R?"bg-white dark:bg-gray-700 shadow-sm text-primary":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,title:f(R.charAt(0).toUpperCase()+R.slice(1)),children:o.jsx("iconify-icon",{icon:`mdi:format-align-${R}`,width:"18",height:"18",className:"mx-auto"})},R))});case"date":return o.jsx("input",{type:"date",id:S,value:a||"",onChange:R=>c(R.target.value),required:j,className:"form-control"});case"time":return o.jsx("input",{type:"time",id:S,value:a||"23:59",onChange:R=>c(R.target.value),required:j,className:"form-control"});case"info":return o.jsxs("div",{className:"flex items-start gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md",children:[o.jsx("iconify-icon",{icon:"mdi:information",width:"18",height:"18",class:"text-blue-500 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:f(a||"")})]});default:return console.warn(`[EditorField] Unknown field type: ${t}`),o.jsx("input",{type:"text",id:S,value:a||"",onChange:R=>c(R.target.value),className:"form-control"})}},$=t==="checkbox"||t==="toggle";return o.jsxs("div",{className:`mb-3 last:mb-0 ${L}`,children:[E&&i&&!$&&o.jsx(Zm,{htmlFor:S,children:i}),k(),v&&o.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:f(v)})]})},rx=(t,l)=>l.includes(".")?l.split(".").reduce((i,a)=>i?.[a],t):t?.[l],Ud=(t,l,i)=>{if(!l.includes("."))return{...t,[l]:i};const a=l.split("."),c={...t};let d=c;for(let p=0;p<a.length-1;p++){const m=a[p];d[m]={...d[m]},d=d[m]}return d[a[a.length-1]]=i,c},ox=({fields:t=[],blockProps:l,onUpdate:i})=>{const a=(d,p,m)=>{let g=Ud(l,d,p);m?.linkedFields&&Object.entries(m.linkedFields).forEach(([y,b])=>{const v=typeof b=="function"?b(p):b;g=Ud(g,y,v)}),i(g)},c=t.reduce((d,p)=>{const m=p.section||"Content";return d[m]||(d[m]=[]),d[m].push(p),d},{});return o.jsx("div",{className:"space-y-4",children:Object.entries(c).map(([d,p])=>o.jsx(Jm,{title:d,children:p.map(m=>o.jsx(nx,{type:m.type,name:m.name,label:m.label,value:rx(l,m.name),onChange:g=>a(m.name,g,m),options:m.options,placeholder:m.placeholder,min:m.min,max:m.max,step:m.step,rows:m.rows,help:m.help,required:m.required},m.name))},d))})},lx=[{value:"",label:"Auto"},{value:"100%",label:"100%"},{value:"75%",label:"75%"},{value:"50%",label:"50%"},{value:"25%",label:"25%"},{value:"100px",label:"100px"},{value:"150px",label:"150px"},{value:"200px",label:"200px"},{value:"250px",label:"250px"},{value:"300px",label:"300px"},{value:"400px",label:"400px"},{value:"500px",label:"500px"}],ix=[{value:"cover",label:"Cover"},{value:"contain",label:"Contain"},{value:"auto",label:"Auto"},{value:"100% 100%",label:"100%"}],sx=[{value:"center",label:"Center"},{value:"top",label:"Top"},{value:"bottom",label:"Bottom"},{value:"left",label:"Left"},{value:"right",label:"Right"},{value:"top left",label:"Top Left"},{value:"top right",label:"Top Right"},{value:"bottom left",label:"Bottom Left"},{value:"bottom right",label:"Bottom Right"}],ax=[{value:"no-repeat",label:"No Repeat"},{value:"repeat",label:"Repeat"},{value:"repeat-x",label:"Repeat X"},{value:"repeat-y",label:"Repeat Y"}],cx=[{value:"",label:"Inherit"},{value:"Arial, sans-serif",label:"Arial"},{value:"Helvetica, Arial, sans-serif",label:"Helvetica"},{value:"Georgia, serif",label:"Georgia"},{value:"'Times New Roman', Times, serif",label:"Times New Roman"},{value:"Verdana, Geneva, sans-serif",label:"Verdana"},{value:"'Trebuchet MS', sans-serif",label:"Trebuchet MS"},{value:"'Courier New', Courier, monospace",label:"Courier New"},{value:"system-ui, -apple-system, sans-serif",label:"System UI"}],Vd=[{value:"",label:"Inherit"},{value:"10px",label:"10px"},{value:"12px",label:"12px"},{value:"14px",label:"14px"},{value:"16px",label:"16px"},{value:"18px",label:"18px"},{value:"20px",label:"20px"},{value:"24px",label:"24px"},{value:"28px",label:"28px"},{value:"32px",label:"32px"},{value:"36px",label:"36px"},{value:"48px",label:"48px"},{value:"64px",label:"64px"}],ux=[{value:"",label:"Inherit"},{value:"100",label:"Thin (100)"},{value:"200",label:"Extra Light (200)"},{value:"300",label:"Light (300)"},{value:"400",label:"Normal (400)"},{value:"500",label:"Medium (500)"},{value:"600",label:"Semi Bold (600)"},{value:"700",label:"Bold (700)"},{value:"800",label:"Extra Bold (800)"},{value:"900",label:"Black (900)"}],dx=[{value:"",label:"Inherit"},{value:"normal",label:"Normal"},{value:"italic",label:"Italic"},{value:"oblique",label:"Oblique"}],Kd=[{value:"",label:"Inherit"},{value:"1",label:"1"},{value:"1.2",label:"1.2"},{value:"1.4",label:"1.4"},{value:"1.5",label:"1.5"},{value:"1.6",label:"1.6"},{value:"1.8",label:"1.8"},{value:"2",label:"2"}],Gd=[{value:"",label:"Inherit"},{value:"-1px",label:"-1px"},{value:"-0.5px",label:"-0.5px"},{value:"0",label:"0"},{value:"0.5px",label:"0.5px"},{value:"1px",label:"1px"},{value:"2px",label:"2px"},{value:"3px",label:"3px"}],fx=[{value:"",label:"Inherit",icon:"Aa"},{value:"uppercase",label:"Uppercase",icon:"AA"},{value:"lowercase",label:"Lowercase",icon:"aa"},{value:"capitalize",label:"Capitalize",icon:"Aa"},{value:"none",label:"None",icon:"x"}],px=[{value:"",label:"Inherit",icon:"mdi:format-text"},{value:"underline",label:"Underline",icon:"mdi:format-underline"},{value:"overline",label:"Overline",icon:"mdi:format-overline"},{value:"line-through",label:"Strikethrough",icon:"mdi:format-strikethrough"},{value:"none",label:"None",icon:"mdi:close"}],hx=({background:t={},onChange:l,onImageUpload:i})=>{const[a,c]=x.useState(!1),d=y=>{l({...t,color:y})},p=y=>{l({...t,image:y})},m=async()=>{c(!0);try{const y=await ol.selectImage();y?.url&&p(y.url)}catch(y){console.error("Failed to select image:",y)}finally{c(!1)}},g=()=>{l({...t,image:"",size:"",position:"",repeat:""})};return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Background color")}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"color",value:t.color||"#ffffff",onChange:y=>d(y.target.value),className:"h-8 w-10 border border-gray-200 rounded cursor-pointer bg-gray-100"}),o.jsx("input",{type:"text",value:t.color||"",onChange:y=>d(y.target.value),placeholder:"transparent",className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),t.color&&o.jsx("button",{type:"button",onClick:()=>d(""),className:"p-1.5 text-gray-400 hover:text-gray-600 rounded transition-colors",title:f("Clear"),children:o.jsx("iconify-icon",{icon:"mdi:close",width:"14",height:"14"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Background image")}),t.image&&o.jsxs("div",{className:"mb-2 relative",children:[o.jsx("img",{src:t.image,alt:"Background preview",className:"w-full h-16 object-cover rounded border border-gray-200"}),o.jsx("button",{type:"button",onClick:g,className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",title:f("Remove image"),children:o.jsx("iconify-icon",{icon:"mdi:close",width:"12",height:"12"})})]}),o.jsx("button",{type:"button",onClick:m,disabled:a,className:"w-full border-2 border-dashed border-gray-200 rounded-lg p-3 text-center hover:border-primary/50 hover:bg-primary/5 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-500",children:a?o.jsxs(o.Fragment,{children:[o.jsx("iconify-icon",{icon:"mdi:loading",width:"16",height:"16",class:"animate-spin"}),o.jsx("span",{children:f("Selecting...")})]}):o.jsxs(o.Fragment,{children:[o.jsx("iconify-icon",{icon:"mdi:image-plus",width:"16",height:"16",class:"text-primary"}),o.jsx("span",{className:"font-medium",children:f("Select from Media Library")})]})})}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("span",{className:"text-xs text-gray-400",children:f("or")}),o.jsx("input",{type:"text",value:t.image||"",onChange:y=>p(y.target.value),placeholder:"Enter image URL...",className:"flex-1 px-2 py-1.5 text-xs bg-gray-50 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"})]})]}),t.image&&o.jsxs("div",{className:"space-y-2 pt-2 border-t border-gray-100",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Size")}),o.jsx("select",{value:t.size||"cover",onChange:y=>l({...t,size:y.target.value}),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:ix.map(y=>o.jsx("option",{value:y.value,children:y.label},y.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Position")}),o.jsx("select",{value:t.position||"center",onChange:y=>l({...t,position:y.target.value}),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:sx.map(y=>o.jsx("option",{value:y.value,children:y.label},y.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Repeat")}),o.jsx("select",{value:t.repeat||"no-repeat",onChange:y=>l({...t,repeat:y.target.value}),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:ax.map(y=>o.jsx("option",{value:y.value,children:y.label},y.value))})]})]})]})},gx=({typography:t={},onChange:l})=>{const i=(a,c)=>{l({...t,[a]:c})};return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Color")}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"color",value:t.color||"#000000",onChange:a=>i("color",a.target.value),className:"h-8 w-10 border border-gray-200 rounded cursor-pointer bg-gray-100"}),o.jsx("input",{type:"text",value:t.color||"",onChange:a=>i("color",a.target.value),placeholder:"inherit",className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),t.color&&o.jsx("button",{type:"button",onClick:()=>i("color",""),className:"p-1.5 text-gray-400 hover:text-gray-600 rounded transition-colors",title:f("Clear"),children:o.jsx("iconify-icon",{icon:"mdi:close",width:"14",height:"14"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Font size")}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{value:Vd.some(a=>a.value===t.fontSize)?t.fontSize:"custom",onChange:a=>{a.target.value!=="custom"&&i("fontSize",a.target.value)},className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:[Vd.map(a=>o.jsx("option",{value:a.value,children:a.label},a.value)),o.jsx("option",{value:"custom",children:f("Custom")})]}),o.jsx("input",{type:"text",value:t.fontSize||"",onChange:a=>i("fontSize",a.target.value),placeholder:"e.g., 16px",className:"w-20 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Text align")}),o.jsx("div",{className:"flex gap-1",children:[{value:"left",icon:"mdi:format-align-left"},{value:"center",icon:"mdi:format-align-center"},{value:"right",icon:"mdi:format-align-right"},{value:"justify",icon:"mdi:format-align-justify"}].map(({value:a,icon:c})=>o.jsx("button",{type:"button",onClick:()=>i("textAlign",a),className:`flex-1 p-2 rounded transition-colors ${t.textAlign===a?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:a.charAt(0).toUpperCase()+a.slice(1),children:o.jsx("iconify-icon",{icon:c,width:"16",height:"16"})},a))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Text transform")}),o.jsx("div",{className:"flex gap-1",children:fx.slice(0,4).map(({value:a,label:c,icon:d})=>o.jsx("button",{type:"button",onClick:()=>i("textTransform",a),className:`flex-1 p-2 rounded text-xs font-medium transition-colors ${(t.textTransform||"")===a?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:c,children:d},a||"inherit"))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Font family")}),o.jsx("select",{value:t.fontFamily||"",onChange:a=>i("fontFamily",a.target.value),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:cx.map(a=>o.jsx("option",{value:a.value,children:a.label},a.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Font weight")}),o.jsx("select",{value:t.fontWeight||"",onChange:a=>i("fontWeight",a.target.value),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:ux.map(a=>o.jsx("option",{value:a.value,children:a.label},a.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Font style")}),o.jsx("select",{value:t.fontStyle||"",onChange:a=>i("fontStyle",a.target.value),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:dx.map(a=>o.jsx("option",{value:a.value,children:a.label},a.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Line height")}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{value:Kd.some(a=>a.value===t.lineHeight)?t.lineHeight:"custom",onChange:a=>{a.target.value!=="custom"&&i("lineHeight",a.target.value)},className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:[Kd.map(a=>o.jsx("option",{value:a.value,children:a.label},a.value)),o.jsx("option",{value:"custom",children:f("Custom")})]}),o.jsx("input",{type:"text",value:t.lineHeight||"",onChange:a=>i("lineHeight",a.target.value),placeholder:"-",className:"w-16 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Letter spacing")}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{value:Gd.some(a=>a.value===t.letterSpacing)?t.letterSpacing:"custom",onChange:a=>{a.target.value!=="custom"&&i("letterSpacing",a.target.value)},className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:[Gd.map(a=>o.jsx("option",{value:a.value,children:a.label},a.value)),o.jsx("option",{value:"custom",children:f("Custom")})]}),o.jsx("input",{type:"text",value:t.letterSpacing||"",onChange:a=>i("letterSpacing",a.target.value),placeholder:"-",className:"w-16 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Text decoration")}),o.jsx("div",{className:"flex gap-1",children:px.slice(0,4).map(({value:a,label:c,icon:d})=>o.jsx("button",{type:"button",onClick:()=>i("textDecoration",a),className:`flex-1 p-2 rounded transition-colors ${(t.textDecoration||"")===a?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:c,children:o.jsx("iconify-icon",{icon:d,width:"16",height:"16"})},a||"inherit"))})]})]})},vi=({value:t,onChange:l,placeholder:i=""})=>o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",value:t||"",onChange:a=>l(a.target.value),placeholder:i,className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary"}),o.jsx("div",{className:"absolute right-1 top-1/2 -translate-y-1/2",children:o.jsx("iconify-icon",{icon:"mdi:shield-outline",width:"14",height:"14",class:"text-gray-400"})})]}),Xd=({label:t,values:l,onChange:i,linkSides:a,onToggleLink:c})=>{const{top:d="",right:p="",bottom:m="",left:g=""}=l||{},y=(b,v)=>{i(a?{top:v,right:v,bottom:v,left:v}:{...l,[b]:v})};return o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-xs font-medium text-gray-600",children:t}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:c,className:`p-1 rounded transition-colors ${a?"text-primary bg-primary/20":"text-gray-400 hover:text-gray-600"}`,title:f(a?"Unlink sides":"Link all sides"),children:o.jsx("iconify-icon",{icon:a?"mdi:link":"mdi:link-off",width:"14",height:"14"})}),o.jsx("button",{type:"button",onClick:()=>i({top:"",right:"",bottom:"",left:""}),className:"p-1 text-gray-400 hover:text-gray-600 rounded transition-colors",title:f("Reset"),children:o.jsx("iconify-icon",{icon:"mdi:refresh",width:"14",height:"14"})})]})]}),o.jsxs("div",{className:"relative bg-gray-100 rounded-lg p-3",children:[o.jsx("div",{className:"flex justify-center mb-2",children:o.jsx(vi,{value:d,onChange:b=>y("top",b),placeholder:"0"})}),o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("div",{className:"w-20",children:o.jsx(vi,{value:g,onChange:b=>y("left",b),placeholder:"0"})}),o.jsx("div",{className:"flex-1 h-12 bg-gray-200 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-500",children:f("Content")})}),o.jsx("div",{className:"w-20",children:o.jsx(vi,{value:p,onChange:b=>y("right",b),placeholder:"0"})})]}),o.jsx("div",{className:"flex justify-center mt-2",children:o.jsx(vi,{value:m,onChange:b=>y("bottom",b),placeholder:"0"})})]})]})},mx=({margin:t,padding:l,onMarginChange:i,onPaddingChange:a})=>{const[c,d]=x.useState(!1),[p,m]=x.useState(!1);return o.jsxs("div",{children:[o.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:f("Spacing")}),o.jsx(Xd,{label:f("Margin"),values:t||{},onChange:i,linkSides:c,onToggleLink:()=>d(!c)}),o.jsx(Xd,{label:f("Padding"),values:l||{},onChange:a,linkSides:p,onToggleLink:()=>m(!p)})]})},ao=({label:t,value:l,onChange:i,presets:a=lx})=>{const[c,d]=x.useState(l&&!a.some(p=>p.value===l));return o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:t}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{value:c?"custom":l||"",onChange:p=>{p.target.value==="custom"?d(!0):(d(!1),i(p.target.value))},className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:[a.map(p=>o.jsx("option",{value:p.value,children:p.label},p.value)),o.jsx("option",{value:"custom",children:f("Custom")})]}),c&&o.jsx("input",{type:"text",value:l||"",onChange:p=>i(p.target.value),placeholder:"e.g., 200px",className:"w-24 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),o.jsx("div",{className:"flex items-center",children:o.jsx("iconify-icon",{icon:"mdi:shield-outline",width:"14",height:"14",class:"text-gray-400"})})]})]})},xx=({layoutStyles:t={},onChange:l})=>{const i=(a,c)=>{l(a,c)};return o.jsxs("div",{children:[o.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:f("Sizing")}),o.jsx(ao,{label:f("Width"),value:t.width||"",onChange:a=>i("width",a)}),o.jsx(ao,{label:f("Min. width"),value:t.minWidth||"",onChange:a=>i("minWidth",a)}),o.jsx(ao,{label:f("Max. width"),value:t.maxWidth||"",onChange:a=>i("maxWidth",a)}),o.jsx(ao,{label:f("Height"),value:t.height||"",onChange:a=>i("height",a)}),o.jsx(ao,{label:f("Min. height"),value:t.minHeight||"",onChange:a=>i("minHeight",a)}),o.jsx(ao,{label:f("Max. height"),value:t.maxHeight||"",onChange:a=>i("maxHeight",a)})]})},yx=[{value:"",label:f("Default")},{value:"none",label:f("None")},{value:"solid",label:f("Solid")},{value:"dashed",label:f("Dashed")},{value:"dotted",label:f("Dotted")},{value:"double",label:f("Double")}],bi=({value:t,onChange:l,placeholder:i="0"})=>o.jsxs("div",{className:"relative flex-1",children:[o.jsx("input",{type:"text",value:t||"",onChange:a=>l(a.target.value),placeholder:i,className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),o.jsx("div",{className:"absolute right-1 top-1/2 -translate-y-1/2",children:o.jsx("iconify-icon",{icon:"mdi:shield-outline",width:"12",height:"12",class:"text-gray-400"})})]}),wi=({label:t,value:l,onChange:i})=>o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1 uppercase",children:t}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",value:l||"",onChange:a=>i(a.target.value),placeholder:"0",className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),o.jsx("div",{className:"absolute right-1 top-1/2 -translate-y-1/2",children:o.jsx("iconify-icon",{icon:"mdi:shield-outline",width:"12",height:"12",class:"text-gray-400"})})]})]}),vx=({border:t={},onChange:l})=>{const[i,a]=x.useState(!1),[c,d]=x.useState(!0),[p,m]=x.useState(!0),{width:g={},style:y="",color:b="",radius:v={}}=t,j=(k,$)=>{l(c?{...t,width:{top:$,right:$,bottom:$,left:$}}:{...t,width:{...g,[k]:$}})},E=(k,$)=>{l(p?{...t,radius:{topLeft:$,topRight:$,bottomLeft:$,bottomRight:$}}:{...t,radius:{...v,[k]:$}})},L=k=>{l({...t,style:k})},S=k=>{l({...t,color:k})},C=g.top||g.right||g.bottom||g.left||y||b;return o.jsxs("div",{className:"mb-3",children:[o.jsxs("button",{type:"button",onClick:()=>a(!i),className:"flex items-center justify-between w-full text-left py-2 group",children:[o.jsx("span",{className:"text-xs font-medium text-gray-600",children:f("Border")}),o.jsxs("div",{className:"flex items-center gap-2",children:[C&&o.jsx("span",{className:"w-2 h-2 rounded-full bg-primary"}),o.jsx("iconify-icon",{icon:"mdi:pencil-outline",width:"16",height:"16",class:"text-gray-400 group-hover:text-gray-600"})]})]}),i&&o.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-xs font-medium text-gray-600",children:f("Width")}),o.jsx("button",{type:"button",onClick:()=>d(!c),className:`p-1 rounded transition-colors ${c?"text-primary bg-primary/20":"text-gray-400 hover:text-gray-600"}`,title:f(c?"Unlink sides":"Link all sides"),children:o.jsx("iconify-icon",{icon:c?"mdi:link":"mdi:link-off",width:"14",height:"14"})})]}),o.jsx("div",{className:"flex justify-center mb-2",children:o.jsx(bi,{value:g.top,onChange:k=>j("top",k)})}),o.jsxs("div",{className:"flex gap-2 mb-2",children:[o.jsx(bi,{value:g.left,onChange:k=>j("left",k)}),o.jsx(bi,{value:g.right,onChange:k=>j("right",k)})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(bi,{value:g.bottom,onChange:k=>j("bottom",k)})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Style")}),o.jsx("select",{value:y,onChange:k=>L(k.target.value),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:yx.map(k=>o.jsx("option",{value:k.value,children:k.label},k.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Color")}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"color",value:b||"#000000",onChange:k=>S(k.target.value),className:"h-8 w-10 border border-gray-200 rounded cursor-pointer"}),o.jsx("input",{type:"text",value:b,onChange:k=>S(k.target.value),placeholder:"#000000",className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),b&&o.jsx("button",{type:"button",onClick:()=>S(""),className:"p-1 text-gray-400 hover:text-gray-600",title:f("Clear"),children:o.jsx("iconify-icon",{icon:"mdi:close",width:"16",height:"16"})})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-xs font-medium text-gray-600",children:f("Radius")}),o.jsx("button",{type:"button",onClick:()=>m(!p),className:`p-1 rounded transition-colors ${p?"text-primary bg-primary/20":"text-gray-400 hover:text-gray-600"}`,title:f(p?"Unlink corners":"Link all corners"),children:o.jsx("iconify-icon",{icon:p?"mdi:link":"mdi:link-off",width:"14",height:"14"})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(wi,{label:f("Top Left"),value:v.topLeft,onChange:k=>E("topLeft",k)}),o.jsx(wi,{label:f("Top Right"),value:v.topRight,onChange:k=>E("topRight",k)}),o.jsx(wi,{label:f("Bottom Left"),value:v.bottomLeft,onChange:k=>E("bottomLeft",k)}),o.jsx(wi,{label:f("Bottom Right"),value:v.bottomRight,onChange:k=>E("bottomRight",k)})]})]}),C&&o.jsx("button",{type:"button",onClick:()=>l({}),className:"w-full px-3 py-1.5 text-xs text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:f("Reset Border")})]})]})},ki=({label:t,value:l,onChange:i,placeholder:a="0"})=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs text-gray-500 w-12 uppercase",children:t}),o.jsxs("div",{className:"relative flex-1",children:[o.jsx("input",{type:"text",value:l||"",onChange:c=>i(c.target.value),placeholder:a,className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),o.jsx("div",{className:"absolute right-1 top-1/2 -translate-y-1/2",children:o.jsx("iconify-icon",{icon:"mdi:shield-outline",width:"12",height:"12",class:"text-gray-400"})})]})]}),bx=({boxShadow:t={},onChange:l})=>{const[i,a]=x.useState(!1),{x:c="",y:d="",blur:p="",spread:m="",color:g="",inset:y=!1}=t,b=(j,E)=>{l({...t,[j]:E})},v=c||d||p||m||g;return o.jsxs("div",{className:"mb-3",children:[o.jsxs("button",{type:"button",onClick:()=>a(!i),className:"flex items-center justify-between w-full text-left py-2 group",children:[o.jsx("span",{className:"text-xs font-medium text-gray-600",children:f("Box shadow")}),o.jsxs("div",{className:"flex items-center gap-2",children:[v&&o.jsx("span",{className:"w-2 h-2 rounded-full bg-primary"}),o.jsx("iconify-icon",{icon:"mdi:pencil-outline",width:"16",height:"16",class:"text-gray-400 group-hover:text-gray-600"})]})]}),i&&o.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg space-y-3",children:[o.jsx("div",{className:"text-xs font-medium text-gray-600 mb-2",children:f("Box shadow")}),o.jsx(ki,{label:"X",value:c,onChange:j=>b("x",j),placeholder:"0px"}),o.jsx(ki,{label:"Y",value:d,onChange:j=>b("y",j),placeholder:"4px"}),o.jsx(ki,{label:f("Blur"),value:p,onChange:j=>b("blur",j),placeholder:"6px"}),o.jsx(ki,{label:f("Spread"),value:m,onChange:j=>b("spread",j),placeholder:"0px"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs text-gray-500 w-12",children:f("Color")}),o.jsxs("div",{className:"flex-1 flex gap-2",children:[o.jsx("input",{type:"color",value:g||"#000000",onChange:j=>b("color",j.target.value),className:"h-8 w-10 border border-gray-200 rounded cursor-pointer"}),o.jsx("input",{type:"text",value:g,onChange:j=>b("color",j.target.value),placeholder:"rgba(0,0,0,0.1)",className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-gray-500",children:f("Inset")}),o.jsx("button",{type:"button",onClick:()=>b("inset",!y),className:`relative w-10 h-5 rounded-full transition-colors ${y?"bg-primary":"bg-gray-300"}`,children:o.jsx("span",{className:`absolute top-0.5 w-4 h-4 bg-white rounded-full shadow transition-transform ${y?"translate-x-5":"translate-x-0.5"}`})})]}),v&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-2",children:f("Preview")}),o.jsx("div",{className:"w-full h-16 bg-white rounded-lg border border-gray-200",style:{boxShadow:`${y?"inset ":""}${c||"0px"} ${d||"4px"} ${p||"6px"} ${m||"0px"} ${g||"rgba(0,0,0,0.1)"}`}})]}),o.jsxs("div",{className:"pt-2",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-2",children:f("Quick presets")}),o.jsxs("div",{className:"flex flex-wrap gap-1",children:[o.jsx("button",{type:"button",onClick:()=>l({x:"0px",y:"1px",blur:"3px",spread:"0px",color:"rgba(0,0,0,0.1)",inset:!1}),className:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:f("Subtle")}),o.jsx("button",{type:"button",onClick:()=>l({x:"0px",y:"4px",blur:"6px",spread:"-1px",color:"rgba(0,0,0,0.1)",inset:!1}),className:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:f("Medium")}),o.jsx("button",{type:"button",onClick:()=>l({x:"0px",y:"10px",blur:"15px",spread:"-3px",color:"rgba(0,0,0,0.1)",inset:!1}),className:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:f("Large")}),o.jsx("button",{type:"button",onClick:()=>l({x:"0px",y:"25px",blur:"50px",spread:"-12px",color:"rgba(0,0,0,0.25)",inset:!1}),className:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:f("XL")})]})]}),v&&o.jsx("button",{type:"button",onClick:()=>l({}),className:"w-full px-3 py-1.5 text-xs text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:f("Reset Shadow")})]})]})},wx=({customCSS:t="",customClass:l="",onChange:i,onClassChange:a})=>{const[c,d]=x.useState(t),[p,m]=x.useState(l),g=x.useCallback(j=>{const E=j.target.value;d(E),i(E)},[i]),y=x.useCallback(j=>{const E=j.target.value;m(E),a?.(E)},[a]),b=[{label:f("Shadow"),css:"box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);"},{label:f("Rounded"),css:"border-radius: 12px;"},{label:f("Border"),css:"border: 2px solid #e5e7eb;"},{label:f("Opacity"),css:"opacity: 0.9;"}],v=j=>{const E=c?`${c}
${j}`:j;d(E),i(E)};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:f("Quick Add")}),o.jsx("div",{className:"flex flex-wrap gap-1.5",children:b.map(j=>o.jsx("button",{type:"button",onClick:()=>v(j.css),className:"px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:j.label},j.label))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1.5",children:f("CSS Properties")}),o.jsx("textarea",{value:c,onChange:g,placeholder:"e.g., box-shadow: 0 4px 6px rgba(0,0,0,0.1);",className:"w-full h-24 px-3 py-2 text-xs font-mono bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md focus:ring-2 focus:ring-primary/20 focus:border-primary resize-y",spellCheck:!1}),o.jsx("p",{className:"mt-1 text-xs text-gray-400",children:f("CSS properties separated by semicolons")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1.5",children:f("Custom Class")}),o.jsx("input",{type:"text",value:p,onChange:y,placeholder:"my-custom-class",className:"w-full px-3 py-2 text-xs font-mono bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md focus:ring-2 focus:ring-primary/20 focus:border-primary"}),o.jsxs("p",{className:"mt-1 text-xs text-gray-400",children:[f("Added alongside")," ",o.jsxs("code",{className:"px-1 py-0.5 bg-gray-100 rounded",children:["lb-","{type}"]})]})]})]})},Oe=(t,l)=>{const i=Ir(l||{}),a={...t};return Object.entries(i).forEach(([c,d])=>{d!=null&&d!==""&&(a[c]=d)}),a},Ir=(t={})=>{const l={};if(t.background){const{color:i,image:a,size:c,position:d,repeat:p}=t.background;i&&(l.backgroundColor=i),a&&(l.backgroundImage=`url(${a})`,l.backgroundSize=c||"cover",l.backgroundPosition=d||"center",l.backgroundRepeat=p||"no-repeat")}if(t.margin){const{top:i,right:a,bottom:c,left:d}=t.margin;(i||a||c||d)&&(l.marginTop=i||"0",l.marginRight=a||"0",l.marginBottom=c||"0",l.marginLeft=d||"0")}if(t.padding){const{top:i,right:a,bottom:c,left:d}=t.padding;(i||a||c||d)&&(l.paddingTop=i||"0",l.paddingRight=a||"0",l.paddingBottom=c||"0",l.paddingLeft=d||"0")}if(t.width&&(l.width=t.width),t.minWidth&&(l.minWidth=t.minWidth),t.maxWidth&&(l.maxWidth=t.maxWidth),t.height&&(l.height=t.height),t.minHeight&&(l.minHeight=t.minHeight),t.maxHeight&&(l.maxHeight=t.maxHeight),t.typography){const{color:i,fontSize:a,textAlign:c,textTransform:d,fontFamily:p,fontWeight:m,fontStyle:g,lineHeight:y,letterSpacing:b,textDecoration:v}=t.typography;i&&(l.color=i),a&&(l.fontSize=a),c&&(l.textAlign=c),d&&(l.textTransform=d),p&&(l.fontFamily=p),m&&(l.fontWeight=m),g&&(l.fontStyle=g),y&&(l.lineHeight=y),b&&(l.letterSpacing=b),v&&(l.textDecoration=v)}if(t.border){const{width:i={},style:a,color:c,radius:d={}}=t.border;i.top&&(l.borderTopWidth=i.top),i.right&&(l.borderRightWidth=i.right),i.bottom&&(l.borderBottomWidth=i.bottom),i.left&&(l.borderLeftWidth=i.left),a&&(l.borderStyle=a),c&&(l.borderColor=c),d.topLeft&&(l.borderTopLeftRadius=d.topLeft),d.topRight&&(l.borderTopRightRadius=d.topRight),d.bottomLeft&&(l.borderBottomLeftRadius=d.bottomLeft),d.bottomRight&&(l.borderBottomRightRadius=d.bottomRight)}if(t.boxShadow){const{x:i,y:a,blur:c,spread:d,color:p,inset:m}=t.boxShadow;if(i||a||c||d||p){const g=`${m?"inset ":""}${i||"0px"} ${a||"0px"} ${c||"0px"} ${d||"0px"} ${p||"rgba(0,0,0,0.1)"}`;l.boxShadow=g}}return l},Ai=(t={})=>{const l=[];if(t.background){const{color:i,image:a,size:c,position:d,repeat:p}=t.background;i&&l.push(`background-color: ${i}`),a&&(l.push(`background-image: url(${a})`),l.push(`background-size: ${c||"cover"}`),l.push(`background-position: ${d||"center"}`),l.push(`background-repeat: ${p||"no-repeat"}`))}if(t.margin){const{top:i,right:a,bottom:c,left:d}=t.margin;i&&l.push(`margin-top: ${i}`),a&&l.push(`margin-right: ${a}`),c&&l.push(`margin-bottom: ${c}`),d&&l.push(`margin-left: ${d}`)}if(t.padding){const{top:i,right:a,bottom:c,left:d}=t.padding;i&&l.push(`padding-top: ${i}`),a&&l.push(`padding-right: ${a}`),c&&l.push(`padding-bottom: ${c}`),d&&l.push(`padding-left: ${d}`)}if(t.width&&l.push(`width: ${t.width}`),t.minWidth&&l.push(`min-width: ${t.minWidth}`),t.maxWidth&&l.push(`max-width: ${t.maxWidth}`),t.height&&l.push(`height: ${t.height}`),t.minHeight&&l.push(`min-height: ${t.minHeight}`),t.maxHeight&&l.push(`max-height: ${t.maxHeight}`),t.typography){const{color:i,fontSize:a,textAlign:c,textTransform:d,fontFamily:p,fontWeight:m,fontStyle:g,lineHeight:y,letterSpacing:b,textDecoration:v}=t.typography;i&&l.push(`color: ${i}`),a&&l.push(`font-size: ${a}`),c&&l.push(`text-align: ${c}`),d&&l.push(`text-transform: ${d}`),p&&l.push(`font-family: ${p}`),m&&l.push(`font-weight: ${m}`),g&&l.push(`font-style: ${g}`),y&&l.push(`line-height: ${y}`),b&&l.push(`letter-spacing: ${b}`),v&&l.push(`text-decoration: ${v}`)}if(t.border){const{width:i={},style:a,color:c,radius:d={}}=t.border;i.top&&l.push(`border-top-width: ${i.top}`),i.right&&l.push(`border-right-width: ${i.right}`),i.bottom&&l.push(`border-bottom-width: ${i.bottom}`),i.left&&l.push(`border-left-width: ${i.left}`),a&&l.push(`border-style: ${a}`),c&&l.push(`border-color: ${c}`),d.topLeft&&l.push(`border-top-left-radius: ${d.topLeft}`),d.topRight&&l.push(`border-top-right-radius: ${d.topRight}`),d.bottomLeft&&l.push(`border-bottom-left-radius: ${d.bottomLeft}`),d.bottomRight&&l.push(`border-bottom-right-radius: ${d.bottomRight}`)}if(t.boxShadow){const{x:i,y:a,blur:c,spread:d,color:p,inset:m}=t.boxShadow;if(i||a||c||d||p){const g=`${m?"inset ":""}${i||"0px"} ${a||"0px"} ${c||"0px"} ${d||"0px"} ${p||"rgba(0,0,0,0.1)"}`;l.push(`box-shadow: ${g}`)}}return l.join("; ")},Qo=({icon:t,iconColor:l="text-primary/100",title:i,isExpanded:a,onToggle:c})=>o.jsxs("button",{type:"button",onClick:c,className:"flex items-center justify-between w-full text-left mb-3 group py-2.5 px-3 rounded-lg border border-transparent hover:bg-gray-50 dark:hover:bg-gray-800/50 focus:outline-none focus:border-primary/40 focus:bg-gray-50/50 dark:focus:bg-gray-800/50 transition-all",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("iconify-icon",{icon:t,width:"16",height:"16",class:l}),o.jsx("span",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:i})]}),o.jsx("iconify-icon",{icon:a?"mdi:chevron-up":"mdi:chevron-down",width:"18",height:"18",class:"text-gray-400 group-hover:text-gray-600 transition-colors"})]}),Ci=({layoutStyles:t={},onUpdate:l,onImageUpload:i,defaultCollapsed:a=!0,customCSS:c="",customClass:d="",onCustomCSSChange:p,onCustomClassChange:m})=>{const[g,y]=x.useState(!1),[b,v]=x.useState(!1),[j,E]=x.useState(!a),[L,S]=x.useState(!1),[C,k]=x.useState(!1),$=(Y,K)=>{l({...t,[Y]:K})},T=Y=>{l({...t,margin:Y})},R=Y=>{l({...t,padding:Y})},O=Y=>{l({...t,background:Y})},F=Y=>{l({...t,typography:Y})},z=Y=>{l({...t,border:Y})},W=Y=>{l({...t,boxShadow:Y})};return o.jsxs("div",{className:"border-t border-gray-200 mt-4 pt-4 space-y-4",children:[o.jsxs("div",{children:[o.jsx(Qo,{icon:"mdi:palette-outline",title:f("Background"),isExpanded:g,onToggle:()=>y(!g)}),g&&o.jsx(hx,{background:t.background||{},onChange:O,onImageUpload:i})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[o.jsx(Qo,{icon:"mdi:format-font",title:f("Typography"),isExpanded:b,onToggle:()=>v(!b)}),b&&o.jsx(gx,{typography:t.typography||{},onChange:F})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[o.jsx(Qo,{icon:"mdi:view-dashboard-outline",title:f("Layout"),isExpanded:j,onToggle:()=>E(!j)}),j&&o.jsxs("div",{className:"space-y-4",children:[o.jsx(mx,{margin:t.margin||{},padding:t.padding||{},onMarginChange:T,onPaddingChange:R}),o.jsx(xx,{layoutStyles:t,onChange:$})]})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[o.jsx(Qo,{icon:"mdi:checkbox-blank-outline",title:f("Border / Box Shadow"),isExpanded:L,onToggle:()=>S(!L)}),L&&o.jsxs("div",{children:[o.jsx(vx,{border:t.border||{},onChange:z}),o.jsx(bx,{boxShadow:t.boxShadow||{},onChange:W})]})]}),p&&o.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[o.jsx(Qo,{icon:"mdi:code-braces",title:f("Custom CSS"),isExpanded:C,onToggle:()=>k(!C)}),C&&o.jsx(wx,{customCSS:c,customClass:d,onChange:p,onClassChange:m})]})]})},kx=t=>`lb-${t.toLowerCase()}`,rn=(t,l={})=>{const i=["lb-block",kx(t)];return l.customClass&&i.push(l.customClass),i.join(" ")},on=(t,l="")=>{const i=Ai(t?.layoutStyles),a=t?.customCSS||"";return[i,l,a].filter(Boolean).join("; ")},Cx=(t="20px")=>`
<table width="100%" cellpadding="0" cellspacing="0" border="0" role="presentation">
    <tr>
        <td style="height: ${t}; line-height: ${t}; font-size: 1px;">&nbsp;</td>
    </tr>
</table>`.trim(),Sx="heading",jx="1.0.0",Ex="Heading",Nx="Content",Tx="mdi:format-header-1",$x="Add a heading to your content",Rx=["heading","title","h1","h2","h3"],Lx=["email","page","campaign"],Ix={align:!0,justify:!0,bold:!0,italic:!0,underline:!0,clearFormat:!0,headingLevel:!0,colors:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},Ax={text:"",level:"h1",align:"left",color:"#333333",fontSize:"32px",fontWeight:"bold",lineHeight:"1.2",letterSpacing:"0"},_x={type:Sx,version:jx,label:Ex,category:Nx,icon:Tx,description:$x,keywords:Rx,contexts:Lx,supports:Ix,defaultProps:Ax};function Of({isOpen:t,searchQuery:l="",onSelect:i,onClose:a,position:c={top:0,left:0},context:d="post"}){const[p,m]=x.useState(0),g=x.useRef(null),y=x.useRef([]),v=Xe.getBlocksForContext(d).filter(S=>{if(!l)return!0;const C=l.toLowerCase();return S.label.toLowerCase().includes(C)||S.type.toLowerCase().includes(C)||S.keywords&&S.keywords.some(k=>k.toLowerCase().includes(C))});x.useEffect(()=>{m(0)},[l]),x.useEffect(()=>{y.current[p]&&y.current[p].scrollIntoView({block:"nearest"})},[p]);const j=x.useCallback(S=>{if(t)switch(S.key){case"ArrowDown":S.preventDefault(),m(C=>C<v.length-1?C+1:C);break;case"ArrowUp":S.preventDefault(),m(C=>C>0?C-1:C);break;case"Enter":S.preventDefault(),v[p]&&i(v[p].type);break;case"Escape":S.preventDefault(),a();break}},[t,v,p,i,a]);if(x.useEffect(()=>{if(t)return document.addEventListener("keydown",j,!0),()=>document.removeEventListener("keydown",j,!0)},[t,j]),x.useEffect(()=>{if(!t)return;const S=C=>{g.current&&!g.current.contains(C.target)&&a()};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[t,a]),!t)return null;const E=v.reduce((S,C)=>{const k=C.category||"Other";return S[k]||(S[k]=[]),S[k].push(C),S},{});let L=0;return o.jsx("div",{ref:g,className:"absolute z-50 bg-white rounded-lg shadow-lg border border-gray-200 w-72 max-h-80 overflow-y-auto",style:{top:c.top,left:c.left},children:v.length===0?o.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:f("No blocks found")}):o.jsx("div",{className:"py-2",children:Object.entries(E).map(([S,C])=>o.jsxs("div",{children:[o.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:f(S)}),C.map(k=>{const $=L++,T=$===p;return o.jsxs("button",{ref:R=>y.current[$]=R,className:`w-full px-3 py-2 flex items-center gap-3 text-left transition-colors ${T?"bg-primary/10 text-primary":"hover:bg-gray-50 text-gray-700"}`,onClick:()=>i(k.type),onMouseEnter:()=>m($),children:[k.icon&&o.jsx("iconify-icon",{icon:k.icon,width:"20",height:"20",className:T?"text-primary":"text-gray-400"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm",children:f(k.label)}),k.description&&o.jsx("div",{className:"text-xs text-gray-500 truncate max-w-[200px]",children:f(k.description)})]})]},k.type)})]},S))})})}function Yd(t){return!t||t==="<br>"||t==="<br/>"?!0:t.replace(/<br\s*\/?>/gi,"").trim()===""}function Qd(t){return t?t.trim()==="":!0}function qd(t,l,i){const a=i(t),c=i(l);return a&&c?!1:a!==c?!0:l!==t}function cl({editorRef:t,contentKey:l="content",useInnerHTML:i=!0,propsRef:a,onUpdateRef:c,lastContentRef:d}){const p=x.useCallback(b=>i?Yd(b):Qd(b),[i]),m=x.useCallback(()=>t.current?i?t.current.innerHTML:t.current.textContent:"",[t,i]),g=x.useCallback(()=>{if(!t.current)return!1;const b=m(),v=d.current;return qd(v,b,p)?(d.current=b,c.current({...a.current,[l]:b}),!0):!1},[t,m,d,p,c,a,l]),y=x.useCallback(()=>p(m()),[p,m]);return{handleContentChange:g,getContent:m,isEmpty:p,isCurrentContentEmpty:y,isHtmlContentEmpty:Yd,isTextContentEmpty:Qd,hasContentChanged:(b,v)=>qd(b,v,p)}}const Bx=({props:t,onUpdate:l,isSelected:i,onRegisterTextFormat:a,onInsertBlockAfter:c,onDelete:d,onReplaceBlock:p,context:m="post"})=>{const g=x.useRef(null),y=x.useRef(t.text),b=x.useRef(t),v=x.useRef(l),[j,E]=x.useState(!1),[L,S]=x.useState(""),[C,k]=x.useState({top:0,left:0});b.current=t,v.current=l;const $=x.useRef(c);$.current=c;const T=x.useRef(d);T.current=d;const R=x.useRef(p);R.current=p;const O=x.useCallback(()=>g.current&&g.current.textContent||"",[]),F=x.useCallback(()=>g.current?{top:g.current.getBoundingClientRect().height+4,left:0}:{top:40,left:8},[]),z=x.useCallback(V=>{E(!1),S(""),R.current&&R.current(V)},[]),{handleContentChange:W,isEmpty:Y}=cl({editorRef:g,contentKey:"text",useInnerHTML:!0,propsRef:b,onUpdateRef:v,lastContentRef:y}),K=x.useCallback(V=>{if(j){if(["ArrowDown","ArrowUp","Escape"].includes(V.key))return;if(V.key==="Enter"){V.preventDefault(),V.stopPropagation();return}}if(V.key==="Enter"&&!V.shiftKey){if(V.preventDefault(),V.stopPropagation(),j)return;if(g.current){const A=g.current.innerHTML;y.current=A,v.current({...b.current,text:A})}$.current&&$.current("text")}if(V.key==="Backspace"){const A=g.current?.innerHTML||"";Y(A)&&(V.preventDefault(),V.stopPropagation(),T.current&&T.current())}V.key==="Escape"&&j&&(V.preventDefault(),E(!1),S(""))},[j,Y]),G=x.useCallback(()=>{W();const V=O();if(V.startsWith("/")){const A=V.slice(1);S(A),k(F()),E(!0)}else E(!1),S("")},[W,O,F]),M=x.useCallback(V=>{v.current({...b.current,align:V})},[]);x.useEffect(()=>{i&&g.current&&(g.current.innerHTML===""||g.current.innerHTML==="<br>")&&(g.current.innerHTML=t.text||"",y.current=t.text),i||(E(!1),S(""))},[i]),x.useEffect(()=>{if(i&&g.current&&t.text!==y.current){const V=window.getSelection();let A=0;if(V.rangeCount>0){const H=V.getRangeAt(0),oe=H.cloneRange();oe.selectNodeContents(g.current),oe.setEnd(H.endContainer,H.endOffset),A=oe.toString().length}g.current.innerHTML=t.text||"",y.current=t.text;try{const H=document.createRange(),oe=[],ne=document.createTreeWalker(g.current,NodeFilter.SHOW_TEXT,null,!1);let pe;for(;pe=ne.nextNode();)oe.push(pe);let ae=0;for(const ke of oe){const ye=ke.textContent.length;if(ae+ye>=A){H.setStart(ke,A-ae),H.collapse(!0),V.removeAllRanges(),V.addRange(H);break}ae+=ye}}catch{g.current.focus()}}},[t.text,i]),x.useEffect(()=>{i&&a?a({editorRef:g,isContentEditable:!0,align:b.current.align||"left",onAlignChange:M}):!i&&a&&a(null)},[i,a,M]),x.useEffect(()=>{i&&g.current&&requestAnimationFrame(()=>{if(g.current){g.current.focus();const V=document.createRange();V.selectNodeContents(g.current),V.collapse(!1);const A=window.getSelection();A.removeAllRanges(),A.addRange(V)}})},[i]);const Z=V=>{switch(V){case"h1":return"32px";case"h2":return"28px";case"h3":return"24px";case"h4":return"20px";case"h5":return"18px";case"h6":return"16px";default:return"32px"}},te={textAlign:t.align||"left",color:t.color||"#333333",fontSize:t.fontSize||Z(t.level),fontWeight:t.fontWeight||"bold",lineHeight:t.lineHeight||"1.3",margin:0,padding:"8px",borderRadius:"4px"},se=Oe(te,t.layoutStyles),me=Y(t.text),de=t.text&&O().startsWith("/");if(i)return o.jsxs("div",{"data-text-editing":"true","data-no-selection-style":"true",className:"relative",children:[o.jsx("div",{ref:g,contentEditable:!0,suppressContentEditableWarning:!0,onInput:G,onBlur:G,onKeyDown:K,style:{...se,width:"100%",outline:"none",minHeight:"1.5em"}}),me&&!de&&o.jsx("div",{style:{position:"absolute",top:se.padding||"8px",left:se.padding||"8px",color:"#9ca3af",pointerEvents:"none",fontSize:se.fontSize,fontWeight:se.fontWeight,lineHeight:se.lineHeight||"1.3"},children:f("Heading")}),j&&o.jsx(Of,{isOpen:j,searchQuery:L,onSelect:z,onClose:()=>{E(!1),S("")},position:C,context:m})]});const U=t.level||"h1",ee=()=>t.text?o.jsx("span",{dangerouslySetInnerHTML:{__html:t.text}}):o.jsx("span",{style:{color:"#9ca3af"},children:f("Heading")});return o.jsx(U,{style:se,children:ee()})},Dx=(t,l={})=>{const i={text:t.text||"",level:t.level||"h2",align:t.align||"left",color:t.color||"#333333",fontSize:t.fontSize||"32px",fontWeight:t.fontWeight||"bold",lineHeight:t.lineHeight||"1.2",letterSpacing:t.letterSpacing||"0",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""},a=l.blockId||t._blockId||"",c=JSON.stringify(i).replace(/'/g,"&#39;");return`<div data-lara-block="heading" data-block-id="${a}" data-props='${c}'></div>`},Px=(t,l={})=>{const i=t.level||"h2",a=t.text||"",c=t.align||"left",d=t.color||"#333333",p=t.fontSize||"24px",m=t.fontWeight||"700";return`<${i} style="text-align: ${c}; color: ${d}; font-size: ${p}; font-weight: ${m}; margin: 0 0 16px 0;">${a}</${i}>`},Mx={page:Dx,email:Px},Ox={h1:"32px",h2:"28px",h3:"24px",h4:"20px",h5:"18px",h6:"16px"},zx=[{name:"level",type:"select",label:f("Heading Level"),section:f("Content"),options:[{value:"h1",label:f("H1 - Main Heading")},{value:"h2",label:f("H2 - Section Heading")},{value:"h3",label:f("H3 - Subsection")},{value:"h4",label:f("H4 - Minor Heading")},{value:"h5",label:f("H5 - Small Heading")},{value:"h6",label:f("H6 - Smallest Heading")}],linkedFields:{fontSize:t=>Ox[t]||"24px"}}],Hx=Ye(_x,{block:Bx,save:Mx,fields:zx}),Fx="text",Wx="1.0.0",Ux="Text",Vx="Content",Kx="mdi:format-text",Gx="Add a paragraph of text to your content",Xx=["text","paragraph","content","body"],Yx=["email","page","campaign"],Qx={align:!0,justify:!0,bold:!0,italic:!0,underline:!0,link:!0,clearFormat:!0,colors:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},qx={content:"",align:"left",color:"#666666",fontSize:"16px",lineHeight:"1.6"},Jx={type:Fx,version:Wx,label:Ux,category:Vx,icon:Kx,description:Gx,keywords:Xx,contexts:Yx,supports:Qx,defaultProps:qx};function Zx({props:t,onUpdate:l,isSelected:i,onRegisterTextFormat:a,onInsertBlockAfter:c,onDelete:d,onReplaceBlock:p,context:m="post"}){const g=x.useRef(null),y=x.useRef(t.content),b=x.useRef(t),v=x.useRef(l),[j,E]=x.useState(!1),[L,S]=x.useState(""),[C,k]=x.useState({top:0,left:0});b.current=t,v.current=l;const $=x.useRef(c);$.current=c;const T=x.useRef(d);T.current=d;const R=x.useRef(p);R.current=p;const O=x.useCallback(()=>g.current&&g.current.textContent||"",[]),F=x.useCallback(()=>g.current?{top:g.current.getBoundingClientRect().height+4,left:0}:{top:40,left:8},[]),z=x.useCallback(U=>{E(!1),S(""),R.current&&R.current(U)},[]),{handleContentChange:W,isEmpty:Y}=cl({editorRef:g,contentKey:"content",useInnerHTML:!0,propsRef:b,onUpdateRef:v,lastContentRef:y}),K=x.useCallback(U=>{if(j){if(["ArrowDown","ArrowUp","Escape"].includes(U.key))return;if(U.key==="Enter"){U.preventDefault(),U.stopPropagation();return}}if(U.key==="Enter"&&!U.shiftKey){if(U.preventDefault(),U.stopPropagation(),j)return;if(g.current){const ee=g.current.innerHTML;y.current=ee,v.current({...b.current,content:ee})}$.current&&$.current("text")}if(U.key==="Backspace"){const ee=g.current?.innerHTML||"";Y(ee)&&(U.preventDefault(),U.stopPropagation(),T.current&&T.current())}U.key==="Escape"&&j&&(U.preventDefault(),E(!1),S(""))},[j,Y]),G=x.useCallback(()=>{W();const U=O();if(U.startsWith("/")){const ee=U.slice(1);S(ee),k(F()),E(!0)}else E(!1),S("")},[W,O,F]),M=x.useCallback(U=>{v.current({...b.current,align:U})},[]);x.useEffect(()=>{i&&g.current&&(g.current.innerHTML===""||g.current.innerHTML==="<br>")&&(g.current.innerHTML=t.content||"",y.current=t.content),i||(E(!1),S(""))},[i]),x.useEffect(()=>{if(i&&g.current&&t.content!==y.current){const U=window.getSelection();let ee=0;if(U.rangeCount>0){const V=U.getRangeAt(0),A=V.cloneRange();A.selectNodeContents(g.current),A.setEnd(V.endContainer,V.endOffset),ee=A.toString().length}g.current.innerHTML=t.content||"",y.current=t.content;try{const V=document.createRange(),A=[],H=document.createTreeWalker(g.current,NodeFilter.SHOW_TEXT,null,!1);let oe;for(;oe=H.nextNode();)A.push(oe);let ne=0;for(const pe of A){const ae=pe.textContent.length;if(ne+ae>=ee){V.setStart(pe,ee-ne),V.collapse(!0),U.removeAllRanges(),U.addRange(V);break}ne+=ae}}catch{g.current.focus()}}},[t.content,i]),x.useEffect(()=>{i&&a?a({editorRef:g,isContentEditable:!0,align:b.current.align||"left",onAlignChange:M}):!i&&a&&a(null)},[i,a,M]),x.useEffect(()=>{i&&g.current&&requestAnimationFrame(()=>{if(g.current){g.current.focus();const U=document.createRange();U.selectNodeContents(g.current),U.collapse(!1);const ee=window.getSelection();ee.removeAllRanges(),ee.addRange(U)}})},[i]);const Z={textAlign:t.align||"left",color:t.color||"#666666",fontSize:t.fontSize||"16px",lineHeight:t.lineHeight||"1.6",padding:"8px",borderRadius:"4px",minHeight:"40px"},te=Oe(Z,t.layoutStyles),se=Y(t.content),me=t.content&&O().startsWith("/");if(i)return o.jsxs("div",{"data-text-editing":"true","data-no-selection-style":"true",className:"relative",children:[o.jsx("div",{ref:g,contentEditable:!0,suppressContentEditableWarning:!0,onInput:G,onBlur:G,onKeyDown:K,style:{...te,width:"100%",outline:"none"}}),se&&!me&&o.jsx("div",{style:{position:"absolute",top:te.padding||"8px",left:te.padding||"8px",color:"#9ca3af",pointerEvents:"none",fontSize:te.fontSize||"16px",lineHeight:te.lineHeight||"1.6"},children:f("Type / to choose a block")}),j&&o.jsx(Of,{isOpen:j,searchQuery:L,onSelect:z,onClose:()=>{E(!1),S("")},position:C,context:m})]});const de=()=>t.content?o.jsx("span",{dangerouslySetInnerHTML:{__html:t.content}}):o.jsx("span",{style:{color:"#9ca3af"},children:f("Type / to choose a block")});return o.jsx("div",{style:te,children:de()})}const ey=(t,l={})=>{const i={content:t.content||"",align:t.align||"left",color:t.color||"#666666",fontSize:t.fontSize||"16px",lineHeight:t.lineHeight||"1.6",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="text" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},ty=(t,l={})=>{const i=t.content||"",a=t.align||"left",c=t.color||"#333333",d=t.fontSize||"16px",p=t.lineHeight||"1.6";return`<div style="text-align: ${a}; color: ${c}; font-size: ${d}; line-height: ${p};">${i}</div>`},ny={page:ey,email:ty},ry=Ye(Jx,{block:Zx,save:ny}),oy="text-editor",ly="1.0.0",iy="Text Editor",sy="Content",ay="mdi:text-box-edit-outline",cy="Rich text editor with formatting",uy=["text","editor","rich","wysiwyg","formatting"],dy=["email","page","campaign"],fy={align:!0,colors:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},py={content:"",align:"left",color:"#333333",fontSize:"16px",lineHeight:"1.6"},hy={type:oy,version:ly,label:iy,category:sy,icon:ay,description:cy,keywords:uy,contexts:dy,supports:fy,defaultProps:py},gy=({props:t,onUpdate:l,isSelected:i,onRegisterTextFormat:a})=>{x.useRef(null);const c=x.useRef(null),[d,p]=x.useState(!1),[m,g]=x.useState(!1),y=x.useRef(t),b=x.useRef(l),v=x.useRef(null);y.current=t,b.current=l,x.useEffect(()=>{if(!i||d||m)return;if(typeof window.tinymce>"u"){const C=document.createElement("script");C.src="/vendor/tinymce/tinymce.min.js",C.onload=()=>S(),document.head.appendChild(C)}else S();function S(){!c.current||v.current||(g(!0),window.tinymce.init({target:c.current,inline:!0,menubar:!1,statusbar:!1,toolbar_mode:"floating",toolbar:"bold italic underline strikethrough | forecolor backcolor | alignleft aligncenter alignright | bullist numlist | link | removeformat",plugins:"link lists",placeholder:"Start typing...",content_style:`
                    body {
                        font-family: system-ui, -apple-system, sans-serif;
                        font-size: ${t.fontSize||"16px"};
                        line-height: ${t.lineHeight||"1.6"};
                        color: ${t.color||"#333333"};
                        margin: 0;
                        padding: 0;
                    }
                    p { margin: 0 0 1em 0; }
                    p:last-child { margin-bottom: 0; }
                    ul, ol { 
                        margin: 0 0 1em 0; 
                        padding-left: 40px;
                    }
                    ul { list-style-type: disc; }
                    ol { list-style-type: decimal; }
                    li { margin: 0.25em 0; }
                `,setup:C=>{v.current=C,C.on("init",()=>{p(!0),g(!1),C.setContent(y.current.content||""),C.focus()}),C.on("change keyup",()=>{const k=C.getContent();k!==y.current.content&&b.current({...y.current,content:k})}),C.on("blur",()=>{const k=C.getContent();k!==y.current.content&&b.current({...y.current,content:k})})},toolbar_sticky:!1,ui_mode:"split",quickbars_selection_toolbar:"bold italic underline | forecolor | link",quickbars_insert_toolbar:!1}))}return()=>{if(v.current){const C=v.current.getContent();C!==y.current.content&&b.current({...y.current,content:C}),v.current.destroy(),v.current=null,p(!1),g(!1)}}},[i]),x.useEffect(()=>{if(!i&&v.current){const S=v.current.getContent();S!==y.current.content&&b.current({...y.current,content:S}),v.current.destroy(),v.current=null,p(!1)}},[i]);const j=x.useCallback(S=>{b.current({...y.current,align:S})},[]);x.useEffect(()=>{i&&a?a({editorRef:c,isContentEditable:!0,align:y.current.align||"left",onAlignChange:j,isTinyMCE:!0}):!i&&a&&a(null)},[i,a,j]);const E={textAlign:t.align||"left",color:t.color||"#333333",fontSize:t.fontSize||"16px",lineHeight:t.lineHeight||"1.6",padding:"8px",borderRadius:"4px",minHeight:"40px"};if(i)return o.jsxs("div",{"data-text-editing":"true",className:"relative",children:[o.jsx("div",{ref:c,className:"focus-within:ring-2 focus-within:ring-primary rounded",style:{...E,width:"100%",outline:"none",background:"white",cursor:"text"}}),m&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/50",children:o.jsx("span",{className:"text-sm text-gray-500",children:"Loading editor..."})})]});const L=()=>{const S=t.content||"<p>Click to edit with rich text editor...</p>";return o.jsx("div",{dangerouslySetInnerHTML:{__html:S}})};return o.jsxs("div",{style:E,className:"text-editor-view",children:[o.jsx("style",{children:`
                .text-editor-view ul,
                .text-editor-view ol {
                    margin: 0 0 1em 0;
                    padding-left: 40px;
                }
                .text-editor-view ul {
                    list-style-type: disc;
                }
                .text-editor-view ol {
                    list-style-type: decimal;
                }
                .text-editor-view li {
                    margin: 0.25em 0;
                }
            `}),L()]})},my=(t,l={})=>{const a=rn("text-editor",t),c=[];t.align&&c.push(`text-align: ${t.align}`),t.color&&!t.layoutStyles?.typography?.color&&c.push(`color: ${t.color}`),t.fontSize&&!t.layoutStyles?.typography?.fontSize&&c.push(`font-size: ${t.fontSize}`),t.lineHeight&&!t.layoutStyles?.typography?.lineHeight&&c.push(`line-height: ${t.lineHeight}`);const d=on(t,c.join("; "));return`<div class="${a}" style="${d}">${t.content||""}</div>`},xy=(t,l={})=>`<div style="text-align: ${t.align||"left"}; color: ${t.color||"#333333"}; font-size: ${t.fontSize||"16px"}; line-height: ${t.lineHeight||"1.6"};">${t.content||""}</div>`,yy={page:my,email:xy},vy=Ye(hy,{block:gy,save:yy}),by="image",wy="1.0.0",ky="Image",Cy="Content",Sy="mdi:image-outline",jy="Add an image to your content",Ey=["image","picture","photo","media"],Ny=["email","page","campaign"],Ty={align:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},$y={src:"",alt:"Image description",width:"100%",height:"auto",customWidth:"",customHeight:"",align:"center",link:""},Ry={type:by,version:wy,label:ky,category:Cy,icon:Sy,description:jy,keywords:Ey,contexts:Ny,supports:Ty,defaultProps:$y},Ly=({props:t,onUpdate:l,isSelected:i})=>{const[a,c]=x.useState(!1),p={textAlign:Ir(t.layoutStyles||{}).textAlign||t.align||"center",padding:"8px",borderRadius:"4px"},m=Oe(p,t.layoutStyles),g=()=>t.width==="custom"&&t.customWidth?t.customWidth:t.width||"100%",y=()=>t.height==="custom"&&t.customHeight?t.customHeight:t.height||"auto",b=t.width==="custom"&&t.customWidth,v=t.height==="custom"&&t.customHeight,j={maxWidth:g(),width:b?t.customWidth:void 0,height:y(),display:"inline-block",objectFit:b||v?"cover":void 0},E=x.useCallback(async C=>{C.stopPropagation();try{const k=await ol.selectImage();k&&l&&l({...t,src:k.url,alt:t.alt||k.name||""})}catch{}},[t,l]),L=x.useCallback(C=>{C.stopPropagation(),l&&l({...t,src:""})},[t,l]),S=i||a;return o.jsx("div",{style:m,children:t.src?o.jsxs("div",{style:{position:"relative",display:"inline-block"},onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[o.jsx("img",{src:t.src,alt:t.alt||"",style:j}),S&&o.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRadius:"4px",transition:"opacity 0.2s ease"},children:[o.jsxs("button",{type:"button",onClick:E,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",backgroundColor:"var(--color-primary, #635bff)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:[o.jsx("iconify-icon",{icon:"lucide:image",width:"16",height:"16"}),f("Change")]}),o.jsx("button",{type:"button",onClick:L,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},title:f("Remove image"),children:o.jsx("iconify-icon",{icon:"lucide:trash-2",width:"16",height:"16"})})]})]}):o.jsxs("div",{onClick:E,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),style:{cursor:"pointer"},className:`bg-gray-100 dark:bg-gray-800 border-2 border-dashed ${a||i?"border-primary bg-primary/10 dark:bg-primary/20":"border-gray-300 dark:border-gray-600"} text-gray-500 dark:text-gray-400 p-8 rounded-lg text-center transition-colors`,children:[o.jsx("iconify-icon",{icon:a||i?"lucide:upload":"mdi:image-plus",width:"40",height:"40",class:"mb-2",style:{color:a||i?"var(--color-primary, #635bff)":void 0}}),o.jsx("div",{className:"text-sm font-medium",children:f(a||i?"Click to select image":"Click to add image")}),o.jsx("div",{className:"text-xs mt-1 opacity-70",children:f("or use the properties panel")})]})})},Iy=(t,l={})=>{const i={src:t.src||"",alt:t.alt||"Image",width:t.width||"100%",height:t.height||"auto",customWidth:t.customWidth||"",customHeight:t.customHeight||"",align:t.align||"center",link:t.link||"",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="image" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},Ay=(t,l={})=>{const i=t.src||"",a=t.alt||"Image",c=t.align||"center",d=t.link||"",p=t.width==="custom"&&t.customWidth,m=t.height==="custom"&&t.customHeight,g=p?t.customWidth:t.width||"100%",y=m?t.customHeight:t.height||"auto",b=`max-width: ${g};${p?` width: ${t.customWidth};`:""} height: ${y}; display: block; margin: 0 auto;${y!=="auto"?" object-fit: cover;":""}`,v=`<img src="${i}" alt="${a}" style="${b}" />`;return d?`<a href="${d}" target="_blank" style="display: block; text-align: ${c};">${v}</a>`:`<div style="text-align: ${c};">${v}</div>`},_y={page:Iy,email:Ay},By=[{name:"src",type:"image",label:f("Image"),section:f("Content")},{name:"alt",type:"text",label:f("Alt Text"),placeholder:f("Describe the image..."),section:f("Content")},{name:"link",type:"url",label:f("Link URL"),placeholder:"https://...",section:f("Link")},{name:"width",type:"select",label:f("Width"),section:f("Size"),options:[{value:"100%",label:f("Full Width")+" (100%)"},{value:"75%",label:f("Three Quarters")+" (75%)"},{value:"50%",label:f("Half")+" (50%)"},{value:"25%",label:f("Quarter")+" (25%)"},{value:"custom",label:f("Custom")}]},{name:"customWidth",type:"text",label:f("Custom Width"),placeholder:f("e.g., 300px"),section:f("Size")},{name:"height",type:"select",label:f("Height"),section:f("Size"),options:[{value:"auto",label:f("Auto")},{value:"custom",label:f("Custom")}]},{name:"customHeight",type:"text",label:f("Custom Height"),placeholder:f("e.g., 200px"),section:f("Size")}],Dy=Ye(Ry,{block:Ly,save:_y,fields:By}),Py="button",My="1.0.0",Oy="Button",zy="Content",Hy="mdi:button-cursor",Fy="Add a call-to-action button",Wy=["button","cta","link","action"],Uy=["email","page","campaign"],Vy={align:!0,bold:!0,italic:!0,underline:!0,clearFormat:!0,colors:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},Ky={text:"Click Here",link:"#",backgroundColor:"#635bff",textColor:"#ffffff",borderRadius:"6px",padding:"12px 24px",align:"center",fontSize:"16px",fontWeight:"600"},Gy={type:Py,version:My,label:Oy,category:zy,icon:Hy,description:Fy,keywords:Wy,contexts:Uy,supports:Vy,defaultProps:Ky},Xy=({props:t,onUpdate:l,isSelected:i,onRegisterTextFormat:a})=>{const c=x.useRef(null),d=x.useRef(t.text),p=x.useRef(t),m=x.useRef(l);p.current=t,m.current=l;const{handleContentChange:g}=cl({editorRef:c,contentKey:"text",useInnerHTML:!0,propsRef:p,onUpdateRef:m,lastContentRef:d}),y=x.useCallback(()=>{g()},[g]),b=x.useCallback(S=>{m.current({...p.current,align:S})},[]);x.useEffect(()=>{i&&c.current&&(c.current.innerHTML===""||c.current.innerHTML==="<br>")&&(c.current.innerHTML=t.text||"Button Text",d.current=t.text)},[i]),x.useEffect(()=>{if(i&&c.current&&t.text!==d.current){const S=window.getSelection();let C=0;if(S.rangeCount>0){const k=S.getRangeAt(0),$=k.cloneRange();$.selectNodeContents(c.current),$.setEnd(k.endContainer,k.endOffset),C=$.toString().length}c.current.innerHTML=t.text||"",d.current=t.text;try{const k=document.createRange(),$=[],T=document.createTreeWalker(c.current,NodeFilter.SHOW_TEXT,null,!1);let R;for(;R=T.nextNode();)$.push(R);let O=0;for(const F of $){const z=F.textContent.length;if(O+z>=C){k.setStart(F,C-O),k.collapse(!0),S.removeAllRanges(),S.addRange(k);break}O+=z}}catch{c.current.focus()}}},[t.text,i]),x.useEffect(()=>{i&&a?a({editorRef:c,isContentEditable:!0,align:p.current.align||"center",onAlignChange:b}):!i&&a&&a(null)},[i,a,b]),x.useEffect(()=>{i&&c.current&&requestAnimationFrame(()=>{if(c.current){c.current.focus();const S=document.createRange();S.selectNodeContents(c.current),S.collapse(!1);const C=window.getSelection();C.removeAllRanges(),C.addRange(S)}})},[i]);const v={textAlign:t.align||"center",padding:"10px 8px",borderRadius:"4px"},j=Oe(v,t.layoutStyles),E={display:"inline-block",backgroundColor:t.backgroundColor||"#635bff",color:t.textColor||"#ffffff",padding:t.padding||"12px 24px",borderRadius:t.borderRadius||"6px",textDecoration:"none",fontSize:t.fontSize||"16px",fontWeight:t.fontWeight||"600",cursor:i?"text":"default",border:"none",outline:"none",minWidth:"80px"};if(i)return o.jsx("div",{"data-text-editing":"true",style:j,children:o.jsx("span",{ref:c,contentEditable:!0,suppressContentEditableWarning:!0,onInput:y,onBlur:y,onKeyDown:S=>{S.key==="Enter"&&S.preventDefault()},style:E,role:"textbox","aria-label":"Button text"})});const L=()=>{const S=t.text||"Button Text";return/<[^>]+>/.test(S)?o.jsx("span",{dangerouslySetInnerHTML:{__html:S}}):S};return o.jsx("div",{style:j,children:o.jsx("button",{type:"button",style:E,children:L()})})},Yy=(t,l={})=>{const i={text:t.text||"Click Here",link:t.link||"",target:t.target||"_self",align:t.align||"center",backgroundColor:t.backgroundColor||"#635bff",textColor:t.textColor||"#ffffff",borderRadius:t.borderRadius||"6px",padding:t.padding||"12px 24px",fontSize:t.fontSize||"16px",fontWeight:t.fontWeight||"600",nofollow:t.nofollow||!1,sponsored:t.sponsored||!1,layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="button" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},Qy=(t,l={})=>{const i=t.text||"Click Here",a=t.link||"#",c=t.align||"center",d=t.backgroundColor||"#635bff",p=t.textColor||"#ffffff",m=t.borderRadius||"6px",g=t.padding||"12px 24px",y=t.fontSize||"16px",b=t.fontWeight||"600";return`
        <div style="text-align: ${c}; padding: 10px 0;">
            <a href="${a}" target="_blank" style="display: inline-block; background-color: ${d}; color: ${p}; padding: ${g}; border-radius: ${m}; text-decoration: none; font-size: ${y}; font-weight: ${b};">${i}</a>
        </div>
    `},qy={page:Yy,email:Qy},Jy=[{name:"link",type:"url",label:f("Link URL"),placeholder:"https://...",section:f("Content")},{name:"backgroundColor",type:"color",label:f("Background Color"),section:f("Style")},{name:"textColor",type:"color",label:f("Text Color"),section:f("Style")},{name:"fontSize",type:"select",label:f("Font Size"),section:f("Typography"),options:[{value:"14px",label:f("Small")+" (14px)"},{value:"16px",label:f("Medium")+" (16px)"},{value:"18px",label:f("Large")+" (18px)"},{value:"20px",label:f("X-Large")+" (20px)"}]},{name:"fontWeight",type:"select",label:f("Font Weight"),section:f("Typography"),options:[{value:"normal",label:f("Normal")},{value:"500",label:f("Medium")},{value:"600",label:f("Semi Bold")},{value:"bold",label:f("Bold")}]},{name:"borderRadius",type:"select",label:f("Border Radius"),section:f("Style"),options:[{value:"0",label:f("None")},{value:"4px",label:f("Small")+" (4px)"},{value:"6px",label:f("Medium")+" (6px)"},{value:"8px",label:f("Large")+" (8px)"},{value:"12px",label:f("X-Large")+" (12px)"},{value:"9999px",label:f("Pill")}]},{name:"padding",type:"select",label:f("Padding"),section:f("Style"),options:[{value:"8px 16px",label:f("Small")},{value:"12px 24px",label:f("Medium")},{value:"16px 32px",label:f("Large")},{value:"20px 40px",label:f("X-Large")}]}],Zy=Ye(Gy,{block:Xy,save:qy,fields:Jy}),e0="divider",t0="1.0.0",n0="Divider",r0="Layout",o0="mdi:minus",l0="Add a horizontal line divider",i0=["divider","line","separator","hr"],s0=["email","page","campaign"],a0={colors:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},c0={style:"solid",color:"#e5e7eb",thickness:"1px",width:"100%",margin:"20px 0"},u0={type:e0,version:t0,label:n0,category:r0,icon:o0,description:l0,keywords:i0,contexts:s0,supports:a0,defaultProps:c0},d0=({props:t})=>{const i=Oe({padding:"8px",borderRadius:"4px"},t.layoutStyles),a={border:"none",borderTop:`${t.thickness||"1px"} ${t.style||"solid"} ${t.color||"#e5e7eb"}`,width:t.width||"100%",margin:t.margin||"20px 0"};return o.jsx("div",{style:i,children:o.jsx("hr",{style:a})})},f0=(t,l={})=>{const a=rn("divider",t),c=["border: none",`border-top: ${t.thickness||"1px"} ${t.style||"solid"} ${t.color||"#e5e7eb"}`,`width: ${t.width||"100%"}`,`margin: ${t.margin||"20px auto"}`],d=on(t,c.join("; "));return`<hr class="${a}" style="${d}" />`},p0=(t,l={})=>`<hr style="border: none; border-top: ${t.thickness||"1px"} ${t.style||"solid"} ${t.color||"#e5e7eb"}; width: ${t.width||"100%"}; margin: ${t.margin||"20px auto"};" />`,h0={page:f0,email:p0},g0=[{name:"style",type:"select",label:f("Style"),section:f("Appearance"),options:[{value:"solid",label:f("Solid")},{value:"dashed",label:f("Dashed")},{value:"dotted",label:f("Dotted")}]},{name:"color",type:"color",label:f("Color"),section:f("Appearance")},{name:"thickness",type:"select",label:f("Thickness"),section:f("Size"),options:[{value:"1px",label:"1px"},{value:"2px",label:"2px"},{value:"3px",label:"3px"},{value:"4px",label:"4px"}]},{name:"width",type:"select",label:f("Width"),section:f("Size"),options:[{value:"100%",label:f("Full Width")},{value:"75%",label:"75%"},{value:"50%",label:"50%"},{value:"25%",label:"25%"}]}],m0=Ye(u0,{block:d0,save:h0,fields:g0}),x0="spacer",y0="1.0.0",v0="Spacer",b0="Layout",w0="mdi:arrow-expand-vertical",k0="Add vertical spacing between blocks",C0=["spacer","space","gap","padding"],S0=["email","page","campaign"],j0={spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},E0={height:"40px"},N0={type:x0,version:y0,label:v0,category:b0,icon:w0,description:k0,keywords:C0,contexts:S0,supports:j0,defaultProps:E0},T0=({props:t})=>{const i=Oe({outline:"1px dashed #d1d5db",borderRadius:"4px",backgroundColor:"transparent"},t.layoutStyles),a={height:t.height||"40px",display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af",fontSize:"12px"};return o.jsx("div",{style:i,children:o.jsxs("div",{style:a,children:["Spacer (",t.height||"40px",")"]})})},$0=(t,l={})=>{const i=rn("spacer",t),a=`height: ${t.height||"20px"}`,c=on(t,a);return`<div class="${i}" style="${c}"></div>`},R0=(t,l={})=>Cx(t.height||"20px"),L0={page:$0,email:R0},I0=[{name:"height",type:"select",label:f("Height"),section:f("Size"),options:[{value:"10px",label:"10px"},{value:"20px",label:"20px"},{value:"30px",label:"30px"},{value:"40px",label:"40px"},{value:"50px",label:"50px"},{value:"60px",label:"60px"},{value:"80px",label:"80px"},{value:"100px",label:"100px"}]}],A0=Ye(N0,{block:T0,save:L0,fields:I0}),_0="columns",B0="1.0.0",D0="Columns",P0="Layout",M0="mdi:view-column-outline",O0="Create multi-column layouts",z0=["columns","layout","grid","sections"],H0=["email","page","campaign"],F0={columnCount:!0,align:!1,spacing:!0,nesting:!0,layout:!0,html:!0,duplicate:!0,remove:!0},W0={columns:2,gap:"20px",verticalAlign:"stretch",horizontalAlign:"stretch",stackOnMobile:!0,children:[[],[]]},U0={type:_0,version:B0,label:D0,category:P0,icon:M0,description:O0,keywords:z0,contexts:H0,supports:F0,defaultProps:W0},V0=[{id:"improve",label:f("Improve writing"),icon:"mdi:auto-fix",prompt:"Improve the writing quality of this text while keeping the same meaning. Make it more clear, engaging, and professional."},{id:"fix_grammar",label:f("Fix grammar"),icon:"mdi:spellcheck",prompt:"Fix any grammar, spelling, and punctuation errors in this text. Keep the original meaning and tone."},{id:"make_shorter",label:f("Make shorter"),icon:"mdi:text-short",prompt:"Make this text more concise while keeping the key points. Remove unnecessary words and phrases."},{id:"make_longer",label:f("Make longer"),icon:"mdi:text-long",prompt:"Expand this text with more details and explanations while keeping it relevant and engaging."},{id:"simplify",label:f("Simplify"),icon:"mdi:lightbulb-outline",prompt:"Simplify this text to make it easier to understand. Use simpler words and shorter sentences."},{id:"formal",label:f("Make formal"),icon:"mdi:briefcase-outline",prompt:"Rewrite this text in a more formal, professional tone suitable for business communication."},{id:"casual",label:f("Make casual"),icon:"mdi:emoticon-happy-outline",prompt:"Rewrite this text in a more casual, friendly tone while keeping the message clear."},{id:"translate",label:f("Translate to English"),icon:"mdi:translate",prompt:"Translate this text to English. Keep the original meaning and tone."}];function K0({isOpen:t,onClose:l,selectedText:i,onApply:a,position:c={top:0,left:0}}){const[d,p]=x.useState(!1),[m,g]=x.useState(""),[y,b]=x.useState(""),[v,j]=x.useState(""),[E,L]=x.useState(!1),[S,C]=x.useState(c),k=x.useRef(null),$=x.useRef(null);x.useEffect(()=>{if(!t||!k.current){C(c);return}const W=()=>{const Y=k.current;if(!Y)return;const K=Y.getBoundingClientRect(),G=window.innerWidth,M=window.innerHeight,Z=16;let te=c.top,se=c.left;c.top+K.height>M-Z&&(te=Math.max(Z,c.top-K.height-10),te<Z&&(te=Z)),c.left+K.width>G-Z&&(se=Math.max(Z,G-K.width-Z)),se<Z&&(se=Z),C({top:te,left:se})};return requestAnimationFrame(W),window.addEventListener("resize",W),()=>window.removeEventListener("resize",W)},[t,c]),x.useEffect(()=>{const W=Y=>{k.current&&!k.current.contains(Y.target)&&l()};return t&&document.addEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)}},[t,l]),x.useEffect(()=>{E&&$.current&&$.current.focus()},[E]),x.useEffect(()=>{t||(b(""),j(""),g(""),L(!1))},[t]);const T=async W=>{await O(W.prompt)},R=async()=>{m.trim()&&await O(m)},O=async W=>{if(!i?.trim()){j(f("No text selected"));return}p(!0),j(""),b("");try{const Y=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content"),G=await(await fetch("/admin/ai/modify-text",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":Y,"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({text:i,instruction:W})})).json();G.success?b(G.data.text||G.data):j(G.message||f("Failed to modify text"))}catch(Y){j(f("Network error. Please try again.")),console.error("AI Text Assistant Error:",Y)}finally{p(!1)}},F=()=>{y&&(a(y),l())};if(!t)return null;const z=()=>{const K=window.innerHeight-S.top-32;return Math.min(500,Math.max(300,K))};return dr.createPortal(o.jsxs("div",{ref:k,className:"fixed z-[9999] bg-white rounded-lg shadow-2xl border border-gray-200 w-80 overflow-hidden flex flex-col",style:{top:S.top,left:S.left,maxHeight:`${z()}px`},onClick:W=>W.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-gray-100 bg-primary/10 shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("iconify-icon",{icon:"mdi:lightning-bolt",width:"16",height:"16",class:"text-primary"}),o.jsx("span",{className:"text-sm font-medium text-gray-800",children:f("AI Assistant")})]}),o.jsx("button",{type:"button",onClick:l,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx("iconify-icon",{icon:"mdi:close",width:"18",height:"18"})})]}),o.jsxs("div",{className:"p-3 flex-1 overflow-y-auto min-h-0",children:[i&&!y&&o.jsxs("div",{className:"mb-3 p-2 bg-gray-50 rounded-md border border-gray-200",children:[o.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:[f("Selected text"),":"]}),o.jsx("p",{className:"text-sm text-gray-700 line-clamp-3",children:i})]}),d&&o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx("iconify-icon",{icon:"mdi:loading",width:"24",height:"24",class:"animate-spin text-primary"}),o.jsx("span",{className:"ml-2 text-sm text-gray-600",children:f("Processing...")})]}),v&&!d&&(()=>{const W=v.toLowerCase(),Y=W.includes("not configured")||W.includes("api key")||W.includes("contact the administrator");return o.jsxs("div",{className:"mb-3 p-3 bg-red-50 rounded-lg border border-red-200",children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("iconify-icon",{icon:"mdi:alert-circle",width:"18",height:"18",class:"text-red-500 shrink-0 mt-0.5"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-red-700 mb-1",children:f("Error")}),o.jsx("p",{className:"text-sm text-red-600 break-words",children:v})]})]}),o.jsxs("div",{className:"mt-3 flex gap-2",children:[Y&&o.jsxs("a",{href:"/admin/settings?tab=integrations",target:"_blank",rel:"noopener noreferrer",className:"btn-primary",children:[o.jsx("iconify-icon",{icon:"mdi:cog",width:"16",height:"16"}),f("Go to Settings")]}),o.jsx("button",{type:"button",onClick:()=>j(""),className:`btn-danger ${Y?"":"flex-1"}`,children:f("Dismiss")})]})]})})(),y&&!d&&o.jsxs("div",{className:"mb-3",children:[o.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:[f("Result"),":"]}),o.jsx("div",{className:"p-2 bg-green-50 rounded-md border border-green-200 mb-3",children:o.jsx("p",{className:"text-sm text-gray-700",children:y})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"button",onClick:F,className:"flex-1 px-3 py-1.5 text-sm font-medium text-white bg-green-500 hover:bg-green-600 rounded-md transition-colors",children:f("Apply")}),o.jsx("button",{type:"button",onClick:()=>{b(""),L(!1)},className:"px-3 py-1.5 text-sm font-medium text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:f("Try again")})]})]}),!d&&!y&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-2 gap-2 mb-3",children:V0.map(W=>o.jsxs("button",{type:"button",onClick:()=>T(W),className:"flex items-center gap-2 p-2 text-left text-sm text-gray-700 bg-gray-50 hover:bg-primary/10 hover:text-primary rounded-md transition-colors border border-gray-200 hover:border-primary/30",children:[o.jsx("iconify-icon",{icon:W.icon,width:"16",height:"16",class:"text-gray-500"}),o.jsx("span",{className:"truncate",children:W.label})]},W.id))}),o.jsx("div",{className:"border-t border-gray-100 pt-3",children:E?o.jsxs("div",{className:"space-y-2",children:[o.jsx("textarea",{ref:$,value:m,onChange:W=>g(W.target.value),placeholder:f("e.g., Make it sound more exciting..."),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none",rows:2,onKeyDown:W=>{W.key==="Enter"&&!W.shiftKey&&(W.preventDefault(),R())}}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"button",onClick:R,disabled:!m.trim(),className:"flex-1 px-3 py-1.5 text-sm font-medium text-white bg-primary hover:opacity-90 disabled:bg-gray-300 disabled:cursor-not-allowed rounded-md transition-colors",children:f("Apply")}),o.jsx("button",{type:"button",onClick:()=>L(!1),className:"px-3 py-1.5 text-sm font-medium text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:f("Cancel")})]})]}):o.jsxs("button",{type:"button",onClick:()=>L(!0),className:"w-full flex items-center justify-center gap-2 p-2 text-sm text-primary hover:opacity-80 hover:bg-primary/10 rounded-md transition-colors",children:[o.jsx("iconify-icon",{icon:"mdi:pencil",width:"16",height:"16"}),f("Custom instruction...")]})})]})]})]}),document.body)}const G0=t=>Xe.get(t),zf=({align:t,onAlignChange:l,showJustify:i=!1})=>{const[a,c]=x.useState(!1),d=x.useRef(null),p=[{value:"left",label:f("Align text left"),icon:"mdi:format-align-left"},{value:"center",label:f("Align text center"),icon:"mdi:format-align-center"},{value:"right",label:f("Align text right"),icon:"mdi:format-align-right"},...i?[{value:"justify",label:f("Justify text"),icon:"mdi:format-align-justify"}]:[]],m=p.find(b=>b.value===t)||p[0];x.useEffect(()=>{const b=v=>{d.current&&!d.current.contains(v.target)&&c(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const g=b=>{l(b),c(!1)};return o.jsxs("div",{className:"relative",ref:d,children:[o.jsxs("button",{type:"button",onClick:()=>c(!a),className:`p-1.5 pb-1 rounded hover:bg-gray-100 transition-colors text-gray-600 flex items-center gap-0.5 ${a?"bg-gray-100":""}`,title:m.label,children:[o.jsx("iconify-icon",{icon:m.icon,width:"16",height:"16"}),o.jsx("iconify-icon",{icon:"mdi:chevron-down",width:"12",height:"12",class:"text-gray-400"})]}),a&&o.jsx("div",{className:"absolute left-0 top-full mt-1 w-44 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:p.map(b=>o.jsxs("button",{type:"button",onClick:()=>g(b.value),className:`w-full px-3 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 ${t===b.value?"text-primary bg-primary/5":"text-gray-700"}`,children:[o.jsx("iconify-icon",{icon:b.icon,width:"16",height:"16",class:t===b.value?"text-primary":"text-gray-500"}),o.jsx("span",{children:b.label})]},b.value))})]})},X0=({align:t,onAlignChange:l})=>o.jsx(zf,{align:t,onAlignChange:l,showJustify:!1}),Y0=()=>[{id:"highlight",label:f("Highlight"),icon:"mdi:marker",tag:"mark",position:10},{id:"inlineCode",label:f("Inline code"),icon:"mdi:code-tags",tag:"code",position:20},{id:"keyboard",label:f("Keyboard input"),icon:"mdi:keyboard",tag:"kbd",position:30},{id:"strikethrough",label:f("Strikethrough"),icon:"mdi:format-strikethrough",command:"strikeThrough",position:40},{id:"subscript",label:f("Subscript"),icon:"mdi:format-subscript",command:"subscript",position:50},{id:"superscript",label:f("Superscript"),icon:"mdi:format-superscript",command:"superscript",position:60}],Q0=({editorRef:t,saveSelection:l,restoreSelection:i})=>{const[a,c]=x.useState(!1),d=x.useRef(null),p=x.useMemo(()=>{const v=Y0();return[...fe.applyFilters(ve.FILTER_MORE_TEXT_CONTROLS,v)].sort((E,L)=>(E.position||100)-(L.position||100))},[]);x.useEffect(()=>{const v=j=>{d.current&&!d.current.contains(j.target)&&c(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const m=(v,j=null)=>{i(),document.execCommand(v,!1,j),t?.current&&t.current.focus()},g=(v,j={})=>{i();const E=window.getSelection();if(!E||E.rangeCount===0)return;const L=E.getRangeAt(0);if(L.collapsed||!L.toString())return;const C=document.createElement(v);j.className&&(C.className=j.className),j.style&&Object.assign(C.style,j.style),j.attributes&&Object.entries(j.attributes).forEach(([$,T])=>{C.setAttribute($,T)});try{L.surroundContents(C)}catch{const T=L.extractContents();C.appendChild(T),L.insertNode(C)}const k=document.createRange();k.setStartAfter(C),k.setEndAfter(C),E.removeAllRanges(),E.addRange(k),t?.current&&t.current.focus()},y=v=>{v.onClick?v.onClick(m,g):v.command?m(v.command,v.commandValue||null):v.tag&&g(v.tag,{className:v.className,style:v.style,attributes:v.attributes}),c(!1)};return o.jsxs("div",{className:"relative",ref:d,children:[o.jsx("button",{type:"button",onMouseDown:l,onClick:()=>c(!a),className:`p-1.5 pb-0 rounded hover:bg-gray-100 transition-colors text-gray-600 ${a?"bg-gray-100":""}`,title:f("More text controls"),children:o.jsx("iconify-icon",{icon:"mdi:chevron-down",width:"16",height:"16"})}),a&&o.jsx("div",{className:"absolute left-0 top-full mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:p.map((v,j)=>o.jsx("div",{children:v.type==="separator"?o.jsx("div",{className:"border-t border-gray-100 my-1"}):o.jsxs("button",{type:"button",onClick:()=>y(v),className:"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",disabled:v.disabled,children:[o.jsx("iconify-icon",{icon:v.icon||"mdi:format-text",width:"16",height:"16",class:"text-gray-500"}),o.jsx("span",{children:v.label})]})},v.id||j))})]})},q0=({editorRef:t,align:l,onAlignChange:i,supports:a={},onContentChange:c})=>{const d=a.bold!==!1,p=a.italic!==!1,m=a.underline!==!1,g=a.link===!0,y=a.justify===!0,b=a.clearFormat!==!1,v=a.moreControls!==!1,j=a.aiAssistant!==!1,[E,L]=x.useState(!1),[S,C]=x.useState(""),k=x.useRef(null),$=x.useRef(null),[T,R]=x.useState(!1),[O,F]=x.useState(""),[z,W]=x.useState({top:0,left:0}),Y=x.useRef(null);x.useEffect(()=>{E&&k.current&&k.current.focus()},[E]);const K=()=>{const ne=window.getSelection();ne.rangeCount>0&&($.current=ne.getRangeAt(0).cloneRange())},G=()=>{if($.current){const ne=window.getSelection();ne.removeAllRanges(),ne.addRange($.current)}},M=(ne,pe=null)=>{G(),document.execCommand(ne,!1,pe),t?.current&&t.current.focus()},Z=()=>M("bold"),te=()=>M("italic"),se=()=>M("underline"),me=()=>{K(),window.getSelection().toString().length!==0&&L(!0)},de=()=>{if(!S.trim()){L(!1);return}G(),document.execCommand("createLink",!1,S),C(""),L(!1),t?.current&&t.current.focus()},U=ne=>{ne.key==="Enter"?(ne.preventDefault(),de()):ne.key==="Escape"&&(L(!1),C(""))},ee=()=>{G(),document.execCommand("removeFormat",!1,null),document.execCommand("unlink",!1,null),t?.current&&t.current.focus()},V=ne=>{ne.stopPropagation(),ne.preventDefault();const ae=window.getSelection()?.toString()?.trim()||"";if(ae)K(),F(ae);else{const ke=t?.current?.innerText||"";F(ke)}if(Y.current){const ke=Y.current.getBoundingClientRect(),ye=window.innerWidth;let Ce=ke.left-140;Ce<10&&(Ce=10),Ce+320>ye-10&&(Ce=ye-330),W({top:ke.bottom+8,left:Ce})}R(!0)},A=x.useCallback(ne=>{$.current&&!$.current.collapsed?(G(),document.execCommand("insertText",!1,ne)):t?.current&&(t.current.innerText=ne),c&&t?.current&&c(t.current.innerHTML),t?.current&&t.current.focus()},[t,c,G]),H="p-1.5 pb-0 rounded hover:bg-gray-100 transition-colors text-gray-600",oe=d||p||m;return o.jsxs(o.Fragment,{children:[d&&o.jsx("button",{type:"button",onMouseDown:K,onClick:Z,className:H,title:f("Bold"),children:o.jsx("iconify-icon",{icon:"mdi:format-bold",width:"16",height:"16"})}),p&&o.jsx("button",{type:"button",onMouseDown:K,onClick:te,className:H,title:f("Italic"),children:o.jsx("iconify-icon",{icon:"mdi:format-italic",width:"16",height:"16"})}),m&&o.jsx("button",{type:"button",onMouseDown:K,onClick:se,className:H,title:f("Underline"),children:o.jsx("iconify-icon",{icon:"mdi:format-underline",width:"16",height:"16"})}),oe&&o.jsx("div",{className:"w-px h-5 bg-gray-200 mx-0.5"}),o.jsx(zf,{align:l,onAlignChange:i,showJustify:y}),g&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-px h-5 bg-gray-200 mx-0.5"}),o.jsxs("div",{className:"relative",children:[o.jsx("button",{type:"button",onClick:me,className:H,title:f("Insert Link"),children:o.jsx("iconify-icon",{icon:"mdi:link-variant",width:"16",height:"16"})}),E&&o.jsx("div",{className:"absolute left-0 top-full mt-2 z-50",children:o.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-white rounded-lg shadow-lg border border-gray-200",children:[o.jsx("input",{ref:k,type:"url",value:S,onChange:ne=>C(ne.target.value),onKeyDown:U,placeholder:f("Enter URL..."),className:"w-48 px-2 py-1 text-sm bg-gray-50 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:outline-none focus:border-primary"}),o.jsx("button",{type:"button",onClick:de,className:"p-1 rounded bg-primary text-white hover:bg-primary/80",title:f("Apply"),children:o.jsx("iconify-icon",{icon:"mdi:check",width:"14",height:"14"})}),o.jsx("button",{type:"button",onClick:()=>{L(!1),C("")},className:"p-1 rounded text-gray-400 hover:text-gray-600",title:f("Cancel"),children:o.jsx("iconify-icon",{icon:"mdi:close",width:"14",height:"14"})})]})})]})]}),b&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-px h-5 bg-gray-200 mx-0.5"}),o.jsx("button",{type:"button",onMouseDown:K,onClick:ee,className:H,title:f("Clear Formatting"),children:o.jsx("iconify-icon",{icon:"mdi:format-clear",width:"16",height:"16"})})]}),j&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-px h-5 bg-gray-200 mx-0.5"}),o.jsx("button",{ref:Y,type:"button",onClick:V,className:"p-1.5 pb-0 rounded hover:bg-primary/10 transition-colors text-primary hover:opacity-80",title:f("AI Assistant"),children:o.jsx("iconify-icon",{icon:"mdi:lightning-bolt",width:"16",height:"16"})})]}),v&&o.jsx(Q0,{editorRef:t,saveSelection:K,restoreSelection:G}),T&&o.jsx(K0,{isOpen:T,onClose:()=>R(!1),selectedText:O,onApply:A,position:z})]})},J0=({columns:t,onColumnsChange:l})=>{const i=[1,2,3,4,5,6];return o.jsx("div",{className:"flex items-center gap-1",children:i.map(a=>o.jsx("button",{type:"button",onClick:()=>l(a),className:`w-6 h-6 flex items-center justify-center rounded text-xs font-medium transition-colors ${parseInt(t)===a?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:`${a} Column${a>1?"s":""}`,children:a},a))})},Oa=({block:t,onMoveUp:l,onMoveDown:i,onDelete:a,onDuplicate:c,canMoveUp:d,canMoveDown:p,textFormatProps:m,alignProps:g,columnsProps:y,dragHandleProps:b,position:v="top"})=>{const[j,E]=x.useState(!1),L=x.useRef(null),S=G0(t.type),C=Kf(t.type),k=C.bold||C.italic||C.underline,$=C.align&&!k,T=C.columnCount===!0,O=["text-editor"].includes(t.type);x.useEffect(()=>{const z=W=>{L.current&&!L.current.contains(W.target)&&E(!1)};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[]);const F=v==="bottom"?"absolute -bottom-10 left-1/2 -translate-x-1/2":"absolute -top-10 left-1/2 -translate-x-1/2";return o.jsxs("div",{className:`lb-block-toolbar ${F} flex items-center gap-0.5 bg-white border border-gray-200 rounded-lg shadow-md px-0.5 py-0.5 z-50`,onClick:z=>z.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center gap-1 px-1.5 py-1 border-r border-gray-200 mr-1",children:[o.jsx("iconify-icon",{icon:S?.icon||"mdi:square-outline",width:"16",height:"16",class:"text-gray-600"}),b&&o.jsx("button",{type:"button",className:"flex justify-center items-center p-1 hover:bg-gray-100 rounded transition-colors cursor-grab active:cursor-grabbing",title:f("Drag"),...b,children:o.jsx("iconify-icon",{icon:"mdi:drag",width:"20",height:"20",class:"text-gray-400"})}),o.jsxs("div",{className:"flex flex-col gap-px",children:[o.jsx("button",{type:"button",onClick:l,disabled:!d,className:`p-0.5 hover:bg-gray-100 rounded transition-colors leading-none ${d?"cursor-pointer":"opacity-30 cursor-not-allowed"}`,title:f("Move up"),children:o.jsx("iconify-icon",{icon:"mdi:chevron-up",width:"12",height:"12",class:"text-gray-500 block"})}),o.jsx("button",{type:"button",onClick:i,disabled:!p,className:`p-0.5 hover:bg-gray-100 rounded transition-colors leading-none ${p?"cursor-pointer":"opacity-30 cursor-not-allowed"}`,title:f("Move down"),children:o.jsx("iconify-icon",{icon:"mdi:chevron-down",width:"12",height:"12",class:"text-gray-500 block"})})]})]}),k&&!O&&m&&o.jsxs(o.Fragment,{children:[o.jsx(q0,{editorRef:m.editorRef,align:m.align,onAlignChange:m.onAlignChange,supports:C}),o.jsx("div",{className:"w-px h-5 bg-gray-200 mx-1"})]}),$&&g&&o.jsxs(o.Fragment,{children:[o.jsx(X0,{align:g.align,onAlignChange:g.onAlignChange}),o.jsx("div",{className:"w-px h-5 bg-gray-200 mx-1"})]}),T&&y&&o.jsxs(o.Fragment,{children:[o.jsx(J0,{columns:y.columns,onColumnsChange:y.onColumnsChange}),o.jsx("div",{className:"w-px h-5 bg-gray-200 mx-1"})]}),o.jsx("button",{type:"button",onClick:c,className:"p-1.5 rounded hover:bg-gray-100 transition-colors",title:f("Duplicate"),children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),o.jsxs("div",{className:"relative",ref:L,children:[o.jsx("button",{type:"button",onClick:()=>E(!j),className:`p-1.5 rounded transition-colors ${j?"bg-gray-100":"hover:bg-gray-100"}`,title:f("More options"),children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})}),j&&o.jsxs("div",{className:"absolute right-0 top-full mt-1 w-40 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:[o.jsxs("button",{type:"button",onClick:()=>{c(),E(!1)},className:"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),f("Duplicate")]}),o.jsxs("button",{type:"button",onClick:()=>{l(),E(!1)},disabled:!d,className:`w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2 ${d?"":"opacity-50 cursor-not-allowed"}`,children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),f("Move Up")]}),o.jsxs("button",{type:"button",onClick:()=>{i(),E(!1)},disabled:!p,className:`w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2 ${p?"":"opacity-50 cursor-not-allowed"}`,children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),f("Move Down")]}),o.jsx("div",{className:"border-t border-gray-100 my-1"}),o.jsxs("button",{type:"button",onClick:()=>{a(),E(!1)},className:"w-full px-3 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),f("Delete")]})]})]})]})},Z0=({block:t,columnIndex:l,parentId:i,onSelect:a,selectedBlockId:c,onUpdate:d,onDelete:p,onMoveNested:m,onDuplicateNested:g,blockIndex:y,totalBlocks:b})=>{const[v,j]=x.useState(null),[E,L]=x.useState(null),{attributes:S,listeners:C,setNodeRef:k,transform:$,transition:T,isDragging:R}=Mf({id:t.id,data:{type:"nested",columnIndex:l,parentId:i}}),O={transform:zn.Transform.toString($),transition:T,opacity:R?.5:1},F=Gf(t.type),z=c===t.id,W=y>0,Y=y<b-1,K=M=>{j(M?{editorRef:M.editorRef,align:M.align,onAlignChange:M.onAlignChange}:null)},G=M=>{L(M?{align:M.align,onAlignChange:M.onAlignChange}:null)};return F?o.jsxs("div",{ref:k,style:O,className:`relative group cursor-grab active:cursor-grabbing ${R?"z-50":""}`,onClick:M=>{M.stopPropagation(),a(t.id)},...S,...C,children:[z&&o.jsx(Oa,{block:t,onMoveUp:()=>m(t.id,i,l,"up"),onMoveDown:()=>m(t.id,i,l,"down"),onDelete:()=>p(t.id,i,l),onDuplicate:()=>g(t.id,i,l),canMoveUp:W,canMoveDown:Y,textFormatProps:v,alignProps:E}),o.jsx(F,{props:t.props,isSelected:z,onUpdate:M=>d(t.id,M),onRegisterTextFormat:K,onRegisterAlign:G})]}):o.jsxs("div",{ref:k,style:O,className:"p-2 bg-red-100 text-red-600 rounded text-xs",children:["Unknown: ",t.type]})},ev=({columnIndex:t,parentId:l,blocks:i,onSelect:a,selectedBlockId:c,onUpdate:d,onDelete:p,onMoveNested:m,onDuplicateNested:g})=>{const y=`column-${l}-${t}`,{setNodeRef:b,isOver:v}=Oi({id:y,data:{type:"column",columnIndex:t,parentId:l}}),j=i.map(E=>E.id);return o.jsx("div",{ref:b,className:`min-h-[60px] p-2 rounded-lg transition-colors ${v?"bg-primary/10 border-2 border-primary border-dashed":i.length===0?"bg-gray-50 border-2 border-dashed border-gray-300":"bg-gray-50/50"}`,children:o.jsx(Df,{items:j,strategy:Af,children:i.length>0?o.jsx("div",{className:"space-y-2",children:i.map((E,L)=>o.jsx(Z0,{block:E,blockIndex:L,totalBlocks:i.length,columnIndex:t,parentId:l,onSelect:a,selectedBlockId:c,onUpdate:d,onDelete:p,onMoveNested:m,onDuplicateNested:g},E.id))}):o.jsx("div",{className:"flex items-center justify-center h-full min-h-[50px] text-gray-400 text-xs",children:o.jsxs("div",{className:"text-center",children:[o.jsx("svg",{className:"mx-auto h-5 w-5 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),o.jsx("span",{children:f("Drop here")})]})})})})},tv=({props:t,isSelected:l,blockId:i,onSelect:a,selectedBlockId:c,onUpdateNested:d,onDeleteNested:p,onMoveNestedBlock:m,onDuplicateNestedBlock:g})=>{const{columns:y=2,gap:b="20px",children:v=[],verticalAlign:j="stretch",horizontalAlign:E="stretch"}=t,L=Math.min(Math.max(parseInt(y)||2,1),6),S=Array.from({length:L},(F,z)=>v[z]||[]),C={start:"flex-start",center:"center",end:"flex-end",stretch:"stretch"},k={start:"flex-start",center:"center",end:"flex-end",stretch:"stretch","space-between":"space-between","space-around":"space-around"},T=Oe({padding:"8px 0"},t.layoutStyles),R={display:"flex",flexWrap:"wrap",gap:b,alignItems:C[j]||"stretch",justifyContent:k[E]||"stretch"},O=()=>E==="stretch"?{flex:`1 1 calc(${100/L}% - ${b})`,minWidth:0}:{flex:"0 0 auto",width:`calc(${100/L}% - ${b})`,minWidth:0};return o.jsx("div",{className:"transition-all",style:T,children:o.jsx("div",{style:R,children:S.map((F,z)=>o.jsx("div",{style:O(),children:o.jsx(ev,{columnIndex:z,parentId:i,blocks:F,onSelect:a,selectedBlockId:c,onUpdate:d,onDelete:p,onMoveNested:m,onDuplicateNested:g})},z))})})},nv=({props:t,onUpdate:l})=>{const{columns:i=2,gap:a="20px",verticalAlign:c="stretch",horizontalAlign:d="stretch",stackOnMobile:p=!0}=t,m=S=>{const C=Math.min(Math.max(parseInt(S)||1,1),6),k=t.children||[],$=Array.from({length:C},(T,R)=>k[R]||[]);l({...t,columns:C,children:$})},g=S=>{l({...t,gap:S})},y=S=>{l({...t,verticalAlign:S})},b=S=>{l({...t,horizontalAlign:S})},v=S=>{l({...t,stackOnMobile:S})},j=[{value:"start",label:f("Top"),icon:"align-start-vertical"},{value:"center",label:f("Center"),icon:"align-center-vertical"},{value:"end",label:f("Bottom"),icon:"align-end-vertical"},{value:"stretch",label:f("Stretch"),icon:"align-stretch-vertical"}],E=[{value:"start",label:f("Start"),icon:"align-start"},{value:"center",label:f("Center"),icon:"align-center"},{value:"end",label:f("End"),icon:"align-end"},{value:"stretch",label:f("Stretch"),icon:"align-stretch"},{value:"space-between",label:f("Space Between"),icon:"space-between"},{value:"space-around",label:f("Space Around"),icon:"space-around"}],L=({type:S,isActive:C})=>{const k=C?"currentColor":"#9ca3af";return{"align-start-vertical":o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:k,strokeWidth:"2",children:[o.jsx("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),o.jsx("rect",{x:"6",y:"6",width:"4",height:"10",rx:"1"}),o.jsx("rect",{x:"14",y:"6",width:"4",height:"6",rx:"1"})]}),"align-center-vertical":o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:k,strokeWidth:"2",children:[o.jsx("line",{x1:"4",y1:"12",x2:"20",y2:"12",strokeDasharray:"2 2"}),o.jsx("rect",{x:"6",y:"7",width:"4",height:"10",rx:"1"}),o.jsx("rect",{x:"14",y:"9",width:"4",height:"6",rx:"1"})]}),"align-end-vertical":o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:k,strokeWidth:"2",children:[o.jsx("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),o.jsx("rect",{x:"6",y:"8",width:"4",height:"10",rx:"1"}),o.jsx("rect",{x:"14",y:"12",width:"4",height:"6",rx:"1"})]}),"align-stretch-vertical":o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:k,strokeWidth:"2",children:[o.jsx("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),o.jsx("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),o.jsx("rect",{x:"6",y:"6",width:"4",height:"12",rx:"1"}),o.jsx("rect",{x:"14",y:"6",width:"4",height:"12",rx:"1"})]}),"align-start":o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:k,strokeWidth:"2",children:[o.jsx("line",{x1:"4",y1:"4",x2:"4",y2:"20"}),o.jsx("rect",{x:"6",y:"6",width:"10",height:"4",rx:"1"}),o.jsx("rect",{x:"6",y:"14",width:"6",height:"4",rx:"1"})]}),"align-center":o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:k,strokeWidth:"2",children:[o.jsx("line",{x1:"12",y1:"4",x2:"12",y2:"20",strokeDasharray:"2 2"}),o.jsx("rect",{x:"7",y:"6",width:"10",height:"4",rx:"1"}),o.jsx("rect",{x:"9",y:"14",width:"6",height:"4",rx:"1"})]}),"align-end":o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:k,strokeWidth:"2",children:[o.jsx("line",{x1:"20",y1:"4",x2:"20",y2:"20"}),o.jsx("rect",{x:"8",y:"6",width:"10",height:"4",rx:"1"}),o.jsx("rect",{x:"12",y:"14",width:"6",height:"4",rx:"1"})]}),"align-stretch":o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:k,strokeWidth:"2",children:[o.jsx("line",{x1:"4",y1:"4",x2:"4",y2:"20"}),o.jsx("line",{x1:"20",y1:"4",x2:"20",y2:"20"}),o.jsx("rect",{x:"6",y:"6",width:"12",height:"4",rx:"1"}),o.jsx("rect",{x:"6",y:"14",width:"12",height:"4",rx:"1"})]}),"space-between":o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:k,strokeWidth:"2",children:[o.jsx("line",{x1:"4",y1:"4",x2:"4",y2:"20"}),o.jsx("line",{x1:"20",y1:"4",x2:"20",y2:"20"}),o.jsx("rect",{x:"5",y:"8",width:"4",height:"8",rx:"1"}),o.jsx("rect",{x:"15",y:"8",width:"4",height:"8",rx:"1"})]}),"space-around":o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:k,strokeWidth:"2",children:[o.jsx("rect",{x:"6",y:"8",width:"4",height:"8",rx:"1"}),o.jsx("rect",{x:"14",y:"8",width:"4",height:"8",rx:"1"})]})}[S]||null};return o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Number of Columns")}),o.jsx("div",{className:"grid grid-cols-6 gap-2",children:[1,2,3,4,5,6].map(S=>o.jsx("button",{onClick:()=>m(S),className:`
                                px-3 py-2 text-sm font-medium rounded-lg border-2 transition-all
                                ${i===S?"border-primary bg-primary/10 text-primary":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}
                            `,children:S},S))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Gap Between Columns")}),o.jsxs("select",{value:a,onChange:S=>g(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[o.jsx("option",{value:"0px",children:f("None")}),o.jsxs("option",{value:"8px",children:[f("Small")," (8px)"]}),o.jsxs("option",{value:"12px",children:[f("Medium")," (12px)"]}),o.jsxs("option",{value:"16px",children:[f("Normal")," (16px)"]}),o.jsxs("option",{value:"20px",children:[f("Large")," (20px)"]}),o.jsxs("option",{value:"24px",children:[f("Extra Large")," (24px)"]}),o.jsxs("option",{value:"32px",children:[f("2X Large")," (32px)"]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Vertical Alignment")}),o.jsx("div",{className:"grid grid-cols-4 gap-2",children:j.map(S=>o.jsxs("button",{onClick:()=>y(S.value),title:S.label,className:`
                                flex flex-col items-center justify-center p-2 rounded-lg border-2 transition-all
                                ${c===S.value?"border-primary bg-primary/10 text-primary":"border-gray-200 bg-white text-gray-500 hover:border-gray-300"}
                            `,children:[o.jsx(L,{type:S.icon,isActive:c===S.value}),o.jsx("span",{className:"text-xs mt-1",children:S.label})]},S.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Horizontal Alignment")}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:E.map(S=>o.jsxs("button",{onClick:()=>b(S.value),title:S.label,className:`
                                flex flex-col items-center justify-center p-2 rounded-lg border-2 transition-all
                                ${d===S.value?"border-primary bg-primary/10 text-primary":"border-gray-200 bg-white text-gray-500 hover:border-gray-300"}
                            `,children:[o.jsx(L,{type:S.icon,isActive:d===S.value}),o.jsx("span",{className:"text-xs mt-1",children:S.label})]},S.value))})]}),o.jsxs("div",{className:"flex items-center justify-between py-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:f("Stack on Mobile")}),o.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:f("Columns will stack vertically on smaller screens")})]}),o.jsx("button",{onClick:()=>v(!p),className:`
                        relative inline-flex h-6 w-11 items-center rounded-full transition-colors
                        ${p?"bg-primary":"bg-gray-300"}
                    `,children:o.jsx("span",{className:`
                            inline-block h-4 w-4 transform rounded-full bg-white transition-transform
                            ${p?"translate-x-6":"translate-x-1"}
                        `})})]}),o.jsx("div",{className:"pt-4 border-t border-gray-200",children:o.jsxs("div",{className:"flex items-start space-x-2 text-sm text-gray-600",children:[o.jsx("svg",{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-gray-700",children:[f("Tip"),":"]}),o.jsx("p",{className:"mt-1",children:f("Drag blocks from the sidebar into the column areas to build your layout. Each column can contain multiple blocks.")})]})]})})]})},rv={start:"flex-start",center:"center",end:"flex-end",stretch:"stretch"},ov={start:"flex-start",center:"center",end:"flex-end",stretch:"stretch","space-between":"space-between","space-around":"space-around"},lv=(t,l={})=>{const{generateBlockHtml:i}=l,c=rn("columns",t),d=t.gap||"20px",p=t.columns||2,m=t.verticalAlign||"stretch",g=t.horizontalAlign||"stretch",y=t.stackOnMobile!==!1,b=rv[m]||"stretch",v=ov[g]||"stretch",j=g==="stretch"?`flex: 1 1 calc(${100/p}% - ${d})`:`flex: 0 0 auto; width: calc(${100/p}% - ${d})`,E=(t.children||[]).map(k=>{const $=k.map(T=>i?i(T,l):"").join("");return`<div class="lb-column" style="${j}; min-width: 0;">${$||""}</div>`}).join(""),L=["display: flex","flex-wrap: wrap",`gap: ${d}`,`align-items: ${b}`,`justify-content: ${v}`].join("; "),S=on(t,L);return`
        <div class="${c} lb-columns-${p} ${y?"lb-columns-stack-mobile":""}" style="${S}">
            ${E}
        </div>
    `},iv=(t,l={})=>{const{generateBlockHtml:i}=l,a=t.verticalAlign||"stretch",c={start:"top",center:"middle",end:"bottom",stretch:"top"},d=`${100/(t.columns||2)}%`,p=c[a]||"top";return`
        <table width="100%" cellpadding="0" cellspacing="0" border="0">
            <tr>${(t.children||[]).map((g,y)=>{const b=g.map(v=>i?i(v,l):"").join("");return`<td style="width: ${d}; vertical-align: ${p}; padding: 0 ${y<(t.columns||2)-1?t.gap||"20px":"0"} 0 0;">${b||"&nbsp;"}</td>`}).join("")}</tr>
        </table>
    `},sv={page:lv,email:iv},av=Ye(U0,{block:tv,editor:nv,save:sv}),cv="social",uv="1.0.0",dv="Social",fv="Content",pv="mdi:share-variant-outline",hv="Add social media links",gv=["social","facebook","twitter","instagram","linkedin","youtube"],mv=["email","page","campaign"],xv={align:!0,layout:!0,html:!0,duplicate:!0,remove:!0},yv={align:"center",iconSize:"32px",gap:"12px",links:{facebook:"",twitter:"",instagram:"",linkedin:"",youtube:""}},vv={type:cv,version:uv,label:dv,category:fv,icon:pv,description:hv,keywords:gv,contexts:mv,supports:xv,defaultProps:yv},bv=[{key:"facebook",label:"Facebook",icon:"mdi:facebook",color:"#1877f2"},{key:"twitter",label:"Twitter/X",icon:"mdi:twitter",color:"#1da1f2"},{key:"instagram",label:"Instagram",icon:"mdi:instagram",color:"#e4405f"},{key:"linkedin",label:"LinkedIn",icon:"mdi:linkedin",color:"#0a66c2"},{key:"youtube",label:"YouTube",icon:"mdi:youtube",color:"#ff0000"}],wv=({props:t,isSelected:l})=>{const a={textAlign:Ir(t.layoutStyles||{}).textAlign||t.align||"center",padding:"10px 8px",borderRadius:"4px"},c=Oe(a,t.layoutStyles),d={display:"inline-flex",alignItems:"center",justifyContent:t.align==="left"?"flex-start":t.align==="right"?"flex-end":"center",gap:t.gap||"12px",flexWrap:"wrap"},p=parseInt(t.iconSize)||32,m=Object.entries(t.links||{}).filter(([,g])=>g);return o.jsx("div",{style:c,children:m.length>0?o.jsx("div",{style:d,children:m.map(([g])=>{const y=bv.find(b=>b.key===g);return o.jsx("span",{title:y?.label,style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:`${p}px`,height:`${p}px`,color:y?.color||"#666"},children:o.jsx("iconify-icon",{icon:y?.icon||"mdi:link",width:p,height:p})},g)})}):o.jsxs("div",{className:"text-gray-400 text-sm py-2",children:[o.jsx("iconify-icon",{icon:"mdi:share-variant-outline",width:"24",height:"24",class:"mb-1"}),o.jsx("div",{children:"Add social links in the right panel"})]})})},kv={facebook:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>',twitter:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>',instagram:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>',linkedin:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>',youtube:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>'},Cv={facebook:"https://cdn-icons-png.flaticon.com/32/733/733547.png",twitter:"https://cdn-icons-png.flaticon.com/32/733/733579.png",instagram:"https://cdn-icons-png.flaticon.com/32/2111/2111463.png",linkedin:"https://cdn-icons-png.flaticon.com/32/733/733561.png",youtube:"https://cdn-icons-png.flaticon.com/32/733/733646.png"},Sv=(t,l={})=>{const a=rn("social",t),c=t.iconSize||"24px",d=t.gap||"12px",p=t.align||"center",g=`text-align: ${p}; display: flex; justify-content: ${p==="left"?"flex-start":p==="right"?"flex-end":"center"}; gap: ${d}; padding: 10px 0`,y=on(t,g),b=Object.entries(t.links||{}).filter(([,v])=>v).map(([v,j])=>`
            <a href="${j}" target="_blank" rel="noopener noreferrer" class="lb-social-link lb-social-${v}" style="display: inline-flex; width: ${c}; height: ${c}; color: inherit;">
                ${kv[v]||""}
            </a>
        `).join("");return b?`<div class="${a}" style="${y}">${b}</div>`:""},jv=(t,l={})=>{const i=parseInt(t.iconSize)||32,a=parseInt(t.gap)/2||6,c=Object.entries(t.links||{}).filter(([,d])=>d).map(([d,p])=>`<a href="${p}" target="_blank" style="display: inline-block; margin: 0 ${a}px;"><img src="${Cv[d]}" alt="${d}" width="${i}" height="${i}" style="border: 0;" /></a>`).join("");return c?`<div style="text-align: ${t.align||"center"}; padding: 10px 0;">${c}</div>`:""},Ev={page:Sv,email:jv},Nv=[{name:"iconSize",type:"select",label:f("Icon Size"),section:f("Appearance"),options:[{value:"24px",label:f("Small")+" (24px)"},{value:"32px",label:f("Medium")+" (32px)"},{value:"40px",label:f("Large")+" (40px)"},{value:"48px",label:f("X-Large")+" (48px)"}]},{name:"gap",type:"select",label:f("Spacing"),section:f("Appearance"),options:[{value:"8px",label:f("Small")},{value:"12px",label:f("Medium")},{value:"16px",label:f("Large")},{value:"24px",label:f("X-Large")}]},{name:"links.facebook",type:"url",label:f("Facebook URL"),placeholder:"https://facebook.com/...",section:f("Links")},{name:"links.twitter",type:"url",label:f("Twitter/X URL"),placeholder:"https://twitter.com/...",section:f("Links")},{name:"links.instagram",type:"url",label:f("Instagram URL"),placeholder:"https://instagram.com/...",section:f("Links")},{name:"links.linkedin",type:"url",label:f("LinkedIn URL"),placeholder:"https://linkedin.com/...",section:f("Links")},{name:"links.youtube",type:"url",label:f("YouTube URL"),placeholder:"https://youtube.com/...",section:f("Links")}],Tv=Ye(vv,{block:wv,save:Ev,fields:Nv}),$v="html",Rv="1.0.0",Lv="HTML",Iv="Advanced",Av="mdi:code-tags",_v="Add custom HTML content",Bv=["html","code","custom","embed"],Dv=["email","page","campaign"],Pv={layout:!0,html:!0,duplicate:!0,remove:!0},Mv={code:'<div style="padding: 20px; text-align: center;">Custom HTML content</div>'},Ov={type:$v,version:Rv,label:Lv,category:Iv,icon:Av,description:_v,keywords:Bv,contexts:Dv,supports:Pv,defaultProps:Mv},zv=({props:t,onUpdate:l})=>{const[i,a]=x.useState(!1),[c,d]=x.useState(!1),p=x.useRef(null),m=x.useRef(null),g=()=>{a(!0)},y=()=>{m.current&&(m.current.destroy(),m.current=null,d(!1)),a(!1)},b=()=>{if(m.current){const L=m.current.getContent();l({...t,code:L})}y()};x.useEffect(()=>{if(!i||!p.current)return;const L=()=>{if(typeof window.tinymce>"u"){const C=document.createElement("script");C.src="/vendor/tinymce/tinymce.min.js",C.onload=()=>S(),document.head.appendChild(C)}else S()},S=()=>{!p.current||m.current||window.tinymce.init({target:p.current,height:450,menubar:!1,branding:!1,promotion:!1,plugins:["advlist","autolink","lists","link","image","charmap","anchor","searchreplace","visualblocks","code","insertdatetime","media","table","wordcount"],toolbar:"undo redo | blocks | bold italic forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image table | removeformat code",toolbar_mode:"wrap",content_style:`
                    body {
                        font-family: system-ui, -apple-system, sans-serif;
                        font-size: 14px;
                        line-height: 1.6;
                        padding: 12px;
                    }
                `,setup:C=>{m.current=C,C.on("init",()=>{d(!0),C.setContent(t.code||"")})},code_dialog_height:400,code_dialog_width:600,ui_options:{z_index:10100}})};return L(),()=>{m.current&&(m.current.destroy(),m.current=null,d(!1))}},[i,t.code]);const j=Oe({padding:"8px",borderRadius:"4px",cursor:"pointer",minHeight:"60px"},t.layoutStyles);return o.jsxs("div",{style:j,onDoubleClick:g,children:[o.jsx("div",{dangerouslySetInnerHTML:{__html:t.code||`
        <div style="padding: 24px; padding-top: 10px; text-align: center; color: #9ca3af; background: #f9fafb; border: 2px dashed #e5e7eb; border-radius: 8px;">
            <div style="font-size: 14px; font-weight: 500;">Custom HTML Block</div>
            <div style="font-size: 12px; margin-top: 4px;">Double-click to edit</div>
        </div>
    `}}),i&&o.jsx("style",{children:`
                    .tox-tinymce-aux,
                    .tox .tox-dialog-wrap,
                    .tox .tox-dialog,
                    .tox .tox-dialog-wrap__backdrop,
                    div.tox.tox-silver-sink.tox-tinymce-aux {
                        z-index: 10100 !important;
                    }
                    .tox .tox-dialog-wrap__backdrop {
                        background-color: rgba(0, 0, 0, 0.5) !important;
                    }
                `}),i&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999]",onClick:y,children:o.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col mx-4",onClick:L=>L.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("iconify-icon",{icon:"mdi:code-tags",width:"24",height:"24",class:"text-gray-600"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Edit Custom HTML"})]}),o.jsx("button",{type:"button",onClick:y,className:"p-2 rounded-md hover:bg-gray-100 text-gray-500 transition-colors",children:o.jsx("iconify-icon",{icon:"mdi:close",width:"20",height:"20"})})]}),o.jsxs("div",{className:"flex-1 overflow-hidden p-6",children:[!c&&o.jsx("div",{className:"flex items-center justify-center h-[450px] bg-gray-50 rounded-md",children:o.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[o.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o.jsx("span",{children:"Loading editor..."})]})}),o.jsx("div",{ref:p,className:c?"":"hidden"})]}),o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-lg",children:[o.jsx("p",{className:"text-sm text-gray-500",children:'Use the toolbar above to format content, or click "Code" to edit raw HTML.'}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"button",onClick:y,className:"btn-default",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn-primary",children:"Save Changes"})]})]})]})})]})},Hv=(t,l={})=>{const a=rn("html",t),c=on(t);return`<div class="${a}"${c?` style="${c}"`:""}>${t.code||""}</div>`},Fv=(t,l={})=>t.code||"",Wv={page:Hv,email:Fv},Uv=[{name:"code",type:"textarea",label:f("HTML Code"),section:f("Content"),rows:10}],Vv=Ye(Ov,{block:zv,save:Wv,fields:Uv}),Kv="quote",Gv="1.0.0",Xv="Quote",Yv="Content",Qv="mdi:format-quote-close",qv="Add a quote or testimonial with inline editing",Jv=["quote","testimonial","blockquote","citation"],Zv=["email","page","campaign"],eb={align:!0,justify:!0,bold:!0,italic:!0,underline:!0,clearFormat:!0,colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},tb={text:"This is a quote or testimonial that stands out from the rest of the content.",author:"John Doe",authorTitle:"CEO, Company",borderColor:"#635bff",backgroundColor:"#f8fafc",textColor:"#475569",authorColor:"#1e293b",align:"left"},nb={type:Kv,version:Gv,label:Xv,category:Yv,icon:Qv,description:qv,keywords:Jv,contexts:Zv,supports:eb,defaultProps:tb},rb=({props:t,onUpdate:l,isSelected:i,onRegisterTextFormat:a})=>{const c=x.useRef(null),d=x.useRef(null),p=x.useRef(null),[m,g]=x.useState("quote"),y=x.useRef(t.text),b=x.useRef(t.author),v=x.useRef(t.authorTitle),j=x.useRef(t),E=x.useRef(l);j.current=t,E.current=l;const L=x.useCallback(()=>{switch(m){case"author":return d;case"title":return p;default:return c}},[m]),S=x.useCallback(()=>{if(c.current){const M=c.current.innerHTML;y.current=M,E.current({...j.current,text:M})}},[]),C=x.useCallback(()=>{if(d.current){const M=d.current.innerHTML;b.current=M,E.current({...j.current,author:M})}},[]),k=x.useCallback(()=>{if(p.current){const M=p.current.innerHTML;v.current=M,E.current({...j.current,authorTitle:M})}},[]),$=x.useCallback(M=>{E.current({...j.current,align:M})},[]);x.useEffect(()=>{i&&(c.current&&(c.current.innerHTML===""||c.current.innerHTML==="<br>")&&(c.current.innerHTML=t.text||"",y.current=t.text),d.current&&(d.current.innerHTML===""||d.current.innerHTML==="<br>")&&(d.current.innerHTML=t.author||"",b.current=t.author),p.current&&(p.current.innerHTML===""||p.current.innerHTML==="<br>")&&(p.current.innerHTML=t.authorTitle||"",v.current=t.authorTitle))},[i]),x.useEffect(()=>{i&&c.current&&t.text!==y.current&&(c.current.innerHTML=t.text||"",y.current=t.text)},[t.text,i]),x.useEffect(()=>{i&&d.current&&t.author!==b.current&&(d.current.innerHTML=t.author||"",b.current=t.author)},[t.author,i]),x.useEffect(()=>{i&&p.current&&t.authorTitle!==v.current&&(p.current.innerHTML=t.authorTitle||"",v.current=t.authorTitle)},[t.authorTitle,i]),x.useEffect(()=>{i&&a?a({editorRef:L(),isContentEditable:!0,align:j.current.align||"left",onAlignChange:$}):!i&&a&&a(null)},[i,a,$,m,L]),x.useEffect(()=>{i&&c.current&&requestAnimationFrame(()=>{if(c.current){c.current.focus();const M=document.createRange();M.selectNodeContents(c.current),M.collapse(!1);const Z=window.getSelection();Z.removeAllRanges(),Z.addRange(M)}})},[i]);const T={padding:"20px",paddingLeft:"24px",backgroundColor:t.backgroundColor||"#f8fafc",borderLeft:`4px solid ${t.borderColor||"#635bff"}`,textAlign:t.align||"left",borderRadius:"4px"},R=Oe(T,t.layoutStyles),O={color:t.textColor||"#475569",fontSize:"16px",fontStyle:"italic",lineHeight:"1.6",margin:"0 0 12px 0",outline:"none",minHeight:"1.5em"},F={color:t.authorColor||"#1e293b",fontSize:"14px",fontWeight:"600",margin:"0 0 4px 0",outline:"none",minHeight:"1.2em"},z={color:t.textColor||"#475569",fontSize:"12px",margin:0,outline:"none",minHeight:"1em"},W=M=>{g(M)},Y=()=>{const M=t.text||"Click to add quote...";return o.jsx("span",{dangerouslySetInnerHTML:{__html:`"${M}"`}})},K=()=>{const M=t.author||"";return M?o.jsx("span",{dangerouslySetInnerHTML:{__html:M}}):o.jsx("span",{style:{opacity:.5},children:"Author name"})},G=()=>{const M=t.authorTitle||"";return M?o.jsx("span",{dangerouslySetInnerHTML:{__html:M}}):o.jsx("span",{style:{opacity:.5},children:"Author title"})};return i?o.jsxs("div",{"data-text-editing":"true",style:R,children:[o.jsxs("div",{style:{position:"relative",marginBottom:"12px"},children:[o.jsx("span",{style:{...O,position:"absolute",left:0,pointerEvents:"none"},children:'"'}),o.jsx("div",{ref:c,contentEditable:!0,suppressContentEditableWarning:!0,onInput:S,onBlur:S,onFocus:()=>W("quote"),"data-placeholder":"Enter quote...",style:{...O,paddingLeft:"12px",background:m==="quote"?"rgba(99, 91, 255, 0.05)":"transparent",borderRadius:"4px"}}),o.jsx("span",{style:{...O,position:"absolute",right:0,bottom:0,pointerEvents:"none"},children:'"'})]}),o.jsxs("div",{children:[o.jsx("div",{ref:d,contentEditable:!0,suppressContentEditableWarning:!0,onInput:C,onBlur:C,onFocus:()=>W("author"),"data-placeholder":"Author name",style:{...F,background:m==="author"?"rgba(99, 91, 255, 0.05)":"transparent",borderRadius:"4px",padding:"2px 4px"}}),o.jsx("div",{ref:p,contentEditable:!0,suppressContentEditableWarning:!0,onInput:k,onBlur:k,onFocus:()=>W("title"),"data-placeholder":"Author title",style:{...z,background:m==="title"?"rgba(99, 91, 255, 0.05)":"transparent",borderRadius:"4px",padding:"2px 4px"}})]})]}):o.jsxs("div",{style:R,children:[o.jsx("p",{style:O,children:Y()}),o.jsxs("div",{children:[o.jsx("p",{style:F,children:K()}),o.jsx("p",{style:z,children:G()})]})]})},ob=(t,l={})=>{const i={text:t.text||"",author:t.author||"",authorTitle:t.authorTitle||"",align:t.align||"left",borderColor:t.borderColor||"#635bff",backgroundColor:t.backgroundColor||"#f8fafc",textColor:t.textColor||"#475569",authorColor:t.authorColor||"#1e293b",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="quote" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},lb=(t,l={})=>{const i=t.text||"",a=t.author||"",c=t.authorTitle||"",d=t.align||"left",p=t.borderColor||"#635bff",m=t.backgroundColor||"#f8fafc",g=t.textColor||"#475569",y=t.authorColor||"#1e293b";let b="";a&&(b=`<p style="color: ${y}; font-size: 14px; font-weight: 600; margin: 0;">${a}</p>`);let v="";return c&&(v=`<p style="color: ${g}; font-size: 12px; margin: 0;">${c}</p>`),`
        <div style="padding: 20px; padding-left: 24px; background-color: ${m}; border-left: 4px solid ${p}; text-align: ${d}; border-radius: 4px; margin: 10px 0;">
            <p style="color: ${g}; font-size: 16px; font-style: italic; line-height: 1.6; margin: 0 0 12px 0;">"${i}"</p>
            ${b}
            ${v}
        </div>
    `},ib={page:ob,email:lb},sb=[{name:"borderColor",type:"color",label:f("Border Color"),section:f("Style")},{name:"backgroundColor",type:"color",label:f("Background Color"),section:f("Style")},{name:"textColor",type:"color",label:f("Text Color"),section:f("Style")},{name:"authorColor",type:"color",label:f("Author Color"),section:f("Style")}],ab=Ye(nb,{block:rb,save:ib,fields:sb}),cb="list",ub="1.0.0",db="List",fb="Content",pb="mdi:format-list-bulleted",hb="Add a bullet or numbered list",gb=["list","bullet","number","items","check","checklist"],mb=["email","page","campaign"],xb={align:!0,justify:!0,bold:!0,italic:!0,underline:!0,link:!0,clearFormat:!0,colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},yb={items:["First item","Second item","Third item"],listType:"bullet",color:"#333333",fontSize:"16px",iconColor:"#635bff"},vb={type:cb,version:ub,label:db,category:fb,icon:pb,description:hb,keywords:gb,contexts:mb,supports:xb,defaultProps:yb};function bb({props:t,isSelected:l,onUpdate:i,onRegisterTextFormat:a}){const c=x.useRef(null),d=x.useRef(t),p=x.useRef(i);d.current=t,p.current=i;const m=t.items||["List item"],g=t.listType||"bullet",y=g==="number"?"ol":"ul",b=x.useCallback(()=>{if(!c.current)return;const E=c.current.querySelectorAll(":scope > li"),L=Array.from(E).map(C=>{const k=C.cloneNode(!0);return k.querySelectorAll("ul, ol").forEach($=>$.remove()),k.innerHTML.trim()}).filter(C=>C&&C!=="<br>"),S=L.length>0?L:[""];JSON.stringify(S)!==JSON.stringify(d.current.items)&&p.current({...d.current,items:S})},[]);x.useEffect(()=>{l&&c.current&&(c.current.innerHTML=m.map(E=>`<li>${E||"<br>"}</li>`).join(""),requestAnimationFrame(()=>{c.current&&c.current.focus()}))},[l]),x.useEffect(()=>{!l&&c.current&&(c.current.innerHTML=m.map(E=>`<li>${E||"<br>"}</li>`).join(""))},[]),x.useEffect(()=>{a&&a(l?{editorRef:c,isContentEditable:!0,align:t.align||"left",onAlignChange:E=>p.current({...d.current,align:E})}:null)},[l,a,t.align]);const v=Oe({padding:"8px",borderRadius:"4px"},t.layoutStyles),j={...Oe({color:t.color||"#333333",fontSize:t.fontSize||"16px",lineHeight:"1.8",margin:0,textAlign:t.align||"left"},t.layoutStyles),paddingLeft:g==="check"?"0":"24px",listStyleType:g==="bullet"?"disc":g==="number"?"decimal":"none"};return l?o.jsx("div",{style:v,"data-text-editing":"true",children:o.jsx(y,{ref:c,contentEditable:!0,suppressContentEditableWarning:!0,onInput:b,onBlur:b,style:{...j,paddingLeft:g==="check"?"8px":"32px",paddingTop:"8px",paddingRight:"8px",paddingBottom:"8px",border:"2px solid var(--color-primary, #635bff)",borderRadius:"4px",outline:"none",background:"white",minHeight:"40px"}})}):o.jsx("div",{style:v,children:o.jsx(y,{style:j,suppressContentEditableWarning:!0,ref:c})})}const wb=(t,l={})=>{const i={items:t.items||[],listType:t.listType||"bullet",color:t.color||"#333333",fontSize:t.fontSize||"16px",iconColor:t.iconColor||"#635bff",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="list" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},kb=(t,l={})=>{const i=t.items||[],a=t.listType||"bullet",c=t.color||"#333333",d=t.fontSize||"16px",p=t.iconColor||"#635bff";if(a==="check"){const y=i.map(b=>`<tr><td style="vertical-align: top; padding-right: 8px; color: ${p};">&#10003;</td><td style="color: ${c}; font-size: ${d}; padding-bottom: 8px;">${b}</td></tr>`).join("");return`<table style="color: ${c}; font-size: ${d}; line-height: 1.6;">${y}</table>`}const m=a==="number"?"ol":"ul",g=i.map(y=>`<li style="margin-bottom: 8px;">${y}</li>`).join("");return`<${m} style="color: ${c}; font-size: ${d}; line-height: 1.8; margin: 0; padding-left: 24px;">${g}</${m}>`},Cb={page:wb,email:kb},Sb=[{name:"listType",type:"select",label:f("List Type"),section:f("Content"),options:[{value:"bullet",label:f("Bullet List")},{value:"number",label:f("Numbered List")},{value:"check",label:f("Check List")}]},{name:"color",type:"color",label:f("Text Color"),section:f("Style")},{name:"fontSize",type:"select",label:f("Font Size"),section:f("Style"),options:[{value:"12px",label:f("Small")+" (12px)"},{value:"14px",label:f("Normal")+" (14px)"},{value:"16px",label:f("Medium")+" (16px)"},{value:"18px",label:f("Large")+" (18px)"},{value:"20px",label:f("X-Large")+" (20px)"}]},{name:"iconColor",type:"color",label:f("Icon Color"),section:f("Style")}],jb=Ye(vb,{block:bb,save:Cb,fields:Sb}),Eb="video",Nb="1.0.0",Tb="Video",$b="Content",Rb="mdi:play-circle-outline",Lb="Add a video with thumbnail",Ib=["video","media","youtube","play","vimeo","thumbnail"],Ab=["email","page","campaign"],_b={align:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},Bb={thumbnailUrl:"",videoUrl:"",alt:"Video thumbnail",width:"100%",align:"center",playButtonColor:""},Db={type:Eb,version:Nb,label:Tb,category:$b,icon:Rb,description:Lb,keywords:Ib,contexts:Ab,supports:_b,defaultProps:Bb},Pb=t=>{if(!t)return null;const l=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/,/youtube\.com\/shorts\/([a-zA-Z0-9_-]{11})/];for(const b of l){const v=t.match(b);if(v)return{platform:"youtube",videoId:v[1],embedUrl:`https://www.youtube.com/embed/${v[1]}`,thumbnailUrl:`https://img.youtube.com/vi/${v[1]}/maxresdefault.jpg`}}const i=/(?:vimeo\.com\/)(\d+)/,a=t.match(i);if(a)return{platform:"vimeo",videoId:a[1],embedUrl:`https://player.vimeo.com/video/${a[1]}`,thumbnailUrl:null};const c=/(?:dailymotion\.com\/video\/|dai\.ly\/)([a-zA-Z0-9]+)/,d=t.match(c);if(d)return{platform:"dailymotion",videoId:d[1],embedUrl:`https://www.dailymotion.com/embed/video/${d[1]}`,thumbnailUrl:`https://www.dailymotion.com/thumbnail/video/${d[1]}`};const p=/(?:wistia\.com\/medias\/|wi\.st\/)([a-zA-Z0-9]+)/,m=t.match(p);if(m)return{platform:"wistia",videoId:m[1],embedUrl:`https://fast.wistia.net/embed/iframe/${m[1]}`,thumbnailUrl:null};const g=/(?:loom\.com\/share\/)([a-zA-Z0-9]+)/,y=t.match(g);return y?{platform:"loom",videoId:y[1],embedUrl:`https://www.loom.com/embed/${y[1]}`,thumbnailUrl:null}:null},Mb=t=>t?/\.(mp4|webm|ogg|mov|avi|m4v)(\?.*)?$/i.test(t):!1,Ob=t=>({youtube:"mdi:youtube",vimeo:"mdi:vimeo",dailymotion:"simple-icons:dailymotion",wistia:"mdi:video-box",loom:"mdi:video-outline"})[t]||"mdi:play-circle",zb=t=>({youtube:"#FF0000",vimeo:"#1AB7EA",dailymotion:"#00AAFF",wistia:"#54BBFF",loom:"#625DF5"})[t]||"#FF0000",Hb='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="600" height="340" viewBox="0 0 600 340"%3E%3Crect fill="%231a1a2e" width="600" height="340"/%3E%3Ctext fill="%23ffffff" font-family="Arial" font-size="24" x="50%25" y="50%25" text-anchor="middle" dy=".3em"%3EVideo%3C/text%3E%3C/svg%3E',Fb=({props:t,isSelected:l})=>{const[i,a]=x.useState(!1),[c,d]=x.useState(null),p=x.useMemo(()=>Pb(t.videoUrl),[t.videoUrl]),m=x.useMemo(()=>Mb(t.videoUrl),[t.videoUrl]);x.useEffect(()=>{if(!m||t.thumbnailUrl||!t.videoUrl){d(null);return}const O=document.createElement("video");return O.crossOrigin="anonymous",O.src=t.videoUrl,O.muted=!0,O.preload="metadata",O.onloadeddata=()=>{O.currentTime=Math.min(1,O.duration*.1)},O.onseeked=()=>{try{const F=document.createElement("canvas");F.width=O.videoWidth||640,F.height=O.videoHeight||360,F.getContext("2d").drawImage(O,0,0,F.width,F.height);const W=F.toDataURL("image/jpeg",.8);d(W)}catch{d(null)}},O.onerror=()=>{d(null)},()=>{O.src=""}},[t.videoUrl,t.thumbnailUrl,m]);const g=t.thumbnailUrl||p?.thumbnailUrl||c,y=i||!g?Hb:g,b=t.playButtonColor||(p?zb(p.platform):"#FF0000"),j={textAlign:Ir(t.layoutStyles||{}).textAlign||t.align||"center",padding:"8px",borderRadius:"4px"},E=Oe(j,t.layoutStyles),L={position:"relative",display:"inline-block",maxWidth:t.width||"100%",width:"100%"},S={width:"100%",height:"auto",display:"block",borderRadius:"8px",backgroundColor:"#1a1a2e"},C={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"68px",height:"68px",backgroundColor:b,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",cursor:"pointer"},k={width:0,height:0,borderTop:"12px solid transparent",borderBottom:"12px solid transparent",borderLeft:"20px solid white",marginLeft:"4px"},$={position:"absolute",top:"12px",left:"12px",backgroundColor:"rgba(0,0,0,0.7)",color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",display:"flex",alignItems:"center",gap:"4px"},T=()=>{i||a(!0)};if(x.useEffect(()=>{a(!1)},[g]),!t.videoUrl)return o.jsx("div",{style:E,children:o.jsxs("div",{className:"bg-gray-100 border-2 border-dashed border-gray-300 text-gray-400 p-8 rounded text-center",children:[o.jsx("iconify-icon",{icon:"mdi:video-plus",width:"32",height:"32",class:"mb-2"}),o.jsx("div",{className:"text-sm",children:"Add video in the right panel"})]})});const R=m&&!t.thumbnailUrl;return o.jsx("div",{style:E,children:o.jsxs("div",{style:L,children:[R?o.jsx("video",{src:t.videoUrl,controls:!0,style:{width:"100%",height:"auto",display:"block",borderRadius:"8px",backgroundColor:"#1a1a2e"},preload:"metadata"}):o.jsxs(o.Fragment,{children:[o.jsx("img",{src:y,alt:t.alt||"Video thumbnail",style:S,onError:T}),o.jsx("div",{style:C,children:o.jsx("div",{style:k})})]}),p&&o.jsxs("div",{style:$,children:[o.jsx("iconify-icon",{icon:Ob(p.platform),width:"16",height:"16"}),o.jsx("span",{style:{textTransform:"capitalize"},children:p.platform})]}),m&&!R&&o.jsxs("div",{style:$,children:[o.jsx("iconify-icon",{icon:"mdi:video",width:"16",height:"16"}),o.jsx("span",{children:"Video"})]})]})})},Wb=({props:t,onUpdate:l})=>{const i=(p,m)=>{l({...t,[p]:m})},a=async()=>{try{const p=await ol.selectImage();p&&i("thumbnailUrl",p.url)}catch{}},c=async()=>{try{const p=await ol.selectVideo();p&&i("videoUrl",p.url)}catch{}},d=()=>{i("thumbnailUrl","")};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs(Si,{title:f("Video"),children:[o.jsx(ji,{children:f("Video URL")}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"url",value:t.videoUrl||"",onChange:p=>i("videoUrl",p.target.value),placeholder:"YouTube, Vimeo, or direct URL...",className:"form-control flex-1"}),o.jsx("button",{type:"button",onClick:c,className:"btn-default px-3",title:f("Select from library"),children:o.jsx("iconify-icon",{icon:"lucide:folder-open",width:"16",height:"16"})})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:f("YouTube, Vimeo, Dailymotion, Wistia, Loom, or direct files (mp4, webm)")})]}),o.jsxs(Si,{title:f("Thumbnail"),children:[t.thumbnailUrl?o.jsxs("div",{className:"relative group mb-3",children:[o.jsx("img",{src:t.thumbnailUrl,alt:"Thumbnail",className:"w-full max-h-32 object-contain rounded border border-gray-200 dark:border-gray-700"}),o.jsx("button",{type:"button",onClick:d,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",title:f("Remove thumbnail"),children:o.jsx("iconify-icon",{icon:"lucide:x",width:"14",height:"14"})})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center p-4 mb-3 bg-gray-50 dark:bg-gray-800 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg",children:[o.jsx("iconify-icon",{icon:"lucide:image",className:"text-2xl text-gray-400 mb-1"}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:f("Auto-generated from video")})]}),o.jsxs("button",{type:"button",onClick:a,className:"btn-default w-full flex items-center justify-center gap-2",children:[o.jsx("iconify-icon",{icon:"lucide:image-plus"}),t.thumbnailUrl?f("Change Thumbnail"):f("Custom Thumbnail")]}),o.jsxs("details",{className:"mt-3",children:[o.jsx("summary",{className:"text-xs text-gray-500 dark:text-gray-400 cursor-pointer hover:text-gray-700 dark:hover:text-gray-300",children:f("Or enter URL manually")}),o.jsx("input",{type:"url",value:t.thumbnailUrl||"",onChange:p=>i("thumbnailUrl",p.target.value),placeholder:"https://...",className:"form-control mt-2"})]})]}),o.jsxs(Si,{title:f("Accessibility"),children:[o.jsx(ji,{children:f("Alt Text")}),o.jsx("input",{type:"text",value:t.alt||"",onChange:p=>i("alt",p.target.value),placeholder:"Describe the video...",className:"form-control"})]}),o.jsxs(Si,{title:f("Appearance"),children:[o.jsx(ji,{children:f("Width")}),o.jsxs("select",{value:t.width||"100%",onChange:p=>i("width",p.target.value),className:"form-control",children:[o.jsxs("option",{value:"100%",children:[f("Full Width")," (100%)"]}),o.jsxs("option",{value:"75%",children:[f("Three Quarters")," (75%)"]}),o.jsxs("option",{value:"50%",children:[f("Half")," (50%)"]}),o.jsxs("option",{value:"25%",children:[f("Quarter")," (25%)"]})]}),o.jsxs("div",{className:"mt-3",children:[o.jsx(ji,{children:f("Play Button Color")}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"color",value:t.playButtonColor||"#FF0000",onChange:p=>i("playButtonColor",p.target.value),className:"w-12 h-9 rounded border border-gray-300 cursor-pointer"}),o.jsx("input",{type:"text",value:t.playButtonColor||"",onChange:p=>i("playButtonColor",p.target.value),placeholder:"#FF0000",className:"form-control flex-1"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:f("Leave empty for platform default")})]})]})]})},Si=({title:t,children:l})=>o.jsxs("div",{className:"pb-4 border-b border-gray-200 dark:border-gray-700 last:border-b-0 last:pb-0",children:[o.jsx("h4",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-3",children:t}),l]}),ji=({children:t})=>o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:t}),Hf=t=>t?/\.(mp4|webm|ogg|mov|avi|m4v)(\?.*)?$/i.test(t):!1,Ff=t=>{if(!t)return null;const l=t.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/shorts\/)([a-zA-Z0-9_-]{11})/);if(l)return{platform:"youtube",id:l[1],thumbnail:`https://img.youtube.com/vi/${l[1]}/maxresdefault.jpg`,color:"#FF0000",embedUrl:`https://www.youtube.com/embed/${l[1]}?rel=0`};const i=t.match(/vimeo\.com\/(\d+)/);if(i)return{platform:"vimeo",id:i[1],thumbnail:null,color:"#1AB7EA",embedUrl:`https://player.vimeo.com/video/${i[1]}`};const a=t.match(/(?:dailymotion\.com\/video\/|dai\.ly\/)([a-zA-Z0-9]+)/);return a?{platform:"dailymotion",id:a[1],thumbnail:`https://www.dailymotion.com/thumbnail/video/${a[1]}`,color:"#00AAFF",embedUrl:`https://www.dailymotion.com/embed/video/${a[1]}`}:null},Ub=(t,l={})=>{const i="video",a=Hf(t.videoUrl),c=Ff(t.videoUrl),d=t.width||"100%",p=t.thumbnailUrl||t.thumbnail||"",m=t.align||"center",g=m==="left"?"flex-start":m==="right"?"flex-end":"center",y=rn(i,t),b=c?` lb-video-${c.platform}`:"",v=`display: flex; justify-content: ${g}`,j=on(t,v);if(a){if(p){const E=`lb-video-${Date.now()}-${Math.random().toString(36).substring(2,9)}`;return`
                <div class="${y}" style="${j}">
                    <div id="${E}" class="lb-video-container" style="position: relative; max-width: ${d}; width: 100%; cursor: pointer;">
                        <div class="lb-video-thumbnail" style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px; background: #000;">
                            <img src="${p}" alt="${t.alt||"Video thumbnail"}" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;" />
                            <div class="lb-video-play-btn" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 68px; height: 48px; background: rgba(0,0,0,0.8); border-radius: 12px; display: flex; align-items: center; justify-content: center; transition: background 0.2s;">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
                <script>
                    (function() {
                        var container = document.getElementById('${E}');
                        if (!container) return;
                        container.addEventListener('click', function() {
                            var wrapper = container.querySelector('.lb-video-thumbnail');
                            wrapper.innerHTML = '<video src="${t.videoUrl}" controls autoplay style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0; border-radius: 8px;"></video>';
                        });
                    })();
                <\/script>
            `}return`
            <div class="${y}" style="${j}">
                <video src="${t.videoUrl}" controls ${t.autoplay?"autoplay muted":""} ${t.loop?"loop":""} style="max-width: ${d}; width: 100%; height: auto; border-radius: 8px;" preload="metadata">
                    Your browser does not support the video tag.
                </video>
            </div>
        `}if(c?.embedUrl){const E=`lb-video-${Date.now()}-${Math.random().toString(36).substring(2,9)}`;return p?`
                <div class="${y}${b}" style="${j}">
                    <div id="${E}" class="lb-video-container" style="position: relative; max-width: ${d}; width: 100%; cursor: pointer;">
                        <div class="lb-video-thumbnail" style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px; background: #000;">
                            <img src="${p}" alt="Video thumbnail" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;" />
                            <div class="lb-video-play-btn" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 68px; height: 48px; background: rgba(0,0,0,0.8); border-radius: 12px; display: flex; align-items: center; justify-content: center; transition: background 0.2s;">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
                <script>
                    (function() {
                        var container = document.getElementById('${E}');
                        if (!container) return;
                        container.addEventListener('click', function() {
                            var wrapper = container.querySelector('.lb-video-thumbnail');
                            wrapper.innerHTML = '<iframe src="${c.embedUrl}&autoplay=1" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0; border-radius: 8px;" allowfullscreen allow="autoplay; encrypted-media; picture-in-picture"></iframe>';
                        });
                    })();
                <\/script>
            `:`
            <div class="${y}${b}" style="${j}">
                <div style="position: relative; max-width: ${d}; width: 100%;">
                    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px;">
                        <iframe src="${c.embedUrl}" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0;" allowfullscreen allow="autoplay; encrypted-media; picture-in-picture"></iframe>
                    </div>
                </div>
            </div>
        `}return`
        <div class="${y}" style="${j}">
            <a href="${t.videoUrl}" target="_blank" rel="noopener noreferrer" class="lb-video-link">Watch Video</a>
        </div>
    `},Vb=(t,l={})=>{const{previewMode:i=!1}=l,a=Hf(t.videoUrl),c=Ff(t.videoUrl);if(i){if(a&&!t.thumbnailUrl)return`
                <div style="text-align: ${t.align||"center"};">
                    <video src="${t.videoUrl}" controls style="max-width: ${t.width||"100%"}; width: 100%; height: auto; display: inline-block; border-radius: 8px; background-color: #1a1a2e;" preload="metadata"></video>
                </div>
            `;if(c?.embedUrl&&!t.thumbnailUrl)return`
                <div style="text-align: ${t.align||"center"};">
                    <div style="position: relative; max-width: ${t.width||"100%"}; width: 100%; display: inline-block;">
                        <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px;">
                            <iframe src="${c.embedUrl}" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0;" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>
            `}let d;t.thumbnailUrl?d=t.thumbnailUrl:c?.thumbnail?d=c.thumbnail:a?d="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='340' viewBox='0 0 600 340'%3E%3Crect fill='%231a1a2e' width='600' height='340'/%3E%3Ctext fill='%23ffffff' font-family='Arial' font-size='16' x='50%25' y='60%25' text-anchor='middle'%3EClick to play video%3C/text%3E%3C/svg%3E":d="https://via.placeholder.com/600x340/1a1a2e/ffffff?text=Video";const p=t.playButtonColor||c?.color||(a?"#635bff":"#ff0000"),m=`
        <div style="position: relative; display: inline-block; max-width: ${t.width||"100%"}; width: 100%;">
            <a href="${t.videoUrl}" target="_blank" style="display: block; text-decoration: none;">
                <img src="${d}" alt="${t.alt||"Video thumbnail"}" style="width: 100%; height: auto; display: block; border-radius: 8px; background-color: #1a1a2e;" />
                <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 68px; height: 68px; background-color: ${p}; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                    <span style="width: 0; height: 0; border-top: 12px solid transparent; border-bottom: 12px solid transparent; border-left: 20px solid white; margin-left: 4px;"></span>
                </div>
            </a>
        </div>
    `;return`<div style="text-align: ${t.align||"center"};">${m}</div>`},Kb={page:Ub,email:Vb},Gb=Ye(Db,{block:Fb,editor:Wb,save:Kb}),Xb="footer",Yb="1.0.0",Qb="Footer",qb="Layout",Jb="mdi:page-layout-footer",Zb="Add an email footer with company info",e1=["footer","unsubscribe","company","contact"],t1=["email","campaign"],n1={align:!0,colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},r1={companyName:"Your Company Name",address:"123 Street Name, City, Country",phone:"+1 234 567 890",email:"contact@company.com",unsubscribeText:"Unsubscribe from these emails",unsubscribeUrl:"#unsubscribe",copyright:" 2024 Your Company. All rights reserved.",textColor:"#6b7280",linkColor:"#635bff",fontSize:"12px",align:"center"},o1={type:Xb,version:Yb,label:Qb,category:qb,icon:Jb,description:Zb,keywords:e1,contexts:t1,supports:n1,defaultProps:r1},l1=({props:t})=>{const l={padding:"24px 16px",textAlign:t.align||"center",borderTop:"1px solid #e5e7eb",borderRadius:"4px"},i=Oe(l,t.layoutStyles),a={color:t.textColor||"#6b7280",fontSize:t.fontSize||"12px",lineHeight:"1.6",margin:"0 0 8px 0"},c=Oe(a,t.layoutStyles),d={color:t.linkColor||"#635bff",textDecoration:"underline"},p={...c,fontWeight:"600",fontSize:"14px",marginBottom:"12px"};return o.jsxs("div",{style:i,children:[t.companyName&&o.jsx("p",{style:p,children:t.companyName}),t.address&&o.jsx("p",{style:c,children:t.address}),(t.phone||t.email)&&o.jsxs("p",{style:c,children:[t.phone&&o.jsx("span",{children:t.phone}),t.phone&&t.email&&o.jsx("span",{children:" | "}),t.email&&o.jsx("a",{href:`mailto:${t.email}`,style:d,children:t.email})]}),t.unsubscribeText&&o.jsx("p",{style:{...c,marginTop:"16px"},children:o.jsx("a",{href:t.unsubscribeUrl||"#",style:d,children:t.unsubscribeText})}),t.copyright&&o.jsx("p",{style:{...c,marginTop:"12px",fontSize:"11px"},children:t.copyright})]})},i1=(t,l={})=>{const a=rn("footer",t),c=["padding: 24px 16px",`text-align: ${t.align||"center"}`];t.layoutStyles?.border||c.push("border-top: 1px solid #e5e7eb");const d=on(t,c.join("; ")),p=t.layoutStyles?.typography?.color||t.textColor||"#6b7280",m=t.layoutStyles?.typography?.fontSize||t.fontSize||"12px";return`
        <footer class="${a}" style="${d}">
            ${t.companyName?`<p style="color: ${p}; font-size: 14px; font-weight: 600; margin: 0 0 12px 0;">${t.companyName}</p>`:""}
            ${t.address?`<p style="color: ${p}; font-size: ${m}; margin: 0 0 8px 0;">${t.address}</p>`:""}
            ${t.phone||t.email?`
                <p style="color: ${p}; font-size: ${m}; margin: 0 0 8px 0;">
                    ${t.phone||""}
                    ${t.phone&&t.email?" | ":""}
                    ${t.email?`<a href="mailto:${t.email}" style="color: ${t.linkColor||"#635bff"};">${t.email}</a>`:""}
                </p>
            `:""}
            ${t.copyright?`<p style="color: ${p}; font-size: 11px; margin: 12px 0 0 0;">${t.copyright}</p>`:""}
        </footer>
    `},s1=(t,l={})=>`
        <div style="padding: 24px 16px; text-align: ${t.align||"center"}; border-top: 1px solid #e5e7eb;">
            ${t.companyName?`<p style="color: ${t.textColor||"#6b7280"}; font-size: 14px; font-weight: 600; margin: 0 0 12px 0;">${t.companyName}</p>`:""}
            ${t.address?`<p style="color: ${t.textColor||"#6b7280"}; font-size: ${t.fontSize||"12px"}; margin: 0 0 8px 0;">${t.address}</p>`:""}
            ${t.phone||t.email?`<p style="color: ${t.textColor||"#6b7280"}; font-size: ${t.fontSize||"12px"}; margin: 0 0 8px 0;">${t.phone||""}${t.phone&&t.email?" | ":""}${t.email?`<a href="mailto:${t.email}" style="color: ${t.linkColor||"#635bff"}; text-decoration: underline;">${t.email}</a>`:""}</p>`:""}
            ${t.unsubscribeText?`<p style="color: ${t.textColor||"#6b7280"}; font-size: ${t.fontSize||"12px"}; margin: 16px 0 0 0;"><a href="${t.unsubscribeUrl||"#"}" style="color: ${t.linkColor||"#635bff"}; text-decoration: underline;">${t.unsubscribeText}</a></p>`:""}
            ${t.copyright?`<p style="color: ${t.textColor||"#6b7280"}; font-size: 11px; margin: 12px 0 0 0;">${t.copyright}</p>`:""}
        </div>
    `,a1={page:i1,email:s1},c1=[{name:"companyName",type:"text",label:f("Company Name"),section:f("Company Information"),placeholder:f("Your Company Name")},{name:"address",type:"textarea",label:f("Address"),section:f("Company Information"),rows:2,placeholder:"123 Street Name, City, Country"},{name:"phone",type:"text",label:f("Phone"),section:f("Company Information"),placeholder:"+1 234 567 890"},{name:"email",type:"email",label:f("Email"),section:f("Company Information"),placeholder:"contact@company.com"},{name:"unsubscribeText",type:"text",label:f("Unsubscribe Text"),section:f("Unsubscribe Link"),placeholder:f("Unsubscribe from these emails")},{name:"unsubscribeUrl",type:"url",label:f("Unsubscribe URL"),section:f("Unsubscribe Link"),placeholder:"#unsubscribe"},{name:"copyright",type:"text",label:f("Copyright Text"),section:f("Copyright"),placeholder:" 2024 Your Company. All rights reserved."},{name:"linkColor",type:"color",label:f("Link Color"),section:f("Style")}],u1=Ye(o1,{block:l1,save:a1,fields:c1}),d1="countdown",f1="1.0.0",p1="Countdown",h1="Advanced",g1="mdi:timer-outline",m1="Add a countdown timer",x1=["countdown","timer","deadline","urgency"],y1=["email","page","campaign"],v1={align:!0,colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},b1={targetDate:"",targetTime:"23:59",title:"Sale Ends In",backgroundColor:"#1e293b",textColor:"#ffffff",numberColor:"#635bff",align:"center",expiredMessage:"This offer has expired!"},Jd={type:d1,version:f1,label:p1,category:h1,icon:g1,description:m1,keywords:x1,contexts:y1,supports:v1,defaultProps:b1},w1=({props:t,isSelected:l})=>{const[i,a]=x.useState({days:0,hours:0,minutes:0,seconds:0}),[c,d]=x.useState(!1),p=Ir(t.layoutStyles||{});x.useEffect(()=>{const $=()=>{const R=`${t.targetDate}T${t.targetTime||"23:59"}:00`,z=new Date(R)-new Date;return z>0?(d(!1),{days:Math.floor(z/864e5),hours:Math.floor(z/36e5%24),minutes:Math.floor(z/1e3/60%60),seconds:Math.floor(z/1e3%60)}):(d(!0),{days:0,hours:0,minutes:0,seconds:0})};a($());const T=setInterval(()=>{a($())},1e3);return()=>clearInterval(T)},[t.targetDate,t.targetTime]);const m={padding:"24px",backgroundColor:t.backgroundColor||"#1e293b",borderRadius:"8px",textAlign:p.textAlign||t.align||"center"},g=Oe(m,t.layoutStyles),y={color:t.textColor||"#ffffff",fontSize:"18px",fontWeight:"600",marginBottom:"16px",margin:"0 0 16px 0"},b={display:"flex",justifyContent:"center",alignItems:"center",gap:"8px"},v={backgroundColor:"rgba(255,255,255,0.1)",borderRadius:"8px",padding:"12px 16px",minWidth:"70px"},j={color:t.numberColor||"#635bff",fontSize:"36px",fontWeight:"700",lineHeight:"1",display:"block"},E={color:t.textColor||"#ffffff",fontSize:"11px",marginTop:"4px",textTransform:"uppercase",letterSpacing:"1px",display:"block"},L={color:t.numberColor||"#635bff",fontSize:"28px",fontWeight:"700"},S={color:t.textColor||"#ffffff",fontSize:"18px",fontWeight:"600",padding:"20px 0",margin:0},C={marginTop:"12px",padding:"6px 12px",backgroundColor:"rgba(251, 191, 36, 0.15)",color:"#fbbf24",borderRadius:"4px",fontSize:"11px",display:"inline-block"},k=[{value:i.days,label:"Days"},{value:i.hours,label:"Hours"},{value:i.minutes,label:"Mins"},{value:i.seconds,label:"Secs"}];return c?o.jsx("div",{style:g,children:o.jsx("p",{style:S,children:t.expiredMessage||"This offer has expired!"})}):o.jsxs("div",{style:g,children:[t.title&&o.jsx("p",{style:y,children:t.title}),o.jsx("div",{style:b,children:k.map(($,T)=>o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsxs("div",{style:v,children:[o.jsx("span",{style:j,children:String($.value).padStart(2,"0")}),o.jsx("span",{style:E,children:$.label})]}),T<k.length-1&&o.jsx("span",{style:L,children:":"})]},T))}),o.jsx("div",{style:C,children:" Snapshot at send time (won't update live in email)"})]})},k1=(t,l={})=>{const a=rn("countdown",t),c=`countdown-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,d=t.targetDate||new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],p=t.targetTime||"23:59",m=`${d}T${p}:00`,g=["padding: 24px",`text-align: ${t.align||"center"}`];t.layoutStyles?.background?.color||g.push(`background-color: ${t.backgroundColor||"#1e293b"}`),t.layoutStyles?.border||g.push("border-radius: 8px");const y=on(t,g.join("; ")),b=t.layoutStyles?.typography?.color||t.textColor||"#ffffff";return`
        <div class="${a}" id="${c}" data-target="${m}" data-expired-message="${t.expiredMessage||""}" style="${y}">
            ${t.title?`<p style="color: ${b}; font-size: 18px; font-weight: 600; margin: 0 0 16px 0;">${t.title}</p>`:""}
            <div style="display: flex; justify-content: center; gap: 16px; flex-wrap: wrap;">
                <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px; min-width: 60px;">
                    <span class="lb-countdown-days" style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">00</span>
                    <span style="color: ${b}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Days</span>
                </div>
                <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px; min-width: 60px;">
                    <span class="lb-countdown-hours" style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">00</span>
                    <span style="color: ${b}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Hours</span>
                </div>
                <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px; min-width: 60px;">
                    <span class="lb-countdown-mins" style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">00</span>
                    <span style="color: ${b}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Mins</span>
                </div>
                <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px; min-width: 60px;">
                    <span class="lb-countdown-secs" style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">00</span>
                    <span style="color: ${b}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Secs</span>
                </div>
            </div>
        </div>
        <script>
            (function() {
                const el = document.getElementById('${c}');
                if (!el) return;
                const target = new Date(el.dataset.target);
                const expiredMsg = el.dataset.expiredMessage;
                function update() {
                    const now = new Date();
                    const diff = Math.max(0, target - now);
                    if (diff <= 0 && expiredMsg) {
                        el.innerHTML = '<p style="color: #ffffff; font-size: 18px; font-weight: 600; margin: 0;">' + expiredMsg + '</p>';
                        return;
                    }
                    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
                    const mins = Math.floor((diff / 1000 / 60) % 60);
                    const secs = Math.floor((diff / 1000) % 60);
                    el.querySelector('.lb-countdown-days').textContent = String(days).padStart(2, '0');
                    el.querySelector('.lb-countdown-hours').textContent = String(hours).padStart(2, '0');
                    el.querySelector('.lb-countdown-mins').textContent = String(mins).padStart(2, '0');
                    el.querySelector('.lb-countdown-secs').textContent = String(secs).padStart(2, '0');
                }
                update();
                setInterval(update, 1000);
            })();
        <\/script>
    `},C1=(t,l={})=>{const i=t.targetDate||new Date(Date.now()+6048e5).toISOString().split("T")[0],a=t.targetTime||"23:59",c=`${i}T${a}:00`,d=new Date(c),m=Math.max(0,d-new Date),g=Math.floor(m/(1e3*60*60*24)),y=Math.floor(m/(1e3*60*60)%24),b=Math.floor(m/1e3/60%60),v=Math.floor(m/1e3%60);return m<=0&&t.expiredMessage?`
            <div style="padding: 24px; background-color: ${t.backgroundColor||"#1e293b"}; border-radius: 8px; text-align: ${t.align||"center"};">
                <p style="color: ${t.textColor||"#ffffff"}; font-size: 18px; font-weight: 600; margin: 0;">${t.expiredMessage}</p>
            </div>
        `:`
        <div style="padding: 24px; background-color: ${t.backgroundColor||"#1e293b"}; border-radius: 8px; text-align: ${t.align||"center"};">
            ${t.title?`<p style="color: ${t.textColor||"#ffffff"}; font-size: 18px; font-weight: 600; margin: 0 0 16px 0;">${t.title}</p>`:""}
            <table width="100%" cellpadding="0" cellspacing="0" border="0">
                <tr>
                    <td align="center">
                        <table cellpadding="0" cellspacing="0" border="0">
                            <tr>
                                <td style="text-align: center; padding: 0 12px;">
                                    <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px;">
                                        <span style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">${String(g).padStart(2,"0")}</span>
                                        <span style="color: ${t.textColor||"#ffffff"}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Days</span>
                                    </div>
                                </td>
                                <td style="color: ${t.numberColor||"#635bff"}; font-size: 28px; font-weight: 700; padding: 0 4px;">:</td>
                                <td style="text-align: center; padding: 0 12px;">
                                    <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px;">
                                        <span style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">${String(y).padStart(2,"0")}</span>
                                        <span style="color: ${t.textColor||"#ffffff"}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Hours</span>
                                    </div>
                                </td>
                                <td style="color: ${t.numberColor||"#635bff"}; font-size: 28px; font-weight: 700; padding: 0 4px;">:</td>
                                <td style="text-align: center; padding: 0 12px;">
                                    <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px;">
                                        <span style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">${String(b).padStart(2,"0")}</span>
                                        <span style="color: ${t.textColor||"#ffffff"}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Mins</span>
                                    </div>
                                </td>
                                <td style="color: ${t.numberColor||"#635bff"}; font-size: 28px; font-weight: 700; padding: 0 4px;">:</td>
                                <td style="text-align: center; padding: 0 12px;">
                                    <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px;">
                                        <span style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">${String(v).padStart(2,"0")}</span>
                                        <span style="color: ${t.textColor||"#ffffff"}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Secs</span>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
        </div>
    `},S1={page:k1,email:C1},j1=()=>{const t=new Date;return t.setDate(t.getDate()+7),t.toISOString().split("T")[0]},E1={...Jd,defaultProps:{...Jd.defaultProps,targetDate:j1()}},N1=[{name:"targetDate",type:"date",label:f("Target Date"),section:f("Countdown Settings"),required:!0,help:f("The date when the countdown ends")},{name:"targetTime",type:"time",label:f("Target Time"),section:f("Countdown Settings"),help:f("The time when the countdown ends")},{name:"title",type:"text",label:f("Title"),section:f("Countdown Settings"),placeholder:f("Sale Ends In")},{name:"expiredMessage",type:"text",label:f("Expired Message"),section:f("Countdown Settings"),placeholder:f("This offer has expired!"),help:f("Message to show when countdown expires")},{name:"backgroundColor",type:"color",label:f("Background Color"),section:f("Colors")},{name:"textColor",type:"color",label:f("Text Color"),section:f("Colors")},{name:"numberColor",type:"color",label:f("Number Color"),section:f("Colors")},{name:"align",type:"select",label:f("Alignment"),section:f("Layout"),options:[{value:"left",label:f("Left")},{value:"center",label:f("Center")},{value:"right",label:f("Right")}]}],T1=Ye(E1,{block:w1,save:S1,fields:N1}),$1="table",R1="1.0.0",L1="Table",I1="Advanced",A1="mdi:table",_1="Add a data table",B1=["table","data","grid","rows","columns"],D1=["email","page","campaign"],P1={colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},M1={headers:["Product","Qty","Price"],rows:[["Product Name 1","2","$29.99"],["Product Name 2","1","$49.99"]],showHeader:!0,headerBgColor:"#f1f5f9",headerTextColor:"#1e293b",borderColor:"#e2e8f0",cellPadding:"12px",fontSize:"14px"},O1={type:$1,version:R1,label:L1,category:I1,icon:A1,description:_1,keywords:B1,contexts:D1,supports:P1,defaultProps:M1},z1=({props:t})=>{const i=Oe({padding:"8px",borderRadius:"4px"},t.layoutStyles),a={width:"100%",borderCollapse:"collapse",fontSize:t.fontSize||"14px"},c=Oe(a,t.layoutStyles),d={backgroundColor:t.headerBgColor||"#f1f5f9",color:t.headerTextColor||"#1e293b",padding:t.cellPadding||"12px",textAlign:"left",fontWeight:"600",borderBottom:`2px solid ${t.borderColor||"#e2e8f0"}`},p={padding:t.cellPadding||"12px",borderBottom:`1px solid ${t.borderColor||"#e2e8f0"}`,color:"#374151"},m=t.headers||[],g=t.rows||[];return o.jsx("div",{style:i,children:o.jsxs("table",{style:c,children:[t.showHeader&&m.length>0&&o.jsx("thead",{children:o.jsx("tr",{children:m.map((y,b)=>o.jsx("th",{style:d,children:y},b))})}),o.jsx("tbody",{children:g.map((y,b)=>o.jsx("tr",{children:y.map((v,j)=>o.jsx("td",{style:p,children:v},j))},b))})]})})},H1=({props:t,onUpdate:l})=>{const i=(C,k)=>{l({...t,[C]:k})},a=(C,k)=>{const $=[...t.headers||[]];$[C]=k,i("headers",$)},c=(C,k,$)=>{const T=[...t.rows||[]];T[C]=[...T[C]],T[C][k]=$,i("rows",T)},d=()=>{const C=[...t.headers||[],"New Column"],k=(t.rows||[]).map($=>[...$,""]);l({...t,headers:C,rows:k})},p=C=>{const k=[...t.headers||[]];k.splice(C,1);const $=(t.rows||[]).map(T=>{const R=[...T];return R.splice(C,1),R});l({...t,headers:k,rows:$})},m=()=>{const C=[...t.rows||[]],k=(t.headers||[]).length;C.push(Array(k).fill("")),i("rows",C)},g=C=>{const k=[...t.rows||[]];k.splice(C,1),i("rows",k)},y={marginBottom:"16px"},b={display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},v={fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"12px",paddingBottom:"8px",borderBottom:"1px solid #e5e7eb"},j={width:"100%",borderCollapse:"collapse",fontSize:"12px",marginBottom:"12px"},E={width:"100%",padding:"6px",fontSize:"12px",border:"1px solid #d1d5db",borderRadius:"4px"},S={...{padding:"6px 12px",fontSize:"12px",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",backgroundColor:"#ffffff"},color:"#dc2626",borderColor:"#dc2626",padding:"4px 8px"};return o.jsxs("div",{children:[o.jsxs("div",{style:y,children:[o.jsx("div",{style:v,children:f("Table Data")}),o.jsx("div",{style:{marginBottom:"12px"},children:o.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:t.showHeader!==!1,onChange:C=>i("showHeader",C.target.checked),style:{marginRight:"8px"}}),o.jsx("span",{style:b,children:f("Show Header Row")})]})}),o.jsx("div",{style:{overflowX:"auto",marginBottom:"12px"},children:o.jsxs("table",{style:j,children:[t.showHeader!==!1&&o.jsx("thead",{children:o.jsx("tr",{children:(t.headers||[]).map((C,k)=>o.jsxs("th",{style:{padding:"4px",position:"relative"},children:[o.jsx("input",{type:"text",value:C,onChange:$=>a(k,$.target.value),style:E,placeholder:`Column ${k+1}`}),o.jsx("button",{onClick:()=>p(k),style:{...S,marginTop:"4px",width:"100%"},title:"Remove column",children:o.jsx("iconify-icon",{icon:"mdi:delete",width:"14",height:"14"})})]},k))})}),o.jsx("tbody",{children:(t.rows||[]).map((C,k)=>o.jsxs("tr",{children:[C.map(($,T)=>o.jsx("td",{style:{padding:"4px"},children:o.jsx("input",{type:"text",value:$,onChange:R=>c(k,T,R.target.value),style:E,placeholder:`Cell ${k+1}-${T+1}`})},T)),o.jsx("td",{style:{padding:"4px",width:"40px"},children:o.jsx("button",{onClick:()=>g(k),style:S,title:"Remove row",children:o.jsx("iconify-icon",{icon:"mdi:delete",width:"14",height:"14"})})})]},k))})]})}),o.jsxs("div",{style:{display:"flex",gap:"8px"},children:[o.jsxs("button",{onClick:m,className:"btn btn-default",style:{flex:1,fontSize:"12px",padding:"8px"},children:[o.jsx("iconify-icon",{icon:"mdi:plus",width:"16",height:"16"})," ",f("Add Row")]}),o.jsxs("button",{onClick:d,className:"btn btn-default",style:{flex:1,fontSize:"12px",padding:"8px"},children:[o.jsx("iconify-icon",{icon:"mdi:plus",width:"16",height:"16"})," ",f("Add Column")]})]})]}),o.jsxs("div",{style:y,children:[o.jsx("div",{style:v,children:f("Style")}),o.jsx("label",{style:b,children:f("Font Size")}),o.jsxs("select",{value:t.fontSize||"14px",onChange:C=>i("fontSize",C.target.value),className:"form-control mb-3",children:[o.jsxs("option",{value:"12px",children:[f("Small")," (12px)"]}),o.jsxs("option",{value:"14px",children:[f("Medium")," (14px)"]}),o.jsxs("option",{value:"16px",children:[f("Large")," (16px)"]}),o.jsxs("option",{value:"18px",children:[f("X-Large")," (18px)"]})]}),o.jsx("label",{style:b,children:f("Cell Padding")}),o.jsxs("select",{value:t.cellPadding||"12px",onChange:C=>i("cellPadding",C.target.value),className:"form-control",children:[o.jsxs("option",{value:"8px",children:[f("Small")," (8px)"]}),o.jsxs("option",{value:"12px",children:[f("Medium")," (12px)"]}),o.jsxs("option",{value:"16px",children:[f("Large")," (16px)"]}),o.jsxs("option",{value:"20px",children:[f("X-Large")," (20px)"]})]})]}),o.jsxs("div",{style:y,children:[o.jsx("div",{style:v,children:f("Colors")}),o.jsx("label",{style:b,children:f("Header Background Color")}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[o.jsx("input",{type:"color",value:t.headerBgColor||"#f1f5f9",onChange:C=>i("headerBgColor",C.target.value),style:{width:"40px",height:"36px",padding:"2px",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer"}}),o.jsx("input",{type:"text",value:t.headerBgColor||"#f1f5f9",onChange:C=>i("headerBgColor",C.target.value),className:"form-control",style:{flex:1}})]}),o.jsx("label",{style:b,children:f("Header Text Color")}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[o.jsx("input",{type:"color",value:t.headerTextColor||"#1e293b",onChange:C=>i("headerTextColor",C.target.value),style:{width:"40px",height:"36px",padding:"2px",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer"}}),o.jsx("input",{type:"text",value:t.headerTextColor||"#1e293b",onChange:C=>i("headerTextColor",C.target.value),className:"form-control",style:{flex:1}})]}),o.jsx("label",{style:b,children:f("Border Color")}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx("input",{type:"color",value:t.borderColor||"#e2e8f0",onChange:C=>i("borderColor",C.target.value),style:{width:"40px",height:"36px",padding:"2px",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer"}}),o.jsx("input",{type:"text",value:t.borderColor||"#e2e8f0",onChange:C=>i("borderColor",C.target.value),className:"form-control",style:{flex:1}})]})]})]})},F1=(t,l={})=>{const a=rn("table",t),c=(t.headers||[]).map(b=>`<th style="background-color: ${t.headerBgColor||"#f1f5f9"}; color: ${t.headerTextColor||"#1e293b"}; padding: ${t.cellPadding||"12px"}; text-align: left; font-weight: 600; border-bottom: 2px solid ${t.borderColor||"#e2e8f0"};">${b}</th>`).join(""),d=t.layoutStyles?.typography?.color||"#374151",p=(t.rows||[]).map(b=>`<tr>${b.map(v=>`<td style="padding: ${t.cellPadding||"12px"}; border-bottom: 1px solid ${t.borderColor||"#e2e8f0"}; color: ${d};">${v}</td>`).join("")}</tr>`).join(""),m=t.layoutStyles?.typography?.fontSize||t.fontSize||"14px",y=on(t,"overflow-x: auto");return`
        <div class="${a}" style="${y}">
            <table class="lb-table-inner" style="width: 100%; font-size: ${m}; border-collapse: collapse;">
                ${t.showHeader&&c?`<thead><tr>${c}</tr></thead>`:""}
                <tbody>${p}</tbody>
            </table>
        </div>
    `},W1=(t,l={})=>{const i=(t.headers||[]).map(c=>`<th style="background-color: ${t.headerBgColor||"#f1f5f9"}; color: ${t.headerTextColor||"#1e293b"}; padding: ${t.cellPadding||"12px"}; text-align: left; font-weight: 600; border-bottom: 2px solid ${t.borderColor||"#e2e8f0"};">${c}</th>`).join(""),a=(t.rows||[]).map(c=>`<tr>${c.map(d=>`<td style="padding: ${t.cellPadding||"12px"}; border-bottom: 1px solid ${t.borderColor||"#e2e8f0"}; color: #374151;">${d}</td>`).join("")}</tr>`).join("");return`
        <table width="100%" cellpadding="0" cellspacing="0" border="0" style="font-size: ${t.fontSize||"14px"}; border-collapse: collapse;">
            ${t.showHeader&&i?`<thead><tr>${i}</tr></thead>`:""}
            <tbody>${a}</tbody>
        </table>
    `},U1={page:F1,email:W1},V1=Ye(O1,{block:z1,editor:H1,save:U1}),K1="code",G1="1.0.0",X1="Code",Y1="Advanced",Q1="mdi:code-braces",q1="Add a code snippet with syntax highlighting",J1=["code","snippet","programming","syntax","highlight"],Z1=["email","page","campaign"],ew={colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},tw={code:`<?php
echo "Hello World";
?>`,language:"php",fontSize:"14px",backgroundColor:"#1e1e1e",textColor:"#d4d4d4",borderRadius:"8px"},nw={type:K1,version:G1,label:X1,category:Y1,icon:Q1,description:q1,keywords:J1,contexts:Z1,supports:ew,defaultProps:tw},rw=t=>{const l=document.createElement("div");return l.textContent=t,l.innerHTML},ow=()=>{if(window.Prism)return Promise.resolve();const t=a=>new Promise((c,d)=>{const p=document.createElement("script");p.src=a,p.onload=c,p.onerror=d,document.head.appendChild(p)});if(!document.querySelector('link[href*="prism-tomorrow"]')){const a=document.createElement("link");a.rel="stylesheet",a.href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css",document.head.appendChild(a)}if(!document.querySelector('link[href*="prism-toolbar"]')){const a=document.createElement("link");a.rel="stylesheet",a.href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css",document.head.appendChild(a)}const l="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/",i=["markup","css","clike","javascript","markup-templating","php","typescript","jsx","tsx","scss","bash","json","yaml","sql","python"];return t(l+"prism.min.js").then(()=>i.reduce((a,c)=>a.then(()=>t(l+"components/prism-"+c+".min.js").catch(()=>{console.warn("Failed to load Prism language:",c)})),Promise.resolve())).then(()=>t(l+"plugins/toolbar/prism-toolbar.min.js")).then(()=>t(l+"plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"))},lw=({props:t,onUpdate:l,isSelected:i})=>{const a=x.useRef(null),c=x.useRef(null),d=x.useRef(t.code),p=x.useRef(t),m=x.useRef(l),[g,y]=x.useState(!!window.Prism);p.current=t,m.current=l,x.useEffect(()=>{window.Prism||ow().then(()=>{y(!0)})},[]),x.useEffect(()=>{!i&&g&&c.current&&window.Prism&&setTimeout(()=>{c.current&&window.Prism&&window.Prism.highlightAllUnder(c.current)},0)},[i,g,t.code,t.language]);const{handleContentChange:b}=cl({editorRef:a,contentKey:"code",useInnerHTML:!1,propsRef:p,onUpdateRef:m,lastContentRef:d}),v=x.useCallback(()=>{b()},[b]);x.useEffect(()=>{i&&a.current&&a.current.textContent===""&&(a.current.textContent=t.code||"",d.current=t.code)},[i]),x.useEffect(()=>{i&&a.current&&t.code!==d.current&&(a.current.textContent=t.code||"",d.current=t.code)},[t.code,i]),x.useEffect(()=>{i&&a.current&&requestAnimationFrame(()=>{if(a.current){a.current.focus();const C=document.createRange();C.selectNodeContents(a.current),C.collapse(!1);const k=window.getSelection();k.removeAllRanges(),k.addRange(C)}})},[i]);const j=t.language||"php",E={fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace',fontSize:t.fontSize||"14px",lineHeight:"1.5",borderRadius:t.borderRadius||"8px",backgroundColor:"#1e1e1e",overflowX:"auto"},L=Oe(E,t.layoutStyles),S=`
        .code-block-preview pre[class*="language-"] {
            margin: 0 !important;
            padding: 16px !important;
            background: #1e1e1e !important;
            border-radius: ${t.borderRadius||"8px"} !important;
            font-size: ${t.fontSize||"14px"} !important;
        }
        .code-block-preview code[class*="language-"] {
            font-size: inherit !important;
            font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace !important;
        }
        .code-block-preview .code-toolbar .toolbar {
            opacity: 1;
            top: 8px;
            right: 8px;
        }
        .code-block-preview .code-toolbar .toolbar-item button {
            background: #3b3b3b !important;
            color: #e5e7eb !important;
            border-radius: 4px !important;
            padding: 4px 10px !important;
            font-size: 12px !important;
            box-shadow: none !important;
            border: 1px solid #4b4b4b !important;
            transition: all 0.2s ease !important;
            cursor: pointer;
        }
        .code-block-preview .code-toolbar .toolbar-item button:hover {
            background: #4b4b4b !important;
            color: #fff !important;
        }
    `;return i?o.jsx("div",{"data-text-editing":"true",className:"relative",children:o.jsx("pre",{ref:a,contentEditable:!0,suppressContentEditableWarning:!0,onInput:v,onBlur:v,style:{...L,padding:"16px",color:"#d4d4d4",whiteSpace:"pre-wrap",wordBreak:"break-word",outline:"none",margin:0,minHeight:"60px"}})},"code-editor"):o.jsxs("div",{ref:c,className:"code-block-preview",style:{position:"relative"},children:[o.jsx("style",{children:S}),o.jsx("pre",{className:`language-${j}`,style:{...L,margin:0},children:o.jsx("code",{className:`language-${j}`,dangerouslySetInnerHTML:{__html:rw(t.code||"Click to add code...")}})})]},"code-preview")},iw=t=>t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):"",sw=(t,l={})=>{const i={code:t.code||"",language:t.language||"plaintext",fontSize:t.fontSize||"14px",backgroundColor:t.backgroundColor||"#1e1e1e",textColor:t.textColor||"#d4d4d4",borderRadius:t.borderRadius||"8px",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="code" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},aw=(t,l={})=>{const i=iw(t.code||""),a=t.backgroundColor||"#1e1e1e",c=t.textColor||"#d4d4d4",d=t.fontSize||"14px",p=t.borderRadius||"8px";return`
        <div style="background-color: ${a}; border-radius: ${p}; padding: 16px; overflow-x: auto; font-family: monospace; font-size: ${d}; line-height: 1.5; color: ${c};">
            <pre style="margin: 0; white-space: pre-wrap; word-wrap: break-word;">${i}</pre>
        </div>
    `},cw={page:sw,email:aw},uw=[{name:"language",type:"select",label:f("Language"),section:f("Settings"),options:[{value:"markup",label:"HTML"},{value:"css",label:"CSS"},{value:"javascript",label:"JavaScript"},{value:"typescript",label:"TypeScript"},{value:"jsx",label:"JSX (React)"},{value:"tsx",label:"TSX (React)"},{value:"php",label:"PHP"},{value:"python",label:"Python"},{value:"bash",label:"Bash / Shell"},{value:"sql",label:"SQL"},{value:"json",label:"JSON"},{value:"yaml",label:"YAML"},{value:"scss",label:"SCSS"},{value:"plaintext",label:"Plain Text"}]},{name:"fontSize",type:"select",label:f("Font Size"),section:f("Typography"),options:[{value:"12px",label:f("X-Small")+" (12px)"},{value:"14px",label:f("Small")+" (14px)"},{value:"16px",label:f("Medium")+" (16px)"},{value:"18px",label:f("Large")+" (18px)"}]},{name:"borderRadius",type:"select",label:f("Border Radius"),section:f("Style"),options:[{value:"0",label:f("None")},{value:"4px",label:f("Small")+" (4px)"},{value:"6px",label:f("Medium")+" (6px)"},{value:"8px",label:f("Large")+" (8px)"},{value:"12px",label:f("X-Large")+" (12px)"}]}],dw=Ye(nw,{block:lw,save:cw,fields:uw}),fw="preformatted",pw="1.0.0",hw="Preformatted",gw="Content",mw="mdi:format-text-wrapping-wrap",xw="Add preformatted text with monospace font",yw=["preformatted","pre","monospace","fixed","code"],vw=["email","page","campaign"],bw={layout:!0,html:!0,duplicate:!0,remove:!0},ww={text:"Write preformatted text...",backgroundColor:"#f5f5f5",textColor:"#333333",borderColor:"#e0e0e0",borderRadius:"4px"},kw={type:fw,version:pw,label:hw,category:gw,icon:mw,description:xw,keywords:yw,contexts:vw,supports:bw,defaultProps:ww},Cw=({props:t,onUpdate:l,isSelected:i,onRegisterTextFormat:a})=>{const c=x.useRef(null),d=x.useRef(t.text),p=x.useRef(t),m=x.useRef(l);p.current=t,m.current=l;const{handleContentChange:g}=cl({editorRef:c,contentKey:"text",useInnerHTML:!0,propsRef:p,onUpdateRef:m,lastContentRef:d}),y=x.useCallback(()=>{g()},[g]),b=x.useCallback(E=>{m.current({...p.current,align:E})},[]);x.useEffect(()=>{i&&c.current&&(c.current.innerHTML===""||c.current.innerHTML==="<br>")&&(c.current.innerHTML=t.text||"",d.current=t.text)},[i]),x.useEffect(()=>{i&&c.current&&t.text!==d.current&&(c.current.innerHTML=t.text||"",d.current=t.text)},[t.text,i]),x.useEffect(()=>{i&&a?a({editorRef:c,isContentEditable:!0,align:p.current.align||"left",onAlignChange:b}):!i&&a&&a(null)},[i,a,b]),x.useEffect(()=>{i&&c.current&&requestAnimationFrame(()=>{if(c.current){c.current.focus();const E=document.createRange();E.selectNodeContents(c.current),E.collapse(!1);const L=window.getSelection();L.removeAllRanges(),L.addRange(E)}})},[i]);const j=Oe({fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace',fontSize:"14px",lineHeight:"1.6",padding:"16px",borderRadius:"4px",backgroundColor:"#f5f5f5",color:"#333333",border:"1px solid #e0e0e0",overflowX:"auto",whiteSpace:"pre-wrap",wordBreak:"break-word"},t.layoutStyles);return i?o.jsx("div",{"data-text-editing":"true",className:"relative",children:o.jsx("pre",{ref:c,contentEditable:!0,suppressContentEditableWarning:!0,onInput:y,onBlur:y,style:{...j,border:"2px solid var(--color-primary, #635bff)",outline:"none",margin:0,minHeight:"60px"}})}):o.jsx("pre",{style:{...j,margin:0},dangerouslySetInnerHTML:{__html:t.text||"Write preformatted text..."}})},Sw=t=>{const i=rn("preformatted",t),a=t.text||"",c=["overflow-x: auto","white-space: pre-wrap","word-wrap: break-word"];t.layoutStyles?.typography?.fontFamily||c.push('font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace'),t.layoutStyles?.typography?.fontSize||c.push("font-size: 14px"),t.layoutStyles?.typography?.lineHeight||c.push("line-height: 1.6"),t.layoutStyles?.typography?.color||c.push("color: #333333"),t.layoutStyles?.background?.color||c.push("background-color: #f5f5f5"),t.layoutStyles?.border?.width||c.push("border: 1px solid #e0e0e0"),t.layoutStyles?.border?.radius||c.push("border-radius: 4px"),t.layoutStyles?.spacing?.padding||c.push("padding: 16px");const d=on(t,c.join("; "));return`<pre class="${i}" style="margin: 0; ${d}">${a}</pre>`},jw=t=>{const l=t.text||"",i=t.layoutStyles||{},a=i.background?.color||"#f5f5f5",c=i.typography?.color||"#333333",d=i.typography?.fontSize||"14px",p=i.typography?.lineHeight||"1.6",m=i.spacing?.padding||"16px",g=i.border?.radius||"4px",y=i.border?.width||"1px",b=i.border?.color||"#e0e0e0";return`<pre style="margin: 0; background-color: ${a}; border-radius: ${g}; padding: ${m}; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word; font-family: monospace; font-size: ${d}; line-height: ${p}; color: ${c}; border: ${y} solid ${b};">${l}</pre>`},Ew={page:Sw,email:jw},Nw=[{name:"borderRadius",type:"text",label:f("Border Radius"),section:f("Style"),placeholder:"4px"},{name:"backgroundColor",type:"color",label:f("Background Color"),section:f("Colors")},{name:"textColor",type:"color",label:f("Text Color"),section:f("Colors")},{name:"borderColor",type:"color",label:f("Border Color"),section:f("Colors")}],Tw=Ye(kw,{block:Cw,save:Ew,fields:Nw}),$w="accordion",Rw="1.0.0",Lw="Accordion",Iw="Content",Aw="mdi:arrow-collapse-vertical",_w="Add collapsible accordion sections",Bw=["accordion","collapse","expand","faq"],Dw=["email","page","campaign"],Pw={colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},Mw={items:[{title:"Accordion Item 1",content:"Content for the first accordion item."},{title:"Accordion Item 2",content:"Content for the second accordion item."}],independentToggle:!1,transitionDuration:200,headerBgColor:"#ffffff",headerBgColorActive:"#f9fafb",headerPadding:"16px",titleColor:"#1f2937",titleFontSize:"16px",titleFontWeight:"600",contentBgColor:"#ffffff",contentColor:"#4b5563",contentFontSize:"14px",contentPadding:"16px",iconColor:"#6b7280",iconPosition:"right",borderColor:"#e5e7eb",borderRadius:"8px"},Ow=[{name:"items",type:"array",label:"Accordion Items"},{name:"independentToggle",type:"boolean",label:"Independent Toggle"},{name:"transitionDuration",type:"number",label:"Transition Duration (ms)"},{name:"headerBgColor",type:"color",label:"Header Background Color"},{name:"headerBgColorActive",type:"color",label:"Header Active Background Color"},{name:"headerPadding",type:"text",label:"Header Padding"},{name:"titleColor",type:"color",label:"Title Color"},{name:"titleFontSize",type:"text",label:"Title Font Size"},{name:"titleFontWeight",type:"select",label:"Title Font Weight",options:[{value:"400",label:"Normal (400)"},{value:"500",label:"Medium (500)"},{value:"600",label:"Semi-bold (600)"},{value:"700",label:"Bold (700)"}]},{name:"contentBgColor",type:"color",label:"Content Background Color"},{name:"contentColor",type:"color",label:"Content Color"},{name:"contentFontSize",type:"text",label:"Content Font Size"},{name:"contentPadding",type:"text",label:"Content Padding"},{name:"iconColor",type:"color",label:"Icon Color"},{name:"iconPosition",type:"select",label:"Icon Position",options:[{value:"left",label:"Left"},{value:"right",label:"Right"}]},{name:"borderColor",type:"color",label:"Border Color"},{name:"borderRadius",type:"text",label:"Border Radius"}],zw={type:$w,version:Rw,label:Lw,category:Iw,icon:Aw,description:_w,keywords:Bw,contexts:Dw,supports:Pw,defaultProps:Mw,properties:Ow},Hw=({props:t,isSelected:l,onUpdate:i})=>{const[a,c]=x.useState([0]),[d,p]=x.useState(null),m=x.useRef(null),g=x.useRef(t),y=x.useRef(i);g.current=t,y.current=i;const b=t.items||[{title:"Accordion Item 1",content:"Content for the first accordion item."}],v=K=>{t.independentToggle?c(G=>G.includes(K)?G.filter(M=>M!==K):[...G,K]):c(G=>G.includes(K)?[]:[K])},j=()=>{const K=[...b,{title:"New Item",content:"Content goes here..."}];y.current({...g.current,items:K})},E=(K,G)=>{if(G.stopPropagation(),b.length<=1)return;const M=b.filter((Z,te)=>te!==K);y.current({...g.current,items:M}),c(Z=>Z.filter(te=>te!==K).map(te=>te>K?te-1:te))},L=(K,G,M)=>{M.stopPropagation(),p({index:K,field:G})},S=x.useCallback(()=>{if(m.current&&d){const K=m.current.innerText,G=[...g.current.items];G[d.index]={...G[d.index],[d.field]:K},y.current({...g.current,items:G})}},[d]),C=()=>{S(),p(null)},k=K=>{K.key==="Enter"&&d?.field==="title"?(K.preventDefault(),C()):K.key==="Escape"&&p(null)};x.useEffect(()=>{if(d&&m.current){m.current.focus();const K=document.createRange();K.selectNodeContents(m.current),K.collapse(!1);const G=window.getSelection();G.removeAllRanges(),G.addRange(K)}},[d]);const T=Oe({padding:"8px",borderRadius:"8px"},t.layoutStyles),R={border:`1px solid ${t.borderColor||"#e5e7eb"}`,borderRadius:t.borderRadius||"8px",overflow:"hidden"},O=K=>({borderBottom:K?"none":`1px solid ${t.borderColor||"#e5e7eb"}`}),F=K=>({display:"flex",alignItems:"center",justifyContent:"space-between",padding:t.headerPadding||"16px",backgroundColor:K?t.headerBgColorActive||t.headerBgColor||"#f9fafb":t.headerBgColor||"#ffffff",cursor:"pointer",transition:"background-color 0.2s",userSelect:"none"}),z={fontWeight:t.titleFontWeight||"600",fontSize:t.titleFontSize||"16px",color:t.titleColor||"#1f2937",margin:0,flex:1},W={padding:t.contentPadding||"16px",backgroundColor:t.contentBgColor||"#ffffff",color:t.contentColor||"#4b5563",fontSize:t.contentFontSize||"14px",lineHeight:"1.6"},Y=K=>({color:t.iconColor||"#6b7280",transition:`transform ${t.transitionDuration||200}ms ease`,transform:K?"rotate(180deg)":"rotate(0deg)",flexShrink:0,marginLeft:"12px"});return o.jsxs("div",{style:T,children:[o.jsx("div",{style:R,children:b.map((K,G)=>{const M=a.includes(G),Z=G===b.length-1,te=d?.index===G&&d?.field==="title",se=d?.index===G&&d?.field==="content";return o.jsxs("div",{style:O(Z),children:[o.jsxs("div",{style:F(M),onClick:()=>!d&&v(G),children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",flex:1,gap:"8px"},children:[t.iconPosition==="left"&&o.jsx("span",{style:{...Y(M),marginLeft:0,marginRight:"12px"},children:o.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("polyline",{points:"6 9 12 15 18 9"})})}),l&&te?o.jsx("div",{ref:m,contentEditable:!0,suppressContentEditableWarning:!0,onBlur:C,onKeyDown:k,onClick:me=>me.stopPropagation(),style:{...z,outline:"none",border:"1px solid var(--color-primary, #635bff)",borderRadius:"4px",padding:"4px 8px",backgroundColor:"white"},children:K.title}):o.jsx("h3",{style:z,onDoubleClick:me=>l&&L(G,"title",me),children:K.title})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l&&b.length>1&&o.jsx("button",{type:"button",onClick:me=>E(G,me),style:{padding:"4px",border:"none",background:"none",cursor:"pointer",color:"#ef4444",opacity:.7},title:"Delete item",children:o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})})}),t.iconPosition!=="left"&&o.jsx("span",{style:Y(M),children:o.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("polyline",{points:"6 9 12 15 18 9"})})})]})]}),o.jsx("div",{style:{maxHeight:M?"1000px":"0",overflow:"hidden",transition:`max-height ${t.transitionDuration||200}ms ease-in-out`},children:l&&se?o.jsx("div",{ref:m,contentEditable:!0,suppressContentEditableWarning:!0,onBlur:C,onKeyDown:me=>me.key==="Escape"&&C(),style:{...W,outline:"none",border:"2px solid var(--color-primary, #635bff)",minHeight:"80px"},children:K.content}):o.jsx("div",{style:W,onDoubleClick:me=>l&&L(G,"content",me),children:K.content||"Click to add content..."})})]},G)})}),l&&o.jsxs("button",{type:"button",onClick:j,style:{display:"flex",alignItems:"center",gap:"6px",marginTop:"12px",padding:"8px 16px",backgroundColor:"var(--color-primary, #635bff)",color:"white",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),o.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Accordion Item"]}),l&&o.jsx("p",{style:{marginTop:"8px",fontSize:"12px",color:"#6b7280"},children:"Double-click on title or content to edit"})]})},Fw=({props:t,onUpdate:l})=>{const i=(g,y)=>{l({...t,[g]:y})},a={marginBottom:"16px"},c={display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},d={fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"12px",paddingBottom:"8px",borderBottom:"1px solid #e5e7eb"},p={display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},m={width:"40px",height:"36px",padding:"2px",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer"};return o.jsxs("div",{children:[o.jsxs("div",{style:a,children:[o.jsx("div",{style:d,children:f("Behavior")}),o.jsxs("label",{style:{...c,display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:t.independentToggle||!1,onChange:g=>i("independentToggle",g.target.checked),style:{cursor:"pointer"}}),o.jsx("span",{children:f("Allow Multiple Items Open")})]}),o.jsxs("div",{style:{marginTop:"12px"},children:[o.jsx("label",{style:c,children:f("Transition Duration (ms)")}),o.jsx("input",{type:"number",value:t.transitionDuration||200,onChange:g=>i("transitionDuration",parseInt(g.target.value)||200),className:"form-control",min:"0",max:"1000",step:"50"})]})]}),o.jsxs("div",{style:a,children:[o.jsx("div",{style:d,children:f("Header Styling")}),o.jsx("label",{style:c,children:f("Background Color")}),o.jsxs("div",{style:p,children:[o.jsx("input",{type:"color",value:t.headerBgColor||"#ffffff",onChange:g=>i("headerBgColor",g.target.value),style:m}),o.jsx("input",{type:"text",value:t.headerBgColor||"#ffffff",onChange:g=>i("headerBgColor",g.target.value),className:"form-control",style:{flex:1},placeholder:"#ffffff"})]}),o.jsx("label",{style:c,children:f("Active Background Color")}),o.jsxs("div",{style:p,children:[o.jsx("input",{type:"color",value:t.headerBgColorActive||"#f9fafb",onChange:g=>i("headerBgColorActive",g.target.value),style:m}),o.jsx("input",{type:"text",value:t.headerBgColorActive||"#f9fafb",onChange:g=>i("headerBgColorActive",g.target.value),className:"form-control",style:{flex:1},placeholder:"#f9fafb"})]}),o.jsx("label",{style:c,children:f("Padding")}),o.jsx("input",{type:"text",value:t.headerPadding||"16px",onChange:g=>i("headerPadding",g.target.value),className:"form-control",placeholder:"16px"})]}),o.jsxs("div",{style:a,children:[o.jsx("div",{style:d,children:f("Title Styling")}),o.jsx("label",{style:c,children:f("Color")}),o.jsxs("div",{style:p,children:[o.jsx("input",{type:"color",value:t.titleColor||"#1f2937",onChange:g=>i("titleColor",g.target.value),style:m}),o.jsx("input",{type:"text",value:t.titleColor||"#1f2937",onChange:g=>i("titleColor",g.target.value),className:"form-control",style:{flex:1},placeholder:"#1f2937"})]}),o.jsx("label",{style:c,children:f("Font Size")}),o.jsxs("select",{value:t.titleFontSize||"16px",onChange:g=>i("titleFontSize",g.target.value),className:"form-control",style:{marginBottom:"12px"},children:[o.jsx("option",{value:"12px",children:"12px"}),o.jsx("option",{value:"14px",children:"14px"}),o.jsx("option",{value:"16px",children:"16px"}),o.jsx("option",{value:"18px",children:"18px"}),o.jsx("option",{value:"20px",children:"20px"}),o.jsx("option",{value:"24px",children:"24px"})]}),o.jsx("label",{style:c,children:f("Font Weight")}),o.jsxs("select",{value:t.titleFontWeight||"600",onChange:g=>i("titleFontWeight",g.target.value),className:"form-control",children:[o.jsxs("option",{value:"400",children:[f("Normal")," (400)"]}),o.jsxs("option",{value:"500",children:[f("Medium")," (500)"]}),o.jsxs("option",{value:"600",children:[f("Semi-bold")," (600)"]}),o.jsxs("option",{value:"700",children:[f("Bold")," (700)"]})]})]}),o.jsxs("div",{style:a,children:[o.jsx("div",{style:d,children:f("Content Styling")}),o.jsx("label",{style:c,children:f("Background Color")}),o.jsxs("div",{style:p,children:[o.jsx("input",{type:"color",value:t.contentBgColor||"#ffffff",onChange:g=>i("contentBgColor",g.target.value),style:m}),o.jsx("input",{type:"text",value:t.contentBgColor||"#ffffff",onChange:g=>i("contentBgColor",g.target.value),className:"form-control",style:{flex:1},placeholder:"#ffffff"})]}),o.jsx("label",{style:c,children:f("Text Color")}),o.jsxs("div",{style:p,children:[o.jsx("input",{type:"color",value:t.contentColor||"#4b5563",onChange:g=>i("contentColor",g.target.value),style:m}),o.jsx("input",{type:"text",value:t.contentColor||"#4b5563",onChange:g=>i("contentColor",g.target.value),className:"form-control",style:{flex:1},placeholder:"#4b5563"})]}),o.jsx("label",{style:c,children:f("Font Size")}),o.jsxs("select",{value:t.contentFontSize||"14px",onChange:g=>i("contentFontSize",g.target.value),className:"form-control",style:{marginBottom:"12px"},children:[o.jsx("option",{value:"12px",children:"12px"}),o.jsx("option",{value:"14px",children:"14px"}),o.jsx("option",{value:"16px",children:"16px"}),o.jsx("option",{value:"18px",children:"18px"})]}),o.jsx("label",{style:c,children:f("Padding")}),o.jsx("input",{type:"text",value:t.contentPadding||"16px",onChange:g=>i("contentPadding",g.target.value),className:"form-control",placeholder:"16px"})]}),o.jsxs("div",{style:a,children:[o.jsx("div",{style:d,children:f("Icon")}),o.jsx("label",{style:c,children:f("Color")}),o.jsxs("div",{style:p,children:[o.jsx("input",{type:"color",value:t.iconColor||"#6b7280",onChange:g=>i("iconColor",g.target.value),style:m}),o.jsx("input",{type:"text",value:t.iconColor||"#6b7280",onChange:g=>i("iconColor",g.target.value),className:"form-control",style:{flex:1},placeholder:"#6b7280"})]}),o.jsx("label",{style:c,children:f("Position")}),o.jsxs("select",{value:t.iconPosition||"right",onChange:g=>i("iconPosition",g.target.value),className:"form-control",children:[o.jsx("option",{value:"left",children:f("Left")}),o.jsx("option",{value:"right",children:f("Right")})]})]}),o.jsxs("div",{style:a,children:[o.jsx("div",{style:d,children:f("Border")}),o.jsx("label",{style:c,children:f("Color")}),o.jsxs("div",{style:p,children:[o.jsx("input",{type:"color",value:t.borderColor||"#e5e7eb",onChange:g=>i("borderColor",g.target.value),style:m}),o.jsx("input",{type:"text",value:t.borderColor||"#e5e7eb",onChange:g=>i("borderColor",g.target.value),className:"form-control",style:{flex:1},placeholder:"#e5e7eb"})]}),o.jsx("label",{style:c,children:f("Border Radius")}),o.jsx("input",{type:"text",value:t.borderRadius||"8px",onChange:g=>i("borderRadius",g.target.value),className:"form-control",placeholder:"8px"})]}),o.jsxs("div",{style:{padding:"12px",backgroundColor:"#f3f4f6",borderRadius:"6px",fontSize:"12px",color:"#6b7280",lineHeight:"1.5"},children:[o.jsx("strong",{style:{color:"#374151"},children:f("Tip:")})," ",f('Double-click on titles or content in the canvas to edit them directly. Use the "Add Accordion Item" button to add more items.')]})]})},Ww=(t,l={})=>{const a=rn("accordion",t),c=t.items||[{title:"Accordion Item",content:"Content goes here..."}],d=`accordion-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,p=t.layoutStyles?.border?.color||t.borderColor||"#e5e7eb",m=t.layoutStyles?.border?.radius||t.borderRadius||"8px",g=t.headerBgColor||"#ffffff",y=t.headerBgColorActive||"#f9fafb",b=t.headerPadding||"16px",v=t.layoutStyles?.typography?.color||t.titleColor||"#1f2937",j=t.layoutStyles?.typography?.fontSize||t.titleFontSize||"16px",E=t.layoutStyles?.typography?.fontWeight||t.titleFontWeight||"600",L=t.contentBgColor||"#ffffff",S=t.contentColor||"#4b5563",C=t.contentFontSize||"14px",k=t.contentPadding||"16px",$=t.iconColor||"#6b7280",T=t.iconPosition||"right",R=t.transitionDuration||200,O=t.independentToggle||!1,F=c.map((Y,K)=>{const G=K===c.length-1,M=`${d}-item-${K}`;return`
            <div class="lb-accordion-item" data-index="${K}" style="border-bottom: ${G?"none":`1px solid ${p}`};">
                <button type="button" class="lb-accordion-header" data-target="${M}" style="display: flex; align-items: center; justify-content: space-between; width: 100%; padding: ${b}; background-color: ${g}; border: none; cursor: pointer; text-align: left; transition: background-color 0.2s; flex-direction: ${T==="left"?"row-reverse":"row"};">
                    <span style="font-weight: ${E}; font-size: ${j}; color: ${v}; flex: 1;">${Y.title}</span>
                    <span class="lb-accordion-icon" style="color: ${$}; transition: transform ${R}ms ease; ${T==="left"?"margin-right: 12px;":"margin-left: 12px;"}">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </span>
                </button>
                <div id="${M}" class="lb-accordion-content" style="max-height: 0; overflow: hidden; transition: max-height ${R}ms ease-in-out;">
                    <div style="padding: ${k}; background-color: ${L}; color: ${S}; font-size: ${C}; line-height: 1.6;">
                        ${Y.content}
                    </div>
                </div>
            </div>
        `}).join(""),z=["overflow: hidden"];t.layoutStyles?.border||(z.push(`border: 1px solid ${p}`),z.push(`border-radius: ${m}`));const W=on(t,z.join("; "));return`
        <div class="${a}" id="${d}" data-independent="${O}" style="${W}">
            ${F}
        </div>
        <script>
            (function() {
                const accordion = document.getElementById('${d}');
                if (!accordion) return;
                const isIndependent = accordion.dataset.independent === 'true';
                const headers = accordion.querySelectorAll('.lb-accordion-header');

                headers.forEach(header => {
                    header.addEventListener('click', function() {
                        const targetId = this.dataset.target;
                        const content = document.getElementById(targetId);
                        const icon = this.querySelector('.lb-accordion-icon');
                        const isOpen = content.style.maxHeight && content.style.maxHeight !== '0px';

                        if (!isIndependent) {
                            // Close all other items
                            accordion.querySelectorAll('.lb-accordion-content').forEach(c => {
                                c.style.maxHeight = '0px';
                            });
                            accordion.querySelectorAll('.lb-accordion-icon').forEach(i => {
                                i.style.transform = 'rotate(0deg)';
                            });
                            accordion.querySelectorAll('.lb-accordion-header').forEach(h => {
                                h.style.backgroundColor = '${g}';
                            });
                        }

                        if (isOpen) {
                            content.style.maxHeight = '0px';
                            icon.style.transform = 'rotate(0deg)';
                            this.style.backgroundColor = '${g}';
                        } else {
                            content.style.maxHeight = content.scrollHeight + 'px';
                            icon.style.transform = 'rotate(180deg)';
                            this.style.backgroundColor = '${y}';
                        }
                    });
                });

                // Open first item by default
                const firstHeader = headers[0];
                if (firstHeader) {
                    firstHeader.click();
                }
            })();
        <\/script>
    `},Uw=(t,l={})=>{const i=t.items||[{title:"Accordion Item",content:"Content goes here..."}],a=t.borderColor||"#e5e7eb",c=t.borderRadius||"8px",d=t.headerBgColor||"#ffffff",p=t.headerPadding||"16px",m=t.titleColor||"#1f2937",g=t.titleFontSize||"16px",y=t.titleFontWeight||"600",b=t.contentBgColor||"#ffffff",v=t.contentColor||"#4b5563",j=t.contentFontSize||"14px",E=t.contentPadding||"16px",L=t.iconColor||"#6b7280",S=i.map((C,k)=>`
            <div style="border-bottom: ${k===i.length-1?"none":`1px solid ${a}`};">
                <div style="display: flex; align-items: center; justify-content: space-between; padding: ${p}; background-color: ${d};">
                    <span style="font-weight: ${y}; font-size: ${g}; color: ${m};">${C.title}</span>
                    <span style="color: ${L}; font-size: 12px;">&#9660;</span>
                </div>
                <div style="padding: ${E}; background-color: ${b}; color: ${v}; font-size: ${j}; line-height: 1.6;">
                    ${C.content}
                </div>
            </div>
        `).join("");return`
        <div style="border: 1px solid ${a}; border-radius: ${c}; overflow: hidden;">
            ${S}
        </div>
    `},Vw={page:Ww,email:Uw},Kw=Ye(zw,{block:Hw,editor:Fw,save:Vw}),Gw="toc",Xw="1.0.0",Yw="Table of Contents",Qw="Content",qw="mdi:table-of-contents",Jw="Auto-generated table of contents from headings",Zw=["toc","table of contents","navigation","headings","index"],ek=["page"],tk={colors:!0,align:!1,layout:!0,html:!0,duplicate:!0,remove:!0},nk={title:"Table of Contents",showTitle:!0,minLevel:"h1",maxLevel:"h4",listStyle:"bullet",backgroundColor:"#f8fafc",borderColor:"#e2e8f0",titleColor:"#1e293b",linkColor:"#3b82f6"},rk={type:Gw,version:Xw,label:Yw,category:Qw,icon:qw,description:Jw,keywords:Zw,contexts:ek,supports:tk,defaultProps:nk},ok=(t,l,i)=>{const a=[],c=d=>{if(Array.isArray(d))for(const p of d){if(p.type==="heading"&&p.props?.text){const m=p.props.level||"h2",g=parseInt(m.replace("h",""),10);if(g>=l&&g<=i){let y=p.props.text,b;do b=y,y=y.replace(/<[^>]*>/g,"");while(y!==b);y.trim()&&a.push({id:p.id,level:g,text:y.trim()})}}if(p.props?.children&&Array.isArray(p.props.children))for(const m of p.props.children)Array.isArray(m)&&c(m)}};return c(t),a};function lk({props:t,isSelected:l}){const{title:i=f("Table of Contents"),showTitle:a=!0,minLevel:c="h1",maxLevel:d="h4",listStyle:p="bullet",backgroundColor:m="#f8fafc",borderColor:g="#e2e8f0",titleColor:y="#1e293b",linkColor:b="#635bff",layoutStyles:v}=t,{state:j}=zi(),E=j.blocks,L=parseInt(c.replace("h",""),10),S=parseInt(d.replace("h",""),10),C=x.useMemo(()=>ok(E,L,S),[E,L,S]),k=Oe({backgroundColor:m,border:`1px solid ${g}`,borderRadius:"8px",padding:"16px 20px"},v),$={color:y,fontSize:"18px",fontWeight:"600",marginBottom:"12px",margin:0,paddingBottom:"8px",borderBottom:`1px solid ${g}`},T={margin:0,padding:0,listStyle:p==="none"?"none":p==="number"?"decimal":"disc",paddingLeft:p==="none"?"0":"20px"},R=z=>({marginLeft:`${(z-L)*16}px`,marginBottom:"6px",lineHeight:"1.6"}),O={color:b,textDecoration:"none"},F=p==="number"?"ol":"ul";return o.jsxs("div",{style:k,children:[a&&o.jsx("h4",{style:$,children:i}),o.jsx("nav",{children:o.jsx(F,{style:T,children:C.length===0?o.jsx("li",{style:{color:"#94a3b8",fontStyle:"italic"},children:f("No headings found.")}):C.map(z=>o.jsx("li",{style:R(z.level),children:o.jsx("span",{style:O,children:z.text})},z.id))})})]})}const Wf=t=>Array.isArray(t)?t.map(l=>{const i={type:l.type,id:l.id};return l.type==="heading"&&l.props&&(i.props={text:l.props.text,level:l.props.level}),l.props?.children&&Array.isArray(l.props.children)&&(i.props=i.props||{},i.props.children=l.props.children.map(a=>Array.isArray(a)?Wf(a):a)),i}):[],ik=(t,l={})=>{const{title:i="Table of Contents",showTitle:a=!0,minLevel:c="h1",maxLevel:d="h4",listStyle:p="bullet",backgroundColor:m="#f8fafc",borderColor:g="#e2e8f0",titleColor:y="#1e293b",linkColor:b="#635bff"}=t,v=Wf(l.allBlocks||[]),j={title:i,showTitle:a,minLevel:c,maxLevel:d,listStyle:p,backgroundColor:m,borderColor:g,titleColor:y,linkColor:b,layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||"",_allBlocks:v};return`<div data-lara-block="toc" data-props='${JSON.stringify(j).replace(/'/g,"&#39;")}'></div>`},sk=()=>null,ak={page:ik,email:sk},ck=[{name:"title",type:"text",label:f("Title"),section:f("Content"),placeholder:f("Table of Contents")},{name:"showTitle",type:"toggle",label:f("Show Title"),section:f("Content")},{name:"minLevel",type:"select",label:f("Minimum Heading Level"),section:f("Content"),options:[{value:"h1",label:"H1"},{value:"h2",label:"H2"},{value:"h3",label:"H3"},{value:"h4",label:"H4"},{value:"h5",label:"H5"},{value:"h6",label:"H6"}]},{name:"maxLevel",type:"select",label:f("Maximum Heading Level"),section:f("Content"),options:[{value:"h1",label:"H1"},{value:"h2",label:"H2"},{value:"h3",label:"H3"},{value:"h4",label:"H4"},{value:"h5",label:"H5"},{value:"h6",label:"H6"}]},{name:"listStyle",type:"select",label:f("List Style"),section:f("Style"),options:[{value:"bullet",label:f("Bullet")},{value:"number",label:f("Numbered")},{value:"none",label:f("None")}]},{name:"backgroundColor",type:"color",label:f("Background Color"),section:f("Style")},{name:"borderColor",type:"color",label:f("Border Color"),section:f("Style")},{name:"titleColor",type:"color",label:f("Title Color"),section:f("Style")},{name:"linkColor",type:"color",label:f("Link Color"),section:f("Style")}],uk=Ye(rk,{block:lk,save:ak,fields:ck}),dk="time-to-read",fk="1.0.0",pk="Time to Read",hk="Content",gk="mdi:clock-outline",mk="Display estimated reading time for the content",xk=["time","read","reading","minutes","duration","estimate"],yk=["page"],vk={align:!0,colors:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},bk={wordsPerMinute:200,displayAsRange:!0,prefix:"",suffix:"",align:"left",color:"#666666",fontSize:"14px",iconColor:"#666666",showIcon:!0},wk={type:dk,version:fk,label:pk,category:hk,icon:gk,description:mk,keywords:xk,contexts:yk,supports:vk,defaultProps:bk},kk=({props:t})=>{const i={display:"flex",alignItems:"center",gap:"6px",textAlign:Ir(t.layoutStyles||{}).textAlign||t.align||"left",justifyContent:t.align==="center"?"center":t.align==="right"?"flex-end":"flex-start"},a=Oe(i,t.layoutStyles),c={color:t.layoutStyles?.typography?.color||t.color||"#666666",fontSize:t.layoutStyles?.typography?.fontSize||t.fontSize||"14px",lineHeight:"1.4"},d={color:t.iconColor||t.color||"#666666",width:"16px",height:"16px",flexShrink:0},p=()=>{const m=t.prefix||"",g=t.suffix||"";return t.displayAsRange?`${m}1-2 minutes${g}`:`${m}2 minutes${g}`};return o.jsxs("div",{style:a,children:[t.showIcon&&o.jsxs("svg",{style:d,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("polyline",{points:"12 6 12 12 16 14"})]}),o.jsx("span",{style:c,children:p()})]})},Ck=(t,l={})=>{const i={wordsPerMinute:t.wordsPerMinute||200,displayAsRange:t.displayAsRange!==!1,prefix:t.prefix||"",suffix:t.suffix||"",align:t.align||"left",color:t.color||"#666666",fontSize:t.fontSize||"14px",iconColor:t.iconColor||"#666666",showIcon:t.showIcon!==!1,layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="time-to-read" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},Sk=(t,l={})=>"",jk={page:Ck,email:Sk},Ek=[{name:"displayAsRange",type:"toggle",label:f("Display as range"),section:f("Settings"),help:f('Show reading time as a range (e.g., "1-2 minutes" instead of "2 minutes")')},{name:"wordsPerMinute",type:"number",label:f("Words per minute"),section:f("Settings"),help:f("Average reading speed (default: 200 WPM)"),min:100,max:400,step:10},{name:"showIcon",type:"toggle",label:f("Show clock icon"),section:f("Settings")},{name:"prefix",type:"text",label:f("Prefix text"),section:f("Labels"),placeholder:f('e.g., "Reading time: "')},{name:"suffix",type:"text",label:f("Suffix text"),section:f("Labels"),placeholder:f('e.g., " read"')},{name:"color",type:"color",label:f("Text Color"),section:f("Colors")},{name:"iconColor",type:"color",label:f("Icon Color"),section:f("Colors")},{name:"fontSize",type:"select",label:f("Font Size"),section:f("Typography"),options:[{value:"12px",label:"12px"},{value:"14px",label:"14px"},{value:"16px",label:"16px"},{value:"18px",label:"18px"}]},{name:"align",type:"select",label:f("Alignment"),section:f("Layout"),options:[{value:"left",label:f("Left")},{value:"center",label:f("Center")},{value:"right",label:f("Right")}]}],Nk=Ye(wk,{block:kk,save:jk,fields:Ek}),Tk="markdown",$k="1.1.0",Rk="Markdown",Lk="Advanced",Ik="mdi:language-markdown",Ak="Write markdown directly or fetch from external URLs (GitHub, GitLab, etc.)",_k=["markdown","md","github","documentation","external","url","content","write"],Bk=["page"],Dk={layout:!0,html:!1,duplicate:!0,remove:!0},Pk={sourceType:"content",content:"",url:"",showSource:!0,cacheEnabled:!0},Mk={type:Tk,version:$k,label:Rk,category:Lk,icon:Ik,description:Ak,keywords:_k,contexts:Bk,supports:Dk,defaultProps:Pk},Ok=()=>{if(window.Prism)return Promise.resolve();const t=a=>new Promise((c,d)=>{const p=document.createElement("script");p.src=a,p.onload=c,p.onerror=d,document.head.appendChild(p)});if(!document.querySelector('link[href*="prism-tomorrow"]')){const a=document.createElement("link");a.rel="stylesheet",a.href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css",document.head.appendChild(a)}if(!document.querySelector('link[href*="prism-toolbar"]')){const a=document.createElement("link");a.rel="stylesheet",a.href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css",document.head.appendChild(a)}const l="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/",i=["markup","css","clike","javascript","markup-templating","php","typescript","jsx","tsx","scss","bash","json","yaml","sql","python"];return t(l+"prism.min.js").then(()=>i.reduce((a,c)=>a.then(()=>t(l+"components/prism-"+c+".min.js").catch(()=>{console.warn("Failed to load Prism language:",c)})),Promise.resolve())).then(()=>t(l+"plugins/toolbar/prism-toolbar.min.js")).then(()=>t(l+"plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"))},zk=({props:t,onUpdate:l,isSelected:i})=>{const[a,c]=x.useState(!1),[d,p]=x.useState(null),[m,g]=x.useState(""),[y,b]=x.useState(!1),[v,j]=x.useState(!1),[E,L]=x.useState(""),S=x.useRef(""),C=x.useRef(""),k=x.useRef(null),$=x.useRef(null);x.useRef(t.content);const T=t.sourceType||"content",R=x.useCallback(async()=>{const M=T==="content"?t.content:E;if(M)try{await navigator.clipboard.writeText(M),j(!0),setTimeout(()=>j(!1),2e3)}catch(Z){console.error("Failed to copy:",Z)}},[T,t.content,E]);x.useEffect(()=>{m&&k.current&&(T==="url"||!i)&&Ok().then(()=>{setTimeout(()=>{window.Prism&&k.current&&window.Prism.highlightAllUnder(k.current)},0)})},[m,i,T]);const O=x.useCallback(async M=>{if(!M){g("");return}c(!0),p(null);try{const Z=await fetch("/api/admin/builder/markdown/convert",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||""},credentials:"same-origin",body:JSON.stringify({content:M})}),te=await Z.json();if(!Z.ok||!te.success)throw new Error(te.error||"Failed to convert markdown");g(te.html),C.current=M}catch(Z){p(Z.message),g("")}finally{c(!1)}},[]),F=x.useCallback(async(M,Z=!1)=>{if(!M){g(""),p(null);return}c(!0),p(null);try{const te=await fetch("/api/admin/builder/markdown/fetch",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||""},credentials:"same-origin",body:JSON.stringify({url:M,refresh:Z})}),se=await te.json();if(!te.ok||!se.success)throw new Error(se.error||"Failed to fetch markdown");g(se.html),b(se.cached||!1),L(se.markdown||""),S.current=M}catch(te){p(te.message),g("")}finally{c(!1)}},[]);x.useEffect(()=>{T==="url"&&t.url&&t.url!==S.current?F(t.url,!1):T==="content"&&t.content&&t.content!==C.current&&O(t.content)},[T,t.url,t.content,F,O]),x.useEffect(()=>{!i&&T==="content"&&t.content&&t.content!==C.current&&O(t.content)},[i,T,t.content,O]);const z=x.useCallback(M=>{const Z=M.target.value;l({...t,content:Z})},[t,l]);x.useEffect(()=>{i&&T==="content"&&$.current&&$.current.focus()},[i,T]);const W=()=>{T==="url"&&t.url&&F(t.url,!0)},K=Oe({borderRadius:"4px",minHeight:"100px"},t.layoutStyles),G=`
        .markdown-content {
            font-family: system-ui, -apple-system, sans-serif;
            line-height: 1.6;
            color: #1f2937;
        }
        .markdown-content h1 { font-size: 2em; font-weight: 700; margin: 1em 0 0.5em; border-bottom: 1px solid #e5e7eb; padding-bottom: 0.3em; }
        .markdown-content h2 { font-size: 1.5em; font-weight: 600; margin: 1em 0 0.5em; border-bottom: 1px solid #e5e7eb; padding-bottom: 0.3em; }
        .markdown-content h3 { font-size: 1.25em; font-weight: 600; margin: 1em 0 0.5em; }
        .markdown-content h4 { font-size: 1em; font-weight: 600; margin: 1em 0 0.5em; }
        .markdown-content p { margin: 0 0 1em; }
        .markdown-content ul { margin: 0 0 1em; padding-left: 2em; list-style-type: disc; }
        .markdown-content ol { margin: 0 0 1em; padding-left: 2em; list-style-type: decimal; }
        .markdown-content li { margin: 0.25em 0; display: list-item; }
        .markdown-content code { background: #f3f4f6; padding: 0.2em 0.4em; border-radius: 4px; font-size: 0.875em; font-family: ui-monospace, monospace; color: #e83e8c; }
        .markdown-content pre[class*="language-"] { background: #1e1e1e; padding: 1em !important; border-radius: 8px; overflow-x: auto; margin: 0 0 1em; }
        .markdown-content pre code { display: block; background: transparent !important; font-size: 0.875em; line-height: 1.5; }
        .markdown-content blockquote { border-left: 4px solid #6366f1; padding-left: 1em; margin: 0 0 1em; color: #6b7280; font-style: italic; }
        .markdown-content a { color: #6366f1; text-decoration: underline; }
        .markdown-content a:hover { color: #4f46e5; }
        .markdown-content table { border-collapse: collapse; width: 100%; margin: 0 0 1em; }
        .markdown-content th, .markdown-content td { border: 1px solid #e5e7eb; padding: 0.5em 1em; text-align: left; }
        .markdown-content th { background: #f9fafb; font-weight: 600; }
        .markdown-content hr { border: none; border-top: 1px solid #e5e7eb; margin: 2em 0; }
        .markdown-content img { max-width: 100%; height: auto; border-radius: 8px; }
        .markdown-content input[type="checkbox"] { margin-right: 0.5em; }

        /* Copy button styling for Prism */
        .markdown-content .code-toolbar .toolbar { opacity: 1; }
        .markdown-content .code-toolbar .toolbar-item button {
            background: #3b3b3b !important;
            color: #e5e7eb !important;
            border-radius: 4px !important;
            padding: 4px 10px !important;
            font-size: 12px !important;
            box-shadow: none !important;
            border: 1px solid #4b4b4b !important;
            transition: all 0.2s ease !important;
            cursor: pointer;
        }
        .markdown-content .code-toolbar .toolbar-item button:hover {
            background: #4b4b4b !important;
            color: #fff !important;
        }
    `;return i&&T==="content"?o.jsx("div",{style:K,"data-text-editing":"true",children:o.jsx("textarea",{ref:$,value:t.content||"",onChange:z,placeholder:`# Hello World

Write your **markdown** content here...

- Item 1
- Item 2

\`\`\`php
echo 'Hello';
\`\`\``,className:"w-full px-4 py-3 border-0 rounded-lg bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white font-mono text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",style:{minHeight:"200px",resize:"vertical",lineHeight:"1.6"}})}):o.jsxs("div",{style:K,children:[o.jsx("style",{children:G}),a&&o.jsx("div",{className:"p-6 text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500",children:[o.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o.jsx("span",{children:T==="url"?"Fetching markdown...":"Converting markdown..."})]})}),d&&!a&&o.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[o.jsx("iconify-icon",{icon:"mdi:alert-circle",width:"20",height:"20"}),o.jsx("span",{className:"text-sm font-medium",children:"Error loading markdown"})]}),o.jsx("p",{className:"text-xs text-red-500 mt-1",children:d}),T==="url"&&o.jsx("button",{type:"button",onClick:W,className:"mt-2 text-xs text-red-600 underline hover:text-red-700",children:"Try again"})]}),!a&&!d&&m&&o.jsxs("div",{className:"relative",children:[i&&(t.content||E)&&o.jsx("div",{className:"absolute top-2 right-2 z-10",children:o.jsxs("button",{type:"button",onClick:R,className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-md transition-all ${v?"bg-green-100 text-green-700 border border-green-200":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50 hover:border-gray-300 shadow-sm"}`,title:"Copy raw markdown",children:[o.jsx("iconify-icon",{icon:v?"mdi:check":"mdi:content-copy",width:"14",height:"14"}),v?"Copied!":"Copy Markdown"]})}),t.showSource&&T==="url"&&t.url&&o.jsxs("div",{className:"mb-3 flex items-center justify-between text-xs text-gray-500 bg-gray-50 dark:bg-gray-800 px-3 py-2 rounded-md",children:[o.jsxs("div",{className:"flex items-center gap-2 truncate",children:[o.jsx("iconify-icon",{icon:"mdi:link-variant",width:"14",height:"14"}),o.jsx("span",{className:"truncate",title:t.url,children:t.url})]}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-2",children:[y&&o.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[o.jsx("iconify-icon",{icon:"mdi:cached",width:"14",height:"14"}),"cached"]}),o.jsx("button",{type:"button",onClick:M=>{M.stopPropagation(),W()},className:"text-gray-500 hover:text-gray-700 p-1",title:"Refresh content",children:o.jsx("iconify-icon",{icon:"mdi:refresh",width:"14",height:"14"})})]})]}),o.jsx("div",{ref:k,className:"markdown-content",dangerouslySetInnerHTML:{__html:m}},i?"selected":"preview")]}),!a&&!d&&!m&&o.jsxs("div",{className:"p-6 text-center text-gray-400 bg-gray-50 dark:bg-gray-800 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg",children:[o.jsx("iconify-icon",{icon:"mdi:language-markdown",width:"48",height:"48",class:"mb-2 opacity-50"}),o.jsx("div",{className:"text-sm font-medium",children:"Markdown Block"}),o.jsx("div",{className:"text-xs mt-1",children:T==="content"?"Click to start writing markdown":"Enter a markdown URL in the sidebar"})]})]})},Hk=(t,l={})=>{const i={sourceType:t.sourceType||"content",content:t.content||"",url:t.url||"",showSource:t.showSource!==!1,cacheEnabled:t.cacheEnabled!==!1,layoutStyles:t.layoutStyles||{}};return`<div data-lara-block="markdown" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},Fk=(t,l={})=>`<div style="padding: 16px; background: #f3f4f6; border-radius: 8px; text-align: center; color: #6b7280; font-size: 14px;">
        <p style="margin: 0;">Markdown content is not supported in emails.</p>
        <p style="margin: 8px 0 0; font-size: 12px;">Please use other block types for email templates.</p>
    </div>`,Wk={page:Hk,email:Fk},Uk=[{name:"sourceType",type:"select",label:f("Source Type"),section:f("Content"),options:[{value:"content",label:f("Write Content")},{value:"url",label:f("From URL")}]},{name:"url",type:"text",label:f("Markdown URL"),section:f("Content"),placeholder:"https://github.com/user/repo/blob/main/README.md",description:f("Enter a URL to a markdown file (GitHub, GitLab, Bitbucket, or direct .md URL)"),condition:t=>t.sourceType==="url"},{name:"showSource",type:"toggle",label:f("Show Source URL"),section:f("Settings"),defaultValue:!0,condition:t=>t.sourceType==="url"},{name:"cacheEnabled",type:"toggle",label:f("Enable Caching"),section:f("Settings"),defaultValue:!0,description:f("Cache the markdown content to improve performance"),condition:t=>t.sourceType==="url"}],Vk=Ye(Mk,{block:zk,save:Wk,fields:Uk}),Uf=[Hx,ry,vy,Dy,Zy,m0,A0,av,Tv,Vv,ab,jb,Gb,u1,T1,V1,dw,Tw,Kw,uk,Nk,Vk],Vf=Uf.reduce((t,l)=>(l&&l.type&&(t[l.type]=l),t),{}),Kk=t=>Vf[t]?.block||null,Kf=t=>{const l=Vf[t];if(l?.supports)return l.supports;if(typeof window<"u"&&window.LaraBuilderBlockRegistry){const i=window.LaraBuilderBlockRegistry.get(t);if(i?.supports)return i.supports}return{}},gC=t=>{Uf.forEach((l,i)=>{if(!l||!l.type){console.warn(`[BlockLoader] Skipping invalid block at index ${i}:`,l);return}t.register(l)})},Gf=t=>{const l=Xe.getComponent(t);return l||Kk(t)},Gk=t=>t?`lb-${t.toLowerCase()}`:"lb-block",Xk=(t,l={},i="")=>{const a=["lb-block",Gk(t)];return l.customClass&&a.push(l.customClass),i&&a.push(i),a.filter(Boolean).join(" ")},Zd=({id:t,isFirst:l=!1})=>{const{setNodeRef:i,isOver:a}=Oi({id:t,data:{type:"dropzone",position:t}});return o.jsx("div",{ref:i,className:`transition-all duration-200 ${a?"h-16 bg-primary/10 border-2 border-dashed border-primary rounded-lg my-2 flex items-center justify-center":l?"h-0":"h-1"}`,children:a&&o.jsx("span",{className:"text-primary text-sm font-medium",children:f("Drop here")})})},Yk=({block:t,selectedBlockId:l,onSelect:i,onUpdate:a,onDelete:c,onDeleteNested:d,onMoveBlock:p,onDuplicateBlock:m,onMoveNestedBlock:g,onDuplicateNestedBlock:y,onInsertBlockAfter:b,onReplaceBlock:v,totalBlocks:j,blockIndex:E,context:L})=>{const[S,C]=x.useState(null),[k,$]=x.useState(!1),T=x.useRef(null),R=x.useRef(null),O=x.useRef(t.props);O.current=t.props;const{attributes:F,listeners:z,setNodeRef:W,setActivatorNodeRef:Y,transform:K,transition:G,isDragging:M}=Mf({id:t.id}),Z=x.useCallback(je=>{(!je.inputType||je.inputType.startsWith("insert")||je.inputType.startsWith("delete"))&&($(!0),T.current&&clearTimeout(T.current),T.current=setTimeout(()=>{$(!1)},1500))},[]);x.useEffect(()=>{const je=R.current;if(je)return je.addEventListener("input",Z),()=>{je.removeEventListener("input",Z),T.current&&clearTimeout(T.current)}},[Z]);const te={transform:zn.Transform.toString(K),transition:G,opacity:M?.5:1},se=Xk(t.type,t.props),me=Gf(t.type),de=l===t.id,U=Kf(t.type),ee=U.bold||U.italic||U.underline,V=U.align&&!ee,A=U.columnCount===!0,oe=["text-editor"].includes(t.type),ne=oe,pe=V?{align:t.props?.align||"center",onAlignChange:je=>a(t.id,{...t.props,align:je})}:null,ae=A?{columns:t.props?.columns||1,onColumnsChange:je=>{const ht=parseInt(t.props?.columns)||1;let Ct=[...t.props?.children||[[]]];if(je>ht)for(let mn=ht;mn<je;mn++)Ct.push([]);else je<ht&&(Ct=Ct.slice(0,je));a(t.id,{...t.props,columns:je,children:Ct})}}:null,ke={ref:Y,...z};if(!me)return o.jsxs("div",{ref:W,style:te,className:"p-4 bg-red-100 text-red-600 rounded",children:["Unknown block type: ",t.type]});const ye=E>0,Ce=E<j-1,kt=de&&(ee||oe)?"cursor-text":"cursor-grab active:cursor-grabbing",ze=de&&!k&&!M,pt=je=>{W(je),R.current=je};return o.jsxs("div",{ref:pt,style:te,className:`${se} relative group ${kt} ${M?"z-50":""} ${de?"lb-block-selected":""}`,"data-block-type":t.type,onClick:je=>{je.stopPropagation(),i(t.id)},...F,children:[ze&&!ne&&o.jsx(Oa,{block:t,onMoveUp:()=>p(t.id,"up"),onMoveDown:()=>p(t.id,"down"),onDelete:()=>c(t.id),onDuplicate:()=>m(t.id),canMoveUp:ye,canMoveDown:Ce,textFormatProps:S,alignProps:pe,columnsProps:ae,dragHandleProps:ke}),o.jsx(me,{props:t.props,isSelected:de,onUpdate:je=>a(t.id,je),onInsertBlockAfter:b?je=>b(t.id,je):void 0,...ee?{onRegisterTextFormat:C,onDelete:()=>c(t.id),onReplaceBlock:v?je=>v(t.id,je):void 0,context:L}:{},...A?{blockId:t.id,onSelect:i,selectedBlockId:l,onUpdateNested:a,onDeleteNested:d,onMoveNestedBlock:g,onDuplicateNestedBlock:y}:{}}),ze&&ne&&o.jsx(Oa,{block:t,onMoveUp:()=>p(t.id,"up"),onMoveDown:()=>p(t.id,"down"),onDelete:()=>c(t.id),onDuplicate:()=>m(t.id),canMoveUp:ye,canMoveDown:Ce,textFormatProps:S,alignProps:pe,columnsProps:ae,dragHandleProps:ke,position:"bottom"})]})},Qk=({blocks:t,selectedBlockId:l,onSelect:i,onUpdate:a,onDelete:c,onDeleteNested:d,onMoveBlock:p,onDuplicateBlock:m,onMoveNestedBlock:g,onDuplicateNestedBlock:y,onInsertBlockAfter:b,onReplaceBlock:v,canvasSettings:j,previewMode:E="desktop",context:L="post"})=>{const{setNodeRef:S,isOver:C}=Oi({id:"canvas"}),k=t.map(z=>z.id),$=Ir(j?.layoutStyles||{}),R={width:(()=>{switch(E){case"mobile":return"375px";case"tablet":return"768px";default:return j?.width||"700px"}})(),contentPadding:j?.contentPadding||"32px",contentMargin:j?.contentMargin||"40px"},O={backgroundColor:"#f3f4f6",padding:R.contentMargin},F={backgroundColor:$.backgroundColor||"#ffffff",fontFamily:$.fontFamily||"Arial, sans-serif",fontSize:$.fontSize,fontWeight:$.fontWeight,lineHeight:$.lineHeight,color:$.color,textAlign:$.textAlign,backgroundImage:$.backgroundImage,backgroundSize:$.backgroundSize,backgroundPosition:$.backgroundPosition,backgroundRepeat:$.backgroundRepeat,borderTopWidth:$.borderTopWidth,borderRightWidth:$.borderRightWidth,borderBottomWidth:$.borderBottomWidth,borderLeftWidth:$.borderLeftWidth,borderStyle:$.borderStyle||"solid",borderColor:$.borderColor,borderTopLeftRadius:$.borderTopLeftRadius||"8px",borderTopRightRadius:$.borderTopRightRadius||"8px",borderBottomLeftRadius:$.borderBottomLeftRadius||"8px",borderBottomRightRadius:$.borderBottomRightRadius||"8px",boxShadow:$.boxShadow||"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1)",marginTop:$.marginTop,marginRight:$.marginRight,marginBottom:$.marginBottom,marginLeft:$.marginLeft,paddingTop:$.paddingTop,paddingRight:$.paddingRight,paddingBottom:$.paddingBottom,paddingLeft:$.paddingLeft};return o.jsx("div",{className:"flex-1 overflow-auto",style:O,onClick:()=>i(null),children:o.jsx("div",{className:"mx-auto",style:{maxWidth:R.width},children:o.jsx("div",{ref:S,className:`min-h-[400px] transition-colors ${C?"ring-2 ring-primary ring-offset-2":""}`,style:F,children:o.jsx("div",{style:{padding:R.contentPadding},children:o.jsx(Df,{items:k,strategy:Af,children:t.length>0?o.jsxs("div",{children:[o.jsx(Zd,{id:"dropzone-0",isFirst:!0}),t.map((z,W)=>o.jsxs("div",{children:[o.jsx(Yk,{block:z,blockIndex:W,totalBlocks:t.length,selectedBlockId:l,onSelect:i,onUpdate:a,onDelete:c,onDeleteNested:d,onMoveBlock:p,onDuplicateBlock:m,onMoveNestedBlock:g,onDuplicateNestedBlock:y,onInsertBlockAfter:b,onReplaceBlock:v,context:L}),o.jsx(Zd,{id:`dropzone-${W+1}`})]},z.id))]}):o.jsxs("div",{className:`border-2 border-dashed rounded-lg p-12 text-center transition-colors ${C?"border-primary bg-primary/10":"border-gray-300"}`,children:[o.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),o.jsx("p",{className:"mt-4 text-gray-500 font-medium",children:f("Drag blocks here to start building")}),o.jsx("p",{className:"mt-1 text-gray-400 text-sm",children:f("or click blocks on the left to add them")})]})})})})})})},qk=({selectedBlock:t,onUpdate:l,onImageUpload:i,onVideoUpload:a,canvasSettings:c,onCanvasSettingsUpdate:d})=>{const p=E=>{d({...c,layoutStyles:E})};if(!t)return o.jsxs("div",{className:"h-full overflow-y-auto px-1",children:[o.jsx("div",{className:"mb-4 pb-3 border-b border-gray-200",children:o.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:f("Email Settings")})}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f("Email Width")}),o.jsxs("select",{value:c?.width||"700px",onChange:E=>d({...c,width:E.target.value}),className:"form-control",children:[o.jsxs("option",{value:"500px",children:["500px (",f("Narrow"),")"]}),o.jsxs("option",{value:"600px",children:["600px (",f("Standard"),")"]}),o.jsxs("option",{value:"700px",children:["700px (",f("Wide"),")"]}),o.jsxs("option",{value:"800px",children:["800px (",f("Extra Wide"),")"]})]})]}),o.jsx(Ci,{layoutStyles:c?.layoutStyles||{},onUpdate:p,onImageUpload:i,defaultCollapsed:!1}),o.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:o.jsx("p",{className:"text-xs text-gray-400 text-center",children:f("Click the block to edit")})})]});const m=Xe.get(t.type),g=t.props||{},y=E=>{l(t.id,{...g,layoutStyles:E})},b=m?.label||t.type,v=m?.editor,j=m?.fields;return v?o.jsxs("div",{className:"h-full overflow-y-auto px-1",children:[o.jsx("div",{className:"mb-2 pb-3 border-b border-gray-200",children:o.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:f(b)})}),o.jsx(v,{props:g,onUpdate:E=>l(t.id,E),onImageUpload:i,onVideoUpload:a}),o.jsx(Ci,{layoutStyles:g.layoutStyles||{},onUpdate:y,onImageUpload:i,defaultCollapsed:!0,customCSS:g.customCSS||"",customClass:g.customClass||"",onCustomCSSChange:E=>l(t.id,{...g,customCSS:E}),onCustomClassChange:E=>l(t.id,{...g,customClass:E})})]}):j&&j.length>0?o.jsxs("div",{className:"h-full overflow-y-auto px-1",children:[o.jsx("div",{className:"mb-2 pb-3 border-b border-gray-200",children:o.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:f(b)})}),o.jsx(ox,{fields:j,blockProps:g,onUpdate:E=>l(t.id,E)}),o.jsx(Ci,{layoutStyles:g.layoutStyles||{},onUpdate:y,onImageUpload:i,defaultCollapsed:!0,customCSS:g.customCSS||"",customClass:g.customClass||"",onCustomCSSChange:E=>l(t.id,{...g,customCSS:E}),onCustomClassChange:E=>l(t.id,{...g,customClass:E})})]}):o.jsxs("div",{className:"h-full overflow-y-auto px-1",children:[o.jsx("div",{className:"mb-2 pb-3 border-b border-gray-200",children:o.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:f(b)})}),o.jsx("p",{className:"text-gray-500 text-sm mb-4",children:f("Click the block to edit it directly.")}),o.jsx(Ci,{layoutStyles:g.layoutStyles||{},onUpdate:y,onImageUpload:i,defaultCollapsed:!0,customCSS:g.customCSS||"",customClass:g.customClass||"",onCustomCSSChange:E=>l(t.id,{...g,customCSS:E}),onCustomClassChange:E=>l(t.id,{...g,customClass:E})})]})},Jk=({toast:t,onClose:l})=>{if(x.useEffect(()=>{if(t){const c=setTimeout(()=>{l()},4e3);return()=>clearTimeout(c)}},[t,l]),!t)return null;const i=t.variant==="success"?"bg-green-500":t.variant==="error"?"bg-red-500":t.variant==="warning"?"bg-yellow-500":"bg-blue-500",a=t.variant==="success"?"mdi:check-circle":t.variant==="error"?"mdi:alert-circle":t.variant==="warning"?"mdi:alert":"mdi:information";return o.jsx("div",{className:"fixed bottom-4 right-4 z-[100] animate-slide-in-right",children:o.jsxs("div",{className:`${i} text-white px-4 py-3 rounded-lg shadow-lg flex items-start gap-3 max-w-sm`,children:[o.jsx("iconify-icon",{icon:a,width:"20",height:"20",class:"flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium text-sm",children:t.title}),t.message&&o.jsx("p",{className:"text-sm opacity-90 mt-0.5",children:t.message})]}),o.jsx("button",{onClick:l,className:"flex-shrink-0 p-1 hover:bg-white/20 rounded transition-colors",children:o.jsx("iconify-icon",{icon:"mdi:close",width:"16",height:"16"})})]})})},Zk=({html:t,onHtmlChange:l,canvasSettings:i,onExitCodeEditor:a})=>{const[c,d]=x.useState(t),p=x.useRef(null),[m,g]=x.useState(1);x.useEffect(()=>{d(t)},[t]),x.useEffect(()=>{const L=(c||"").split(`
`).length;g(Math.max(L,20))},[c]);const y=L=>{const S=L.target.value;d(S)},b=()=>{l(c)},v=L=>{if(L.key==="Tab"){L.preventDefault();const S=L.target.selectionStart,C=L.target.selectionEnd,k=c.substring(0,S)+"    "+c.substring(C);d(k),setTimeout(()=>{L.target.selectionStart=L.target.selectionEnd=S+4},0)}},j=()=>{try{let L=c.replace(/></g,`>
<`).replace(/\n\s*\n/g,`
`),S=0;L=L.split(`
`).map(k=>{if(k=k.trim(),!k)return"";k.match(/^<\//)&&(S=Math.max(0,S-1));const $="    ".repeat(S)+k;return k.match(/^<[^/!][^>]*[^/]>$/)&&!k.match(/^<(br|hr|img|input|meta|link)/i)&&S++,$}).join(`
`),d(L),l(L)}catch(L){console.error("Error formatting HTML:",L)}},E={width:i?.width||"700px",backgroundColor:i?.backgroundColor||"#f3f4f6",contentBackgroundColor:i?.contentBackgroundColor||"#ffffff",contentPadding:i?.contentPadding||"32px",contentMargin:i?.contentMargin||"40px",contentBorderRadius:i?.contentBorderRadius||"8px"};return o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-white border-b border-gray-200 flex-shrink-0",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Editing code"}),o.jsx("button",{onClick:a,className:"text-sm text-primary hover:text-primary/80 font-medium transition-colors",children:"Exit code editor"})]}),o.jsx("div",{className:"flex-1 overflow-auto",style:{backgroundColor:E.backgroundColor,padding:E.contentMargin},children:o.jsx("div",{className:"mx-auto",style:{maxWidth:E.width},children:o.jsxs("div",{className:"shadow-lg",style:{backgroundColor:E.contentBackgroundColor,borderRadius:E.contentBorderRadius},children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("iconify-icon",{icon:"mdi:code-tags",width:"18",height:"18",class:"text-gray-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"HTML Code Editor"})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("button",{onClick:j,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-gray-600 bg-white border border-gray-200 rounded-md hover:bg-gray-50 transition-colors",title:"Format HTML",children:[o.jsx("iconify-icon",{icon:"mdi:auto-fix",width:"14",height:"14"}),"Format"]})})]}),o.jsxs("div",{className:"flex min-h-[500px]",children:[o.jsx("div",{className:"flex-shrink-0 bg-gray-50 border-r border-gray-200 text-right select-none",children:o.jsx("div",{className:"py-4 px-2",children:Array.from({length:m},(L,S)=>o.jsx("div",{className:"text-xs text-gray-400 leading-6 pr-2",style:{fontFamily:"ui-monospace, monospace"},children:S+1},S))})}),o.jsx("div",{className:"flex-1 relative",children:o.jsx("textarea",{ref:p,value:c,onChange:y,onBlur:b,onKeyDown:v,className:"w-full h-full min-h-[500px] p-4 text-sm leading-6 text-gray-800 bg-transparent resize-none focus:outline-none",style:{fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, monospace',tabSize:4},spellCheck:!1,placeholder:"<!-- Paste or write your HTML here -->"})})]}),o.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-t border-gray-200 bg-gray-50 rounded-b-lg",children:[o.jsxs("span",{className:"text-xs text-gray-500",children:[c.length," characters  ",(c||"").split(`
`).length," lines"]}),o.jsx("span",{className:"text-xs text-gray-400",children:"Press Tab for indent  Changes save on blur"})]})]})})})]})},eC=({editorMode:t,onEditorModeChange:l,onCopyAllBlocks:i,onPasteBlocks:a})=>{const[c,d]=x.useState(!1),[p,m]=x.useState(!1),g=x.useRef(null);x.useEffect(()=>{const v=j=>{g.current&&!g.current.contains(j.target)&&d(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const y=async()=>{try{await i(),m(!0),setTimeout(()=>m(!1),2e3)}catch(v){console.error("Failed to copy blocks:",v)}},b=async()=>{try{const v=await navigator.clipboard.readText();v&&a(v)}catch(v){console.error("Failed to paste:",v)}d(!1)};return o.jsxs("div",{className:"relative",ref:g,children:[o.jsx("button",{onClick:()=>d(!c),className:`p-1.5 pb-0 rounded-md transition-colors ${c?"bg-gray-100 text-gray-900":"hover:bg-gray-100 text-gray-600"}`,title:"Options",children:o.jsx("iconify-icon",{icon:"mdi:dots-vertical",width:"20",height:"20"})}),c&&o.jsxs("div",{className:"absolute right-0 top-full mt-1 w-64 bg-white border border-gray-200 rounded-lg shadow-xl z-50 py-1 overflow-hidden",children:[o.jsx("div",{className:"px-3 py-2 border-b border-gray-100",children:o.jsx("span",{className:"text-[11px] font-semibold text-gray-400 uppercase tracking-wider",children:"Editor"})}),o.jsxs("button",{onClick:()=>{l("visual"),d(!1)},className:"w-full px-3 py-2.5 text-left hover:bg-gray-50 flex items-center justify-between group",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("iconify-icon",{icon:"mdi:eye-outline",width:"18",height:"18",class:"text-gray-500 group-hover:text-gray-700"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Visual editor"})]}),t==="visual"&&o.jsx("iconify-icon",{icon:"mdi:check",width:"18",height:"18",class:"text-primary"})]}),o.jsxs("button",{onClick:()=>{l("code"),d(!1)},className:"w-full px-3 py-2.5 text-left hover:bg-gray-50 flex items-center justify-between group",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("iconify-icon",{icon:"mdi:code-tags",width:"18",height:"18",class:"text-gray-500 group-hover:text-gray-700"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Code editor"})]}),t==="code"&&o.jsx("iconify-icon",{icon:"mdi:check",width:"18",height:"18",class:"text-primary"})]}),o.jsx("div",{className:"px-3 py-2 border-t border-b border-gray-100 mt-1",children:o.jsx("span",{className:"text-[11px] font-semibold text-gray-400 uppercase tracking-wider",children:"Tools"})}),o.jsxs("button",{onClick:y,className:"w-full px-3 py-2.5 text-left hover:bg-gray-50 flex items-center gap-3 group",children:[o.jsx("iconify-icon",{icon:p?"mdi:check":"mdi:content-copy",width:"18",height:"18",class:p?"text-green-500":"text-gray-500 group-hover:text-gray-700"}),o.jsx("span",{className:`text-sm ${p?"text-green-600":"text-gray-700"}`,children:p?"Copied!":"Copy all blocks"})]}),o.jsxs("button",{onClick:b,className:"w-full px-3 py-2.5 text-left hover:bg-gray-50 flex items-center gap-3 group",children:[o.jsx("iconify-icon",{icon:"mdi:content-paste",width:"18",height:"18",class:"text-gray-500 group-hover:text-gray-700"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Paste blocks"})]})]})]})};function tC({isOpen:t,onClose:l,onInsertContent:i,isPostContext:a=!1,setTitle:c,setExcerpt:d}){const[p,m]=x.useState(""),[g,y]=x.useState({}),[b,v]=x.useState(""),[j,E]=x.useState(!1),[L,S]=x.useState(""),[C,k]=x.useState(!1),[$,T]=x.useState(!0),[R,O]=x.useState(null),[F,z]=x.useState("");x.useEffect(()=>{t&&W()},[t]);const W=async()=>{T(!0);try{const M=await fetch("/admin/ai/providers",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!M.ok)throw new Error("Failed to fetch providers");const Z=await M.json();Z.success&&(y(Z.data.providers||{}),v(Z.data.default_provider||""),E(Z.data.is_configured||!1),m(Z.data.default_provider||""))}catch(M){console.error("Error fetching AI providers:",M),z(f("Failed to load AI providers"))}finally{T(!1)}},Y=async()=>{if(!L.trim()){z(f("Please enter a prompt to generate content."));return}if(!p){z(f("Please select an AI provider or configure from AI Integrations settings."));return}k(!0),z(""),O(null);try{const M=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content"),te=await(await fetch("/admin/ai/generate-content",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":M,"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({prompt:L,provider:p,content_type:"post_content"})})).json();if(te.success){let se=te.data;if(typeof se=="string")try{se=JSON.parse(se)}catch(me){console.warn("Failed to parse AI response as JSON:",me)}O(se)}else z(te.message||f("Failed to generate content"))}catch(M){z(f("Network error. Please try again.")),console.error("AI Generation Error:",M)}finally{k(!1)}},K=x.useCallback(()=>{if(R){if(a&&c&&R.title&&c(R.title),a&&d&&R.excerpt&&d(R.excerpt),R.content&&i){const M=[];if(R.title&&!a){const te=Xe.createInstance("heading",{content:R.title,level:"h1",align:"left"});te&&M.push(te)}const Z=R.content;if(Z.includes("<")&&Z.includes(">")){const te=Xe.createInstance("text-editor",{content:Z});te&&M.push(te)}else Z.split(/\n\n+/).map(se=>se.trim()).filter(se=>se.length>0).forEach(se=>{const me=se.replace(/\n/g,"<br>"),de=Xe.createInstance("text",{content:me,align:"left"});de&&M.push(de)});M.length>0&&i(M)}G()}},[R,a,c,d,i]),G=()=>{S(""),O(null),z(""),l()};return t?o.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 p-4 backdrop-blur-sm",onClick:M=>{M.target===M.currentTarget&&G()},children:o.jsxs("div",{className:"flex max-w-2xl w-full max-h-[95vh] flex-col overflow-hidden rounded-lg border border-gray-200 bg-white text-gray-900 shadow-2xl",onClick:M=>M.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 px-6 py-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full text-white",style:{backgroundColor:"var(--color-primary, #635bff)"},children:o.jsx("iconify-icon",{icon:"mdi:lightning-bolt",width:"16",height:"16"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f("AI Content Generator")})]}),o.jsx("button",{type:"button",onClick:G,className:"text-gray-400 hover:text-gray-600 transition-colors",title:f("Close"),children:o.jsx("iconify-icon",{icon:"mdi:close",width:"24",height:"24"})})]}),o.jsx("div",{className:"px-6 pb-6 space-y-4 flex-1 overflow-y-auto",children:$?o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx("iconify-icon",{icon:"mdi:loading",width:"24",height:"24",class:"animate-spin text-gray-400"}),o.jsx("span",{className:"ml-2 text-gray-500",children:f("Loading providers...")})]}):j?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2 pt-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{htmlFor:"ai_provider",className:"block text-sm font-medium text-gray-700",children:f("AI Provider")}),o.jsxs("a",{href:"/admin/settings?tab=integrations",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:text-primary/80 hover:underline flex items-center",title:f("Configure AI Settings"),children:[o.jsx("iconify-icon",{icon:"mdi:cog",width:"12",height:"12",class:"mr-1"}),f("Settings")]})]}),o.jsxs("select",{id:"ai_provider",value:p,onChange:M=>m(M.target.value),className:"form-control",children:[o.jsx("option",{value:"",disabled:!0,children:f("Select AI Provider")}),Object.entries(g).map(([M,Z])=>o.jsx("option",{value:M,children:Z},M))]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"ai_prompt",className:"block text-sm font-medium text-gray-700",children:f("Describe your content")}),o.jsx("textarea",{id:"ai_prompt",value:L,onChange:M=>S(M.target.value),rows:4,placeholder:f("Example: Write a blog post about the benefits of AI in modern web development, focusing on productivity and user experience..."),className:"form-control-textarea w-full",maxLength:1e3}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[o.jsx("span",{children:f("Be specific about your content requirements")}),o.jsxs("span",{children:[L.length,"/1000"]})]})]}),o.jsx("div",{className:"flex justify-center pt-2",children:o.jsx("button",{type:"button",onClick:Y,disabled:!L.trim()||C,className:"inline-flex items-center px-6 py-2.5 text-sm font-medium text-white hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-all duration-200 shadow-sm hover:shadow-md",style:{backgroundColor:"var(--color-primary, #635bff)"},children:C?o.jsxs(o.Fragment,{children:[o.jsx("iconify-icon",{icon:"mdi:loading",width:"16",height:"16",class:"animate-spin mr-2"}),f("Generating...")]}):o.jsxs(o.Fragment,{children:[o.jsx("iconify-icon",{icon:"mdi:lightning-bolt",width:"16",height:"16",class:"mr-2"}),f("Generate Content")]})})}),R&&o.jsxs("div",{className:"mt-6 space-y-4 border-t border-gray-200 pt-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900",children:f("Generated Content Preview")}),R.title&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-700",children:f("Title")}),o.jsx("div",{className:"p-3 bg-gray-50 rounded-md border border-gray-200 text-sm",children:R.title})]}),R.excerpt&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-700",children:f("Excerpt")}),o.jsx("div",{className:"p-3 bg-gray-50 rounded-md border border-gray-200 text-sm",children:R.excerpt})]}),R.content&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-700",children:f("Content")}),o.jsx("div",{className:"p-3 bg-gray-50 rounded-md border border-gray-200 text-sm max-h-32 overflow-y-auto",dangerouslySetInnerHTML:{__html:R.content.replace(/\n/g,"<br>")}})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:G,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:f("Cancel")}),o.jsx("button",{type:"button",onClick:K,className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 rounded-md transition-all duration-200",children:f("Insert Content")})]})]}),F&&o.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:o.jsx("p",{className:"text-sm text-red-700",children:F})})]}):o.jsxs("div",{className:"py-8 text-center",children:[o.jsx("iconify-icon",{icon:"mdi:alert-circle-outline",width:"48",height:"48",class:"text-amber-500 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600 mb-4",children:f("No AI providers configured. Please configure an AI provider in settings.")}),o.jsxs("a",{href:"/admin/settings?tab=integrations",target:"_blank",rel:"noopener noreferrer",className:"btn-primary",children:[o.jsx("iconify-icon",{icon:"mdi:cog",width:"16",height:"16",class:"mr-2"}),f("Go to Settings")]})]})})]})}):null}function nC({listUrl:t,isFormDirty:l,labels:i,isPostContext:a,isEmailContext:c,templateData:d,postData:p,postTypeModel:m,canUndo:g,canRedo:y,undo:b,redo:v,title:j,setTitle:E,excerpt:L,setExcerpt:S,templateName:C,setTemplateName:k,saving:$,onSave:T,editorMode:R,onEditorModeChange:O,onCopyAllBlocks:F,onPasteBlocks:z,onInsertAIContent:W}){const[Y,K]=x.useState(!1),G=()=>c?"lucide:mail":a&&m?.icon||"lucide:file-text";return o.jsxs("header",{className:"bg-white border-b border-gray-200 px-2 sm:px-4 py-2 sm:py-3 flex items-center justify-between shadow-sm flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[t&&o.jsx("a",{href:t,onClick:M=>{l&&(window.confirm(f("You have unsaved changes. Are you sure you want to leave?"))||M.preventDefault())},className:"inline-flex items-center justify-center w-9 h-9 rounded-lg border border-gray-200 bg-white text-gray-500 hover:bg-gray-50 hover:text-gray-700 transition-colors",title:f("Go back"),children:o.jsx("iconify-icon",{icon:G(),width:"20",height:"20"})}),o.jsx("iconify-icon",{icon:"lucide:chevron-right",width:"16",height:"16",class:"text-gray-400"}),o.jsxs("h1",{className:"text-sm sm:text-lg font-semibold text-gray-800",children:[d?.uuid||p?.id?f("Edit"):f("Create"),o.jsxs("span",{className:"hidden sm:inline",children:[" ",m?.label_singular||i.title.split(" ")[0]]})]}),o.jsxs("div",{className:"hidden sm:flex items-center gap-1",children:[o.jsx("button",{onClick:b,disabled:!g,className:`p-1.5 pb-0 rounded-md transition-colors ${g?"hover:bg-gray-100 text-gray-600":"text-gray-300 cursor-not-allowed"}`,title:f("Undo (Ctrl+Z)"),children:o.jsx("iconify-icon",{icon:"mdi:undo",width:"18",height:"18"})}),o.jsx("button",{onClick:v,disabled:!y,className:`p-1.5 pb-0 rounded-md transition-colors ${y?"hover:bg-gray-100 text-gray-600":"text-gray-300 cursor-not-allowed"}`,title:f("Redo (Ctrl+Shift+Z)"),children:o.jsx("iconify-icon",{icon:"mdi:redo",width:"18",height:"18"})})]}),l&&o.jsxs("span",{className:"text-xs text-orange-600 bg-orange-50 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-md font-medium",children:[o.jsx("span",{className:"hidden sm:inline",children:f("Unsaved changes")}),o.jsx("span",{className:"sm:hidden",children:"*"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[a&&o.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>K(!0),className:"inline-flex items-center justify-center w-8 h-8 text-white rounded-md transition-all duration-200 shadow-sm hover:shadow-md hover:opacity-90",style:{backgroundColor:"var(--color-primary, #635bff)"},title:f("Generate content with AI"),children:o.jsx("iconify-icon",{icon:"mdi:lightning-bolt",width:"16",height:"16"})}),o.jsx("input",{type:"text",value:j,onChange:M=>E(M.target.value),placeholder:f(":type title...").replace(":type",m?.label_singular||"Post"),className:"form-control w-64"})]}),c&&o.jsx("div",{className:"hidden md:flex items-center gap-2",children:o.jsx("input",{type:"text",value:C,onChange:M=>k(M.target.value),placeholder:f("Template name..."),className:"form-control w-64"})}),o.jsx("button",{onClick:T,disabled:$,className:`gap-1 sm:gap-2 px-2 sm:px-4 py-1.5 sm:py-2 ${$?"btn-default cursor-not-allowed":"btn-primary"}`,children:$?o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o.jsx("span",{className:"hidden sm:inline",children:f("Saving...")})]}):o.jsxs(o.Fragment,{children:[o.jsx("iconify-icon",{icon:"mdi:content-save",class:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:i.saveText})]})}),o.jsx(eC,{editorMode:R,onEditorModeChange:O,onCopyAllBlocks:F,onPasteBlocks:z})]}),o.jsx(tC,{isOpen:Y,onClose:()=>K(!1),onInsertContent:W,isPostContext:a,setTitle:E,setExcerpt:S})]})}const rC=({block:t,onAddBlock:l})=>{const[i,a]=x.useState(!1),c=x.useRef(null),{attributes:d,listeners:p,setNodeRef:m,transform:g,isDragging:y}=Cf({id:`palette-${t.type}`,data:{type:"palette",blockType:t.type}}),b={transform:g?`translate3d(${g.x}px, ${g.y}px, 0)`:void 0,opacity:y?.5:1},v=L=>{c.current={x:L.clientX,y:L.clientY},a(!1)},j=L=>{if(c.current){const S=Math.abs(L.clientX-c.current.x),C=Math.abs(L.clientY-c.current.y);(S>5||C>5)&&a(!0)}},E=L=>{L.stopPropagation(),!i&&l&&l(t.type),c.current=null};return o.jsxs("div",{ref:m,style:b,...p,...d,onMouseDown:v,onMouseMove:j,onClick:E,className:"flex flex-col items-center justify-center p-2 bg-white border border-gray-200 rounded-lg cursor-grab hover:border-primary hover:bg-primary/10 transition-colors active:cursor-grabbing",title:f(t.label),children:[o.jsx("iconify-icon",{icon:t.icon,width:"24",height:"24",class:"text-primary"}),o.jsx("span",{className:"text-[10px] text-gray-600 font-medium mt-1 text-center leading-tight",children:f(t.label)})]})},Xf=({onAddBlock:t,context:l=null})=>{const[i,a]=x.useState(""),[c,d]=x.useState(0);x.useEffect(()=>{const b=()=>{d(v=>v+1)};return fe.addAction(ve.ACTION_BLOCK_REGISTERED,b),()=>{fe.removeAction(ve.ACTION_BLOCK_REGISTERED,b)}},[]);const p=x.useMemo(()=>l?Xe.getBlocksForContext(l):Xe.getAll(),[l,c]),m=x.useMemo(()=>{const b=new Set(p.map(v=>v.category));return Array.from(b)},[p]),g=x.useMemo(()=>{if(!i.trim())return p;const b=i.toLowerCase().trim();return p.filter(v=>v.label.toLowerCase().includes(b)||v.type.toLowerCase().includes(b)||v.category.toLowerCase().includes(b))},[p,i]),y=x.useMemo(()=>{if(!i.trim())return m;const b=new Set(g.map(v=>v.category));return m.filter(v=>b.has(v))},[m,g,i]);return o.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[o.jsx("div",{className:"mb-3 shrink-0",children:o.jsxs("div",{className:"relative m-0.5",children:[o.jsx("iconify-icon",{icon:"mdi:magnify",width:"18",height:"18",class:"absolute left-2.5 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",value:i,onChange:b=>a(b.target.value),placeholder:f("Search blocks..."),className:"form-control pl-9 pr-8 w-full"}),i&&o.jsx("button",{onClick:()=>a(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.jsx("iconify-icon",{icon:"mdi:close",width:"16",height:"16"})})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:y.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-400",children:[o.jsx("iconify-icon",{icon:"mdi:package-variant",width:"32",height:"32",class:"mb-2 opacity-50"}),o.jsx("p",{className:"text-sm",children:f("No blocks found")})]}):y.map(b=>{const v=g.filter(j=>j.category===b);return v.length===0?null:o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:"text-[10px] font-semibold text-gray-400 uppercase tracking-wider mb-2 px-1",children:f(b)}),o.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:v.map(j=>o.jsx(rC,{block:j,onAddBlock:t},j.type))})]},b)})})]})};function oC({collapsed:t,setCollapsed:l,onAddBlock:i,context:a}){return t?o.jsxs("div",{className:"flex flex-col items-center py-4",children:[o.jsx("button",{onClick:()=>l(!1),className:"p-2 rounded-md hover:bg-gray-100 text-gray-600",title:f("Show Blocks"),children:o.jsx("iconify-icon",{icon:"mdi:chevron-right",width:"20",height:"20"})}),o.jsx("button",{onClick:()=>l(!1),className:"mt-2 p-2 rounded-md hover:bg-primary/10 text-primary",title:f("Show Blocks"),children:o.jsx("iconify-icon",{icon:"mdi:plus-box-multiple",width:"20",height:"20"})})]}):o.jsxs("div",{className:"flex flex-col h-full p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:f("Blocks")}),o.jsx("button",{onClick:()=>l(!0),className:"p-1 rounded-md hover:bg-gray-100 text-gray-500",title:f("Hide Blocks"),children:o.jsx("iconify-icon",{icon:"mdi:chevron-left",width:"18",height:"18"})})]}),o.jsx(Xf,{onAddBlock:i,context:a})]})}function lC({collapsed:t,setCollapsed:l,PropertiesPanel:i,propertiesPanelProps:a}){return t?o.jsxs("div",{className:"flex flex-col items-center py-4",children:[o.jsx("button",{onClick:()=>l(!1),className:"p-2 rounded-md hover:bg-gray-100 text-gray-600",title:f("Show Properties"),children:o.jsx("iconify-icon",{icon:"mdi:chevron-left",width:"20",height:"20"})}),o.jsx("button",{onClick:()=>l(!1),className:"mt-2 p-2 rounded-md hover:bg-gray-50 text-gray-600",title:f("Show Properties"),children:o.jsx("iconify-icon",{icon:"mdi:cog",width:"20",height:"20"})})]}):o.jsxs("div",{className:"flex flex-col h-full pt-4 pr-4 pb-4 pl-2 overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 pl-2",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:f("Properties")}),o.jsx("button",{onClick:()=>l(!0),className:"p-1 rounded-md hover:bg-gray-100 text-gray-500",title:f("Hide Properties"),children:o.jsx("iconify-icon",{icon:"mdi:chevron-right",width:"18",height:"18"})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto pl-2",children:o.jsx(i,{...a})})]})}function iC({isOpen:t,onClose:l,onAddBlock:i,context:a}){return t?o.jsxs("div",{className:"lg:hidden fixed inset-0 z-50",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:l}),o.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-72 bg-white shadow-xl flex flex-col animate-slide-in-left",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:f("Blocks")}),o.jsx("button",{onClick:l,className:"p-1.5 rounded-md hover:bg-gray-100 text-gray-500",children:o.jsx("iconify-icon",{icon:"mdi:close",width:"20",height:"20"})})]}),o.jsx("div",{className:"flex-1 p-4 overflow-hidden",children:o.jsx(Xf,{onAddBlock:c=>{i(c),l()},context:a})})]})]}):null}function sC({isOpen:t,onClose:l,context:i,isEmailContext:a,isPostContext:c,templateName:d,setTemplateName:p,templateSubject:m,setTemplateSubject:g,title:y,setTitle:b,postTypeModel:v,PropertiesPanel:j,propertiesPanelProps:E}){return t?o.jsxs("div",{className:"lg:hidden fixed inset-0 z-50",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:l}),o.jsxs("div",{className:"absolute right-0 top-0 bottom-0 w-80 bg-white shadow-xl flex flex-col animate-slide-in-right",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:f("Properties")}),o.jsx("button",{onClick:l,className:"p-1.5 rounded-md hover:bg-gray-100 text-gray-500",children:o.jsx("iconify-icon",{icon:"mdi:close",width:"20",height:"20"})})]}),o.jsxs("div",{className:"flex-1 px-4 py-4 overflow-y-auto",children:[a&&o.jsxs("div",{className:"md:hidden mb-4 pb-4 border-b border-gray-200",children:[o.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:f("Template Details")}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f("Name")}),o.jsx("input",{type:"text",value:d,onChange:L=>p(L.target.value),placeholder:f("Template name..."),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-primary focus:border-primary"})]}),i==="email"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f("Subject")}),o.jsx("input",{type:"text",value:m,onChange:L=>g(L.target.value),placeholder:f("Email subject..."),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-primary focus:border-primary"})]})]})]}),c&&o.jsxs("div",{className:"md:hidden mb-4 pb-4 border-b border-gray-200",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f("Title")}),o.jsx("input",{type:"text",value:y,onChange:L=>b(L.target.value),placeholder:f(":type title...").replace(":type",v?.label_singular||"Post"),className:"form-control w-full"})]}),o.jsx(j,{...E})]})]})]}):null}function aC({onOpenLeftDrawer:t,onOpenRightDrawer:l}){return o.jsxs("div",{className:"lg:hidden fixed bottom-4 left-4 right-4 z-40 flex justify-between pointer-events-none",children:[o.jsxs("button",{onClick:t,className:"pointer-events-auto flex items-center gap-2 px-4 py-2.5 bg-primary text-white rounded-lg shadow-lg hover:bg-primary/90 transition-colors",children:[o.jsx("iconify-icon",{icon:"mdi:plus-box-multiple",width:"20",height:"20"}),o.jsx("span",{className:"text-sm font-medium",children:f("Blocks")})]}),o.jsxs("button",{onClick:l,className:"pointer-events-auto flex items-center gap-2 px-4 py-2.5 bg-gray-700 text-white rounded-lg shadow-lg hover:bg-gray-800 transition-colors",children:[o.jsx("iconify-icon",{icon:"mdi:cog",width:"20",height:"20"}),o.jsx("span",{className:"text-sm font-medium",children:f("Properties")})]})]})}function cC({onSave:t,onImageUpload:l,onVideoUpload:i,listUrl:a,showHeader:c=!0,templateData:d,postData:p,taxonomies:m,selectedTerms:g,parentPosts:y,reporters:b,postTypeMeta:v,postType:j,postTypeModel:E,statuses:L,PropertiesPanelComponent:S}){const{state:C,actions:k,canUndo:$,canRedo:T,undo:R,redo:O,getHtml:F,getSaveData:z,context:W}=zi(),{blocks:Y,selectedBlockId:K,canvasSettings:G,isDirty:M}=C;Em({enableKeyboardShortcuts:!0});const{addBlockAfterSelected:Z}=Tm(),te=W==="email"||W==="campaign",se=W==="page"||W==="post",{templateName:me,templateSubject:de,templateStatus:U,templateDirty:ee,setTemplateName:V,setTemplateSubject:A,setTemplateStatus:H,markEmailSaved:oe}=$m({templateData:d,isEmailContext:te}),{title:ne,slug:pe,status:ae,excerpt:ke,publishedAt:ye,parentId:Ce,reporterId:Se,postTypeMeta:kt,seoData:ze,selectedTerms:pt,featuredImage:je,removeFeaturedImage:ht,postDirty:Gt,setTitle:Ct,setSlug:mn,setStatus:$n,setExcerpt:ct,setPublishedAt:Dt,setParentId:xn,setReporterId:fr,setPostTypeMeta:pr,setSeoData:Ar,setSelectedTerms:_r,setFeaturedImage:Xt,setRemoveFeaturedImage:Pt,generateSlug:yn,markPostSaved:vn}=Rm({postData:{...p,post_type_meta:v},initialSelectedTerms:g,isPostContext:se}),{findBlock:gt,handleUpdateBlock:hr,handleDeleteBlock:Br,handleDeleteNestedBlock:Dr,handleMoveBlock:gr,handleMoveNestedBlock:Hn,handleDuplicateBlock:mr,handleDuplicateNestedBlock:Fn,handleAddBlock:Wn,handleInsertBlockAfter:xr,handleReplaceBlock:bn}=Lm({blocks:Y,actions:k,addBlockAfterSelected:Z}),{activeId:Ie,handleDragStart:tt,handleDragEnd:nt,customCollisionDetection:Mt}=Im({blocks:Y,actions:k}),ut=eg(Zh(Xa,{activationConstraint:{distance:8}})),rt=gt(K),[mt,Yt]=x.useState(!1),[_e,St]=x.useState(null),[ot,$t]=x.useState(!1),[Ot,zt]=x.useState(!1),[xt,ln]=x.useState(!1),[Un,Hi]=x.useState(!1),[wn,kn]=x.useState("visual"),[Rn,Pr]=x.useState(""),[ul,dl]=x.useState("desktop"),jt=x.useCallback((be,Ne,Ue)=>{St({variant:be,title:Ne,message:Ue})},[]),Mr=M||ee||Gt;x.useEffect(()=>{const be=Ne=>{if(Mr)return Ne.preventDefault(),Ne.returnValue="",""};return window.addEventListener("beforeunload",be),()=>window.removeEventListener("beforeunload",be)},[Mr]),x.useEffect(()=>{const be=Ne=>{if(!K)return;const Ue=document.activeElement;if(Ue?.tagName==="INPUT"||Ue?.tagName==="TEXTAREA"||Ue?.isContentEditable||Ue?.closest('[contenteditable="true"]')||Ue?.closest(".ProseMirror")||Ue?.closest(".ql-editor")||Ue?.closest('[data-text-editing="true"]'))return;let Cn=!1,Sn=null,Ln=null,sn=Y.findIndex(Ht=>Ht.id===K);if(sn===-1)for(const Ht of Y){if(Ht.type==="columns"&&Ht.props.children)for(let Ft=0;Ft<Ht.props.children.length;Ft++){const gl=Ht.props.children[Ft].findIndex(Vi=>Vi.id===K);if(gl!==-1){Cn=!0,Sn=Ht.id,Ln=Ft,sn=gl;break}}if(Cn)break}if((Ne.key==="Backspace"||Ne.key==="Delete")&&(Ne.preventDefault(),Cn&&Sn!==null&&Ln!==null?k.deleteNestedBlock(Sn,Ln,K):k.deleteBlock(K)),Ne.key==="Enter"&&(Ne.preventDefault(),Xe.get("text"))){const Ft=Xe.createInstance("text",{content:""});Cn&&Sn!==null&&Ln!==null?k.addNestedBlock(Sn,Ln,Ft,sn+1):k.addBlock(Ft,sn+1)}};return window.addEventListener("keydown",be),()=>window.removeEventListener("keydown",be)},[K,Y,k]);const fl=x.useCallback(be=>{if(be==="code"&&wn==="visual"){const Ne=F();Pr(Ne)}else be==="visual"&&wn==="code"&&(Rn.trim()||k.setBlocks([]));kn(be)},[wn,F,Rn,k]),Fi=x.useCallback(()=>{Rn.trim()||k.setBlocks([]),kn("visual")},[Rn,k]),Wi=x.useCallback(async()=>{const be=JSON.stringify(Y,null,2);await navigator.clipboard.writeText(be),jt("success",f("Copied!"),f("All blocks copied to clipboard"))},[Y,jt]),He=x.useCallback(be=>{try{const Ne=JSON.parse(be);Array.isArray(Ne)&&(Ne.forEach(Ue=>{if(Ue.type){const Ve=Xe.createInstance(Ue.type,Ue.props);Ve&&k.addBlock(Ve)}}),jt("success",f("Pasted!"),f(":count blocks pasted").replace(":count",Ne.length)))}catch{if(wn==="code")Pr(be),jt("success",f("Pasted!"),f("HTML content pasted"));else{const Ue=Xe.createInstance("html",{code:be});Ue&&(k.addBlock(Ue),jt("success",f("Pasted!"),f("HTML block created")))}}},[k,wn,jt]),Ui=x.useCallback(be=>{!Array.isArray(be)||be.length===0||(be.forEach(Ne=>{Ne&&k.addBlock(Ne)}),jt("success",f("AI Content Inserted"),f(":count blocks added").replace(":count",be.length)))},[k,jt]),go=x.useCallback(be=>{Pr(be)},[]),pl=async()=>{if(te&&!me.trim()){jt("error",f("Validation Error"),f("Template name is required"));return}if(se&&!ne.trim()){jt("error",f("Validation Error"),f("Title is required"));return}fe.doAction(ve.ACTION_BEFORE_SAVE,C),Yt(!0);try{const be=wn==="code"?Rn:F(),Ne=z();let Ue={};if(te)Ue={name:me,subject:de||me,is_active:U,body_html:be,design_json:Ne};else if(se){const Sn={};Object.entries(pt).forEach(([Ln,sn])=>{Sn[`taxonomy_${Ln}`]=sn}),Ue={title:ne,slug:pe||void 0,status:ae,excerpt:ke,content:be,design_json:Ne,published_at:ae==="scheduled"?ye:void 0,parent_id:Ce||void 0,reporter_id:Se||void 0,post_type_meta:kt||void 0,seo_title:ze?.seo_title||void 0,seo_description:ze?.seo_description||void 0,seo_keywords:ze?.seo_keywords||void 0,index:ze?.index,follow:ze?.follow,featured_image:je||void 0,remove_featured_image:ht,...Sn}}const Ve=await t(Ue);k.markSaved(),te?oe():se&&vn();const Cn=!!(d?.uuid||p?.id);jt("success",f(Cn?"Saved":"Created"),Ve?.message||f(Cn?"Saved successfully!":"Created successfully!")),fe.doAction(ve.ACTION_AFTER_SAVE,Ve),Cn||(Ve?.id&&a?setTimeout(()=>{window.location.href=`${a.replace(/\/$/,"")}/${Ve.id}/edit`},500):Ve?.redirect&&setTimeout(()=>{window.location.href=Ve.redirect},500))}catch(be){jt("error",f("Save Failed"),be.message||f("Failed to save")),fe.doAction(ve.ACTION_SAVE_ERROR,be)}finally{Yt(!1)}},Or=x.useMemo(()=>{const be={email:{title:f("Email Builder"),backText:f("Back to Templates"),saveText:f("Save")},page:{title:f("Page Builder"),backText:E?.label?f("Back to :type").replace(":type",E.label):f("Back to Posts"),saveText:p?.id?f("Update"):f("Publish")},post:{title:f("Post Builder"),backText:E?.label?f("Back to :type").replace(":type",E.label):f("Back to Posts"),saveText:p?.id?f("Update"):f("Publish")},campaign:{title:f("Campaign Editor"),backText:f("Back to Campaign"),saveText:f("Save")}};return fe.applyFilters(`${ve.FILTER_CONFIG}.${W}`,be[W]||be.email)},[W,E,p]),hl=S||qk,yr={selectedBlock:rt,onUpdate:hr,onImageUpload:l,onVideoUpload:i,canvasSettings:G,onCanvasSettingsUpdate:k.updateCanvasSettings};return te?Object.assign(yr,{templateName:me,setTemplateName:V,templateSubject:de,setTemplateSubject:A,templateStatus:U,setTemplateStatus:H,context:W}):se&&Object.assign(yr,{title:ne,setTitle:Ct,slug:pe,setSlug:mn,generateSlug:yn,status:ae,setStatus:$n,excerpt:ke,setExcerpt:ct,publishedAt:ye,setPublishedAt:Dt,parentId:Ce,setParentId:xn,reporterId:Se,setReporterId:fr,postTypeMeta:kt,setPostTypeMeta:pr,seoData:ze,setSeoData:Ar,selectedTerms:pt,setSelectedTerms:_r,featuredImage:je,setFeaturedImage:Xt,removeFeaturedImage:ht,setRemoveFeaturedImage:Pt,taxonomies:m,parentPosts:y,reporters:b,postTypeModel:E,statuses:L,postData:p,postType:j}),o.jsxs(tm,{sensors:ut,collisionDetection:Mt,onDragStart:tt,onDragEnd:nt,children:[o.jsx("style",{children:`
                @keyframes slideInLeft {
                    from { transform: translateX(-100%); }
                    to { transform: translateX(0); }
                }
                @keyframes slideInRight {
                    from { transform: translateX(100%); }
                    to { transform: translateX(0); }
                }
                .animate-slide-in-left {
                    animation: slideInLeft 0.2s ease-out forwards;
                }
                .animate-slide-in-right {
                    animation: slideInRight 0.2s ease-out forwards;
                }
            `}),o.jsxs("div",{className:"h-screen flex flex-col bg-gray-100",children:[c&&o.jsx("div",{onClick:()=>k.selectBlock(null),children:o.jsx(nC,{listUrl:a,isFormDirty:Mr,labels:Or,isPostContext:se,isEmailContext:te,templateData:d,postData:p,postTypeModel:E,canUndo:$,canRedo:T,undo:R,redo:O,title:ne,setTitle:Ct,excerpt:ke,setExcerpt:ct,templateName:me,setTemplateName:V,saving:mt,onSave:pl,editorMode:wn,onEditorModeChange:fl,onCopyAllBlocks:Wi,onPasteBlocks:He,onInsertAIContent:Ui})}),o.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[o.jsx(aC,{onOpenLeftDrawer:()=>$t(!0),onOpenRightDrawer:()=>zt(!0)}),o.jsx("div",{className:`hidden lg:flex bg-white border-r border-gray-200 overflow-hidden flex-col flex-shrink-0 transition-all duration-200 ${xt?"w-12":"w-64"}`,onClick:()=>k.selectBlock(null),children:o.jsx(oC,{collapsed:xt,setCollapsed:ln,onAddBlock:Wn,context:W})}),o.jsx(iC,{isOpen:ot,onClose:()=>$t(!1),onAddBlock:Wn,context:W}),wn==="visual"?o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx("div",{className:"flex items-center justify-center gap-1 py-2 px-4 bg-gray-100 border-b border-gray-200",onClick:()=>k.selectBlock(null),children:o.jsx("div",{className:"flex items-center bg-white rounded-lg shadow-sm border border-gray-200 p-0.5",children:["desktop","tablet","mobile"].map(be=>o.jsxs("button",{type:"button",onClick:()=>dl(be),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-xs font-medium transition-colors ${ul===be?"bg-primary text-white":"text-gray-600 hover:bg-gray-100"}`,title:f(`${be.charAt(0).toUpperCase()+be.slice(1)} Preview`),children:[o.jsx("iconify-icon",{icon:`mdi:${be==="desktop"?"monitor":be==="tablet"?"tablet":"cellphone"}`,width:"16",height:"16"}),o.jsx("span",{className:"hidden sm:inline",children:f(be.charAt(0).toUpperCase()+be.slice(1))})]},be))})}),o.jsx(Qk,{blocks:Y,selectedBlockId:K,onSelect:k.selectBlock,onUpdate:hr,onDelete:Br,onDeleteNested:Dr,onMoveBlock:gr,onDuplicateBlock:mr,onMoveNestedBlock:Hn,onDuplicateNestedBlock:Fn,onInsertBlockAfter:xr,onReplaceBlock:bn,canvasSettings:G,previewMode:ul,context:W})]}):o.jsx(Zk,{html:Rn,onHtmlChange:go,canvasSettings:G,onExitCodeEditor:Fi}),o.jsx("div",{className:`hidden lg:flex bg-white border-l border-gray-200 overflow-hidden flex-col flex-shrink-0 transition-all duration-200 ${Un?"w-12":"w-80"}`,children:o.jsx(lC,{collapsed:Un,setCollapsed:Hi,PropertiesPanel:hl,propertiesPanelProps:yr})}),o.jsx(sC,{isOpen:Ot,onClose:()=>zt(!1),context:W,isEmailContext:te,isPostContext:se,templateName:me,setTemplateName:V,templateSubject:de,setTemplateSubject:A,title:ne,setTitle:Ct,postTypeModel:E,PropertiesPanel:hl,propertiesPanelProps:yr})]})]}),o.jsx(ym,{children:Ie&&Ie.toString().startsWith("palette-")&&o.jsx("div",{className:"p-4 bg-white border-2 border-primary rounded-lg shadow-lg opacity-80",children:o.jsx("span",{className:"text-sm font-medium",children:Xe.get(Ie.replace("palette-",""))?.label})})}),o.jsx(Jk,{toast:_e,onClose:()=>St(null)})]})}function mC({context:t="post",initialData:l=null,onSave:i,onImageUpload:a,onVideoUpload:c,listUrl:d,config:p={},showHeader:m=!0,templateData:g,postData:y=null,taxonomies:b=[],selectedTerms:v={},parentPosts:j={},reporters:E=[],postTypeMeta:L={},postType:S="post",postTypeModel:C={},statuses:k={},PropertiesPanelComponent:$}){return x.useEffect(()=>{fe.doAction(ve.ACTION_INIT,{context:t,initialData:l})},[]),o.jsx(jm,{context:t,initialData:l,config:p,children:o.jsx(cC,{onSave:i,onImageUpload:a,onVideoUpload:c,listUrl:d,showHeader:m,templateData:g,postData:y,taxonomies:b,selectedTerms:v,parentPosts:j,reporters:E,postTypeMeta:L,postType:S,postTypeModel:C,statuses:k,PropertiesPanelComponent:$})})}class Yf{constructor(l){this.context=l}getDefaultSettings(){return{}}generateHtml(l,i={}){const a={...this.getDefaultSettings(),...i};fe.doAction(ve.ACTION_HTML_BEFORE_GENERATE,l,a,this.context);const c=l.map(p=>this.generateBlockHtml(p,{settings:a,allBlocks:l})).join("");let d=this.wrapOutput(c,a);return d=fe.applyFilters(ve.FILTER_HTML_GENERATED,d,l,a,this.context),fe.doAction(ve.ACTION_HTML_AFTER_GENERATE,d,l,a,this.context),d}generateBlockHtml(l,i={}){throw new Error("generateBlockHtml must be implemented by subclass")}wrapOutput(l,i){return l}isBlockSupported(l){return!0}getPreviewStyles(){return""}}class Qf extends Yf{constructor(){super("email")}getDefaultSettings(){return{width:"700px",backgroundColor:"#f3f4f6",backgroundImage:"",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",contentBackgroundColor:"#ffffff",contentBackgroundImage:"",contentBackgroundSize:"cover",contentBackgroundPosition:"center",contentBackgroundRepeat:"no-repeat",contentPadding:"32px",contentMargin:"40px",contentBorderWidth:"0px",contentBorderColor:"#e5e7eb",contentBorderRadius:"8px",fontFamily:"Arial, sans-serif"}}generateBlockHtml(l,i={}){const{type:a,props:c}=l,d=c?.layoutStyles,p={...i,generateBlockHtml:(g,y)=>this.generateBlockHtml(g,y)},m=Xe.get(a);if(m?.save?.email){let g=m.save.email(c,p);return g=this._wrapWithLayoutStyles(g,d),g=fe.applyFilters(Pa(ve.FILTER_HTML_BLOCK,a),g,c,p),g=fe.applyFilters(`builder.email.block.${a}`,g,c,p),g}return console.warn(`[EmailAdapter] No HTML generator found for block type: ${a}`),""}_wrapWithLayoutStyles(l,i){const a=Ai(i);return a?`<table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td style="${a}">${l}</td></tr></table>`:l}wrapOutput(l,i){const a=i.width||"600px",c=i.contentPadding||"40px",d=i.contentMargin||"40px",p=i.layoutStyles?.background||{},m=i.layoutStyles?.border||{},g=i.layoutStyles?.boxShadow||{};let y="background-color: #f4f4f4;",b=`background-color: ${p.color||"#ffffff"};`;p.image&&(b+=` background-image: url('${p.image}'); background-size: ${p.size||"cover"}; background-position: ${p.position||"center"}; background-repeat: ${p.repeat||"no-repeat"};`);const v=m.width?.top||"0px",j=m.color||"#e5e7eb",E=v!=="0px"?`border: ${v} ${m.style||"solid"} ${j};`:"",L=m.radius?.topLeft||"8px";let S="";return g.blur&&g.blur!=="0px"&&(S=`box-shadow: ${g.inset?"inset ":""}${g.x||"0px"} ${g.y||"0px"} ${g.blur||"0px"} ${g.spread||"0px"} ${g.color||"rgba(0, 0, 0, 0.1)"};`),`
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Email</title>
    <!--[if mso]>
    <noscript>
        <xml>
            <o:OfficeDocumentSettings>
                <o:PixelsPerInch>96</o:PixelsPerInch>
            </o:OfficeDocumentSettings>
        </xml>
    </noscript>
    <![endif]-->
</head>
<body style="margin: 0; padding: 0; ${y}">
    <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0" style="${y}">
        <tr>
            <td align="center" style="padding: ${d} 20px;">
                <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0" style="max-width: ${a}; ${b} border-radius: ${L}; ${E} ${S}">
                    <tr>
                        <td style="padding: ${c};">
                            ${l}
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</body>
</html>
        `.trim()}}class uC extends Yf{constructor(){super("page")}getDefaultSettings(){return{width:"100%",maxWidth:"1200px",backgroundColor:"#ffffff",contentPadding:"24px",fontFamily:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',fontSize:"16px",lineHeight:"1.6",textColor:"#1f2937"}}generateBlockHtml(l,i={}){const{type:a,props:c,id:d}=l,p={...i,blockId:d,generateBlockHtml:(y,b)=>this.generateBlockHtml(y,{...b,allBlocks:i.allBlocks})},m=Xe.get(a);if(m?.save?.page){let y=m.save.page(c,p);return y=fe.applyFilters(Pa(ve.FILTER_HTML_BLOCK,a),y,c,p),y=fe.applyFilters(`builder.page.block.${a}`,y,c,p),y}let g=this._generateFallbackBlockHtml(l,p);return g=fe.applyFilters(Pa(ve.FILTER_HTML_BLOCK,a),g,c,p),g=fe.applyFilters(`builder.page.block.${a}`,g,c,p),g}_wrapWithLayoutStyles(l,i,a=""){const d=[Ai(i),a].filter(Boolean).join("; ");return d?`<div class="lb-layout-wrapper" style="${d}">${l}</div>`:l}_generateFallbackBlockHtml(l,i={}){const{type:a,props:c}=l;return a==="section"?this._generateSectionHtml(c,i):(console.warn(`[WebAdapter] No HTML generator found for block type: ${a}`),"")}_generateSectionHtml(l,i){const a=`lb-block lb-section${l.customClass?` ${l.customClass}`:""}`,c=Ai(l?.layoutStyles),d=l?.customCSS||"",p=[`padding: ${l.padding||"40px 20px"}`];l.layoutStyles?.background?.color||p.push(`background-color: ${l.backgroundColor||"transparent"}`),l.backgroundImage&&!l.layoutStyles?.background?.image&&(p.push(`background-image: url('${l.backgroundImage}')`),p.push(`background-size: ${l.backgroundSize||"cover"}`),p.push(`background-position: ${l.backgroundPosition||"center"}`));const m=[c,p.join("; "),d].filter(Boolean).join("; "),g=(l.children||[]).map(y=>this.generateBlockHtml(y,i)).join("");return`
            <section class="${a}" style="${m}">
                <div style="max-width: ${l.maxWidth||"1200px"}; margin: 0 auto;">
                    ${g}
                </div>
            </section>
        `}wrapOutput(l,i){return`<div class="lb-content">${l}</div>`}generateStandalonePage(l,i={}){const a={...this.getDefaultSettings(),...i},c=l.map(j=>this.generateBlockHtml(j,{settings:a})).join(""),d=a.fontFamily||'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',p=a.fontSize||"16px",m=a.lineHeight||"1.6",g=a.textColor||"#1f2937",y=a.backgroundColor||"#ffffff",b=a.maxWidth||"1200px",v=a.contentPadding||"24px";return`
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Page</title>
    <style>
        * { box-sizing: border-box; }
        body {
            margin: 0;
            padding: 0;
            font-family: ${d};
            font-size: ${p};
            line-height: ${m};
            color: ${g};
            background-color: ${y};
        }
        img { max-width: 100%; height: auto; }
        a { color: inherit; }
        .lb-content {
            max-width: ${b};
            margin: 0 auto;
            padding: ${v};
        }
        .lb-heading { margin: 0 0 16px 0; }
        .lb-text { margin: 0 0 16px 0; }
        .lb-image-wrapper { margin: 0 0 16px 0; }
        .lb-button:hover { opacity: 0.9; }
        .lb-columns { margin: 0 0 16px 0; }
        @media (max-width: 768px) {
            .lb-columns { flex-direction: column; }
            .lb-column { flex: none !important; width: 100% !important; }
        }
    </style>
</head>
<body>
    <div class="lb-content">
        ${c}
    </div>
</body>
</html>
        `.trim()}getPreviewStyles(){return`
            .lb-heading { margin: 0 0 16px 0; }
            .lb-text { margin: 0 0 16px 0; }
            .lb-image-wrapper { margin: 0 0 16px 0; }
            .lb-button:hover { opacity: 0.9; }
            .lb-columns { margin: 0 0 16px 0; }
        `}}uo.register("email",new Qf);uo.register("page",new uC);uo.register("campaign",new Qf);export{Ci as L,qk as P,fC as R,f as _,pC as a,dC as b,hC as c,mC as d,Xe as e,x as f,Am as i,o as j,ol as m,gC as r};
