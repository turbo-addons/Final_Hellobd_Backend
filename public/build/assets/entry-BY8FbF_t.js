import{j as e,P as S,_ as a,L as U,R,a as D,b as T,r as O,i as L,c as P,d as C,e as F}from"./index-XqqjbCUG.js";const B=({selectedBlock:d,onUpdate:t,onImageUpload:p,onVideoUpload:h,canvasSettings:o,onCanvasSettingsUpdate:l,templateName:g,setTemplateName:b,templateSubject:u,setTemplateSubject:y,templateStatus:c,setTemplateStatus:j,context:x})=>{const w=s=>{l({...o,layoutStyles:s})};return d?e.jsx(S,{selectedBlock:d,onUpdate:t,onImageUpload:p,onVideoUpload:h,canvasSettings:o,onCanvasSettingsUpdate:l}):e.jsxs("div",{className:"h-full overflow-y-auto px-1",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"mb-4 pb-2 border-b border-gray-200",children:e.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:a("Template Details")})}),x==="email"&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a("Subject")}),e.jsx("input",{type:"text",value:u,onChange:s=>y(s.target.value),placeholder:a("Email subject..."),className:"form-control"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:a("Leave empty to use template name as subject")})]}),x==="email"&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a("Status")}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c,onChange:s=>j(s.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"relative w-11 h-6 bg-gray-200 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"}),e.jsx("span",{className:"ms-2 text-sm text-gray-600",children:c?a("Active"):a("Inactive")})]})})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"mb-4 pb-2 border-b border-gray-200",children:e.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:a("Email Settings")})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a("Email Width")}),e.jsxs("select",{value:o?.width||"700px",onChange:s=>l({...o,width:s.target.value}),className:"form-control",children:[e.jsxs("option",{value:"500px",children:["500px (",a("Narrow"),")"]}),e.jsxs("option",{value:"600px",children:["600px (",a("Standard"),")"]}),e.jsxs("option",{value:"700px",children:["700px (",a("Wide"),")"]}),e.jsxs("option",{value:"800px",children:["800px (",a("Extra Wide"),")"]})]})]})]}),e.jsx(U,{layoutStyles:o?.layoutStyles||{},onUpdate:w,onImageUpload:p,defaultCollapsed:!1}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsx("p",{className:"text-xs text-gray-400 text-center",children:a("Click the block to edit")})})]})};typeof window<"u"&&(window.React=R,window.ReactDOM=D,window.ReactJSXRuntime=T);O(F);function k(d="lara-builder-root"){const t=document.getElementById(d);if(!t)return console.warn(`LaraBuilder: Mount element #${d} not found`),null;const p=t.dataset.context||"post",h=t.dataset.initialData?JSON.parse(t.dataset.initialData):null,o=t.dataset.templateData?JSON.parse(t.dataset.templateData):null,l=t.dataset.saveUrl,g=t.dataset.listUrl,b=t.dataset.uploadUrl,u=t.dataset.videoUploadUrl,y=t.dataset.showHeader!=="false",c=t.dataset.redirectUrl||null,j=t.dataset.translations?JSON.parse(t.dataset.translations):window.__translations||{};L(j);const x=!!o?.uuid,w=async m=>{if(!l)throw new Error("Save URL is not configured");const i=document.querySelector('meta[name="csrf-token"]')?.content,n=await fetch(l,{method:x?"PUT":"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":i,Accept:"application/json"},body:JSON.stringify(m)}),r=await n.json();if(!n.ok)throw new Error(r.message||"Failed to save");return c&&r.id&&(r.redirect=c),r},s=async m=>{if(!b)throw new Error("Upload URL is not configured");const i=document.querySelector('meta[name="csrf-token"]')?.content,n=new FormData;n.append("image",m);const r=await fetch(b,{method:"POST",headers:{"X-CSRF-TOKEN":i,Accept:"application/json"},body:n});if(!r.ok){const f=await r.json();throw new Error(f.message||"Failed to upload image")}return r.json()},E=async(m,i=null)=>{if(!u)throw new Error("Video upload URL is not configured");const n=document.querySelector('meta[name="csrf-token"]')?.content,r=new FormData;r.append("video",m),i&&r.append("thumbnail",i);const f=await fetch(u,{method:"POST",headers:{"X-CSRF-TOKEN":n,Accept:"application/json"},body:r}),v=await f.json();if(!f.ok)throw new Error(v.message||"Failed to upload video");return v},N=P.createRoot(t);return N.render(e.jsx(C,{context:p,initialData:h,templateData:o,listUrl:g,onSave:w,onImageUpload:s,onVideoUpload:E,showHeader:y,PropertiesPanelComponent:B})),N}document.addEventListener("DOMContentLoaded",()=>{document.getElementById("lara-builder-root")&&k("lara-builder-root"),document.getElementById("email-builder-root")&&k("email-builder-root")});
